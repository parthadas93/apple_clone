(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[2],{10:function(e,t,n){"use strict";t.a={INITIAL_DISPOSITION_DATA:"initialDispositionData",DISPOSITION_DATA:"dispositionData",SEARCH_ORDER_DATA:"searchOrderData",SCHEDULE_ORDER_DATA:"scheduleOrderData",SELECTED_TILE_DATA:"SelectedTileData",DISPOSITION_METHOD:"dispositionMethod",SEARCH_ORDER_USER_ADDRESS:"userAddress",SCHEDULE_ORDER_TIME_DATA:"scheduleOrderSelectedDateTime",CLOSED:"CLOSED",SCHEDULE_ORDER_TIME_PRESERVE_DATE:"scheduleOrderPreserveDate",SCHEDULE_ORDER_TIME_PRESERVE_TIME:"scheduleOrderPreserveTime",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP",TYPE_DINE_IN:"DINE-IN",PICK_UP:"pickup",TAKE_AWAY:"takeaway",DINE_IN:"dine-in",MENU_URL:"/menu",PDP_URL:"/pdp",SET_DISPOSITION:"SET_DISPOSITION",CART_STATES_DATA:"CART_STATES_DATA",CONFIRM_UPSIZE_ANALYTICS:"CONFIRM_UPSIZE_ANALYTICS",LANGUAGE_SELECTOR:"LANGUAGE_SELECTOR",LANGUAGE_UPDATED:"LANGUAGE_UPDATED",ADD_TO_CART_CLICK:"ADD_TO_CART_CLICK",USER_LOCALIZED:"USER_LOCALIZED",PLP_PDP_DETAILS:"PLP_PDP_DETAILS",VISIBLE:"visible",HIDDEN:"hidden",ANALYTICS_LOCALISATION_SIGNIN:"localisationSignIn",AUTO:"auto",SHOW_CLEAR_CART_ALERT:"SHOW_CLEAR_CART_ALERT",CLEAR_CART_CONFIRM_CANCEL_MODAL:"CLEAR_CART_CONFIRM_CANCEL_MODAL",clearCartChangeFlag:"FromChange",orderTypeAlertTitle:"OrderType",searchStoreAlertTitle:"SearchStore",clearCartExposedFlag:"FromExposed",CURRENT_STORE_INFO:"currentStoreInfo",MINI_PDP_DATA:"MINI_PDP_DATA",FROMFLAGEDIT:"fromEdit",FROMFLAGPLP:"fromPLP",EDIT_CLICKED:"EDIT_CLICKED",INDIA:"INDIA",HIDDEN_TEXT:"hiddenText",TENDER_DATA:"TENDER_DATA",PAYMENET_FORM_PAYLOAD:"PAYMENET_FORM_PAYLOAD",ORDER_LOOKUP:"Order Lookup",SHOW_CART_ERROR_MODAL:"SHOW_CART_ERROR_MODAL",CART_DATA_ERROR_RESET:"CART_DATA_ERROR_RESET",SET_FORCERELOAD:"SET_FORCERELOAD"}},105:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o}));var a=20,i=5e3,c=15e3,o=18e4},11:function(e,t,n){"use strict";var a=n(68);n.d(t,"a",(function(){return a.a}))},114:function(e,t,n){"use strict";t.a={contentData:{searchStoreHeaderText:"selectKFC",deliveryHeaderText:"deliveryAddress",searchStoreModalContent:{formContent:{memberText:"alreadyMember",singInLink:{linkUrl:null,linkText:"signIn",targetType:"_blank"},currentLocationText:"storeUseMyLocation",addressBoxPlaceHolderForSearchStore:"addressBoxPlaceHolderForSearchStore",addressBoxPlaceHolderForDelivery:"enterYourDeliveryAddress",mapText:"map",numberOfStoreText:"nearYou"},locationsContent:{storeData:[{map:{mapText:"Map",mapUrl:""},facilities:{washroom:!0,wheelchair:!0,wifi:!0},buttonData:{scheduleOrderButtonData:{buttonText:"Schedule Order",display:!0},orderNowButtonData:{buttonText:"Order Now",display:!0}}}]}}}}},121:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(36),i=n(6),c=n.n(i),o=n(13),r=n(2),s=n(37),d=n(29),l=n(3),u=n(27),b=n(30),v=n(31),j=function(e,t,n,a,i,c,o,s){var d={cartList:[],cartSummary:{},tenantId:n,country:s},l=e.id;return d.cartList=n&&o&&m(t,n,a,o),d.bucketId=l,d.cartSummary=Object(r.a)({},O(e,t,a,i,c)),d},O=function(e,t,n,a,i){var c=e||[],o=c.inclusiveTaxTotal,r=void 0===o?0:o,s=c.additionalChargeLines,d=void 0===s?[]:s,l=c.discountLines,u=void 0===l?[]:l,b=(null===e||void 0===e?void 0:e.subtotal)||(null===e||void 0===e?void 0:e.subTotal),v=(t&&t.filter((function(e){var t,n,c,o;return!e.toRemove&&(null===(t=e.newFoodLineItem)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.name)!==a&&(null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.name)!==i}))).reduce((function(e,t){var n;return+e+ +(null===(n=t.newFoodLineItem)||void 0===n?void 0:n.quantity)}),0),j=d&&d.map((function(e){return{chargeType:(null===e||void 0===e?void 0:e.chargeType)||"Additional-Charges",amount:(+(null===e||void 0===e?void 0:e.amount)/n||0).toFixed(2)}})),O=u.length&&u.map((function(e){var t,a,i,c="";if(null===e||void 0===e||null===(t=e.basicErrors)||void 0===t?void 0:t.length)c=null===e||void 0===e||null===(i=e.basicErrors[0])||void 0===i?void 0:i.message;else if(null===e||void 0===e||null===(a=e.promoConditionStatus)||void 0===a?void 0:a.length){var o,r,s=null===e||void 0===e?void 0:e.promoConditionStatus.filter((function(e){return!(null===e||void 0===e?void 0:e.isValidCondition)}));c=(null===s||void 0===s?void 0:s.length)?null===(o=s[0])||void 0===o||null===(r=o.displayMessage[0])||void 0===r?void 0:r.value:""}return{couponCode:(null===e||void 0===e?void 0:e.couponCode)||"Discount-Code",amount:(+(null===e||void 0===e?void 0:e.amount)/n||0).toFixed(2),status:e.status.name,isError:"APPLIED"!==String(e.status.name).toUpperCase(),errorMessages:c}})),m=(+(null===e||void 0===e?void 0:e.additionalChargeTotal)/n||0).toFixed(2);return{cartId:(null===e||void 0===e?void 0:e.id)||"",catalog:null===e||void 0===e?void 0:e.catalog,quantity:v,taxAmounts:(r/n||0).toFixed(2),additionalCharges:j,totalAdditionalCharges:m,discountAmounts:O,subTotal:(+b/n||0).toFixed(2),totalAmount:(+(null===e||void 0===e?void 0:e.total)/n||0).toFixed(2),recommendedItems:(null===e||void 0===e?void 0:e.recommendedItems)||[]}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return e&&e.length&&e.map((function(e){var i,c,o,r,s,d,l,u,j,O,m,p,h,g,N,x,E,I,T,C,S,A,y,D,_,R,w;return{foodLineId:null===e||void 0===e||null===(i=e.newFoodLineItem)||void 0===i?void 0:i.id,foodItemId:null===e||void 0===e||null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.id,name:null===e||void 0===e||null===(r=e.newFoodLineItem)||void 0===r||null===(s=r.item)||void 0===s?void 0:s.name,foodName:null===e||void 0===e||null===(d=e.newFoodLineItem)||void 0===d||null===(l=d.item)||void 0===l||null===(u=l.dname[0])||void 0===u?void 0:u.value,quantity:null===e||void 0===e||null===(j=e.newFoodLineItem)||void 0===j?void 0:j.quantity,unitPrice:(null===e||void 0===e||null===(O=e.newFoodLineItem)||void 0===O?void 0:O.unitPrice)/n,imageData:{src:"".concat(Object(b.a)(v.M)).concat(t,"/images/items/").concat(a,"/").concat(null===e||void 0===e||null===(m=e.newFoodLineItem)||void 0===m||null===(p=m.item)||void 0===p||null===(h=p.imageName[0])||void 0===h?void 0:h.value,".jpg"),altText:null===e||void 0===e||null===(g=e.newFoodLineItem)||void 0===g||null===(N=g.item)||void 0===N||null===(x=N.dname[0])||void 0===x?void 0:x.value},modifiers:f(null===e||void 0===e||null===(E=e.newFoodLineItem)||void 0===E||null===(I=E.item)||void 0===I?void 0:I.modGrps),shortDescription:null===e||void 0===e||null===(T=e.newFoodLineItem)||void 0===T||null===(C=T.item)||void 0===C||null===(S=C.shortDescription[0])||void 0===S?void 0:S.value,customizable:null===e||void 0===e||null===(A=e.newFoodLineItem)||void 0===A||null===(y=A.item)||void 0===y?void 0:y.customizable,toRemove:null===e||void 0===e?void 0:e.toRemove,requireModification:null===e||void 0===e?void 0:e.requireModification,menuPrice:null===e||void 0===e?void 0:e.menuPrice,cartPrice:null===e||void 0===e?void 0:e.cartPrice,discountComponents:null===e||void 0===e||null===(D=e.newFoodLineItem)||void 0===D?void 0:D.discountComponents,priceWithOutTax:(null===e||void 0===e||null===(_=e.newFoodLineItem)||void 0===_||null===(R=_.item)||void 0===R?void 0:R.unitPrice)/n,taxAmount:(null===e||void 0===e||null===(w=e.newFoodLineItem)||void 0===w?void 0:w.taxAmount)/n}}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0?e.map((function(e){var t;return null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.dname[0])||void 0===t?void 0:t.value})).join(", ")})).join(", ").split(", "):[]},p=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var i,r,u,b=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.length>2&&void 0!==b[2]?b[2]:[],r=s.a.ANALYTICS_EVENTS,t!==r.EDIT){e.next=6;break}return e.next=5,d.a.registerEvent(t,{"%event%":"editCartItem"},l.D);case 5:return e.abrupt("return");case 6:return u=n.map(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a,o,r,s,d,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(null===i||void 0===i?void 0:i.find((function(e){return e.products.find((function(e){return e.name===t.foodName}))})))||{},r=o.id,s=void 0===r?"NA":r,d=o.name,u=void 0===d?"NA":d,e.abrupt("return",{item_name:(null===t||void 0===t?void 0:t.foodName)||"NA",item_id:"".concat((null===t||void 0===t?void 0:t.foodItemId)||"NA"),price:(null===t||void 0===t?void 0:t.unitPrice)||"NA",item_category:u,item_variant:Object(l.Bb)(null===t||void 0===t?void 0:t.modifiers)?"NA":null===t||void 0===t||null===(a=t.modifiers)||void 0===a?void 0:a.reduce((function(e,t){return e+"".concat(t,", ")}),""),item_list_name:u,item_list_id:s,index:n,quantity:"".concat((null===t||void 0===t?void 0:t.quantity)||"NA")});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=9,d.a.registerEvent(t,{data:{event:t,ecommerce:Object(a.a)({},t,{items:u})}},l.D);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){return!!e&&Object(u.j)(e)>s.a.CART_EXPIRE_TIME_HRS},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null===e||void 0===e?void 0:e.map((function(e){var a,i,c=null!==(a=null===n||void 0===n?void 0:n[e.foodItemId])&&void 0!==a?a:{},o=c.categoryId,r=void 0===o?"NA":o,s=c.categoryName,d=void 0===s?"NA":s;return{item_name:(null===e||void 0===e?void 0:e.foodName)||"NA",item_id:"".concat((null===e||void 0===e?void 0:e.foodItemId)||"NA"),price:Object(l.q)(t,"removeAllQty","quantityModified",null===e||void 0===e?void 0:e.cartPrice,(null===e||void 0===e?void 0:e.cartPrice)/(null===e||void 0===e?void 0:e.quantity)),item_category:d,item_variant:Object(l.Bb)(null===e||void 0===e?void 0:e.modifiers)?"NA":null===e||void 0===e||null===(i=e.modifiers)||void 0===i?void 0:i.reduce((function(e,t){return e+"".concat(t,", ")}),""),item_list_name:d,item_list_id:r,index:1,quantity:Object(l.q)(t,"removeAllQty","quantityModified",null===e||void 0===e?void 0:e.quantity,1)}}))}},14:function(e,t,n){"use strict";var a=n(176);n.d(t,"a",(function(){return a.a}))},15:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return y}));var a=n(6),i=n.n(a),c=n(13),o=n(94),r=n(93),s=n(51),d=n(54),l=n(350),u=n(8),b=n(60),v=n(207),j=n(30),O=n(31),m=n(56),f=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"paymentStatusOlo",get:function(){return this._data.has(this.KEY_PAYMENT_OLO)||this._data.set(this.KEY_PAYMENT_OLO,!1),this._data.get(this.KEY_PAYMENT_OLO)}},{key:"paymentStatusChannel",get:function(){return this._data.has(this.KEY_PAYMENT_CHANNEL)||this._data.set(this.KEY_PAYMENT_CHANNEL,!1),this._data.get(this.KEY_PAYMENT_CHANNEL)}},{key:"orderStatusOlo",get:function(){return this._data.has(this.KEY_ORDER_OLO)||this._data.set(this.KEY_ORDER_OLO,!1),this._data.get(this.KEY_ORDER_OLO)}},{key:"orderStatusChannel",get:function(){return this._data.has(this.KEY_ORDER_CHANNEL)||this._data.set(this.KEY_ORDER_CHANNEL,!1),this._data.get(this.KEY_ORDER_CHANNEL)}},{key:"transactionId",get:function(){return this._data.get(this.KEY_TRANSACTION_ID)},set:function(e){this._data.set(this.KEY_TRANSACTION_ID,e)}},{key:"payment",get:function(){return this._data.get(this.KEY_PAYMENT)},set:function(e){this._data.set(this.KEY_PAYMENT,e)}},{key:"paymentStatusGoogle",get:function(){return this._data.get(this.KEY_PAYMENT_STATUS_GOOGLE)},set:function(e){var t,n;if(null===e||void 0===e||null===(t=e.paymentMethodData)||void 0===t||null===(n=t.tokenizationData)||void 0===n?void 0:n.token){var a=JSON.parse(e.paymentMethodData.tokenizationData.token);if(null===a||void 0===a?void 0:a.signedMessage){var i,c=JSON.parse(a.signedMessage);this._data.set(this.KEY_PAYMENT_STATUS_GOOGLE,null===c||void 0===c||null===(i=c.paymentMethodDetails)||void 0===i?void 0:i.status)}}}},{key:"shouldGoogleSpotIgnoreOloFailure",get:function(){return console.log("ChannelManager.isGoogle",p.isGoogle),!!p.isGoogle&&("false"===Object(j.a)(O.v)&&p.paymentStatusGoogle===u.o.Status.Pass)}},{key:"googlePhoneToken",get:function(){return this._data.get(this.KEY_GOOGLE_PHONE_TOKEN)},set:function(e){this._data.set(this.KEY_GOOGLE_PHONE_TOKEN,e)}},{key:"oloPhoneToken",get:function(){return this._data.get(this.KEY_OLO_PHONE_TOKEN)},set:function(e){this._data.set(this.KEY_OLO_PHONE_TOKEN,e)}},{key:"oloPaymentInitializer",get:function(){return this._data.get(this.KEY_OLO_PAYMENT_INITIALIZER)},set:function(e){this._data.set(this.KEY_OLO_PAYMENT_INITIALIZER,e)}},{key:"enableFeedback",value:function(){this._data.set(this.KEY_FEEDBACK,!0)}},{key:"disableFeedback",value:function(){this._data.set(this.KEY_FEEDBACK,!1)}},{key:"enabledFakeSolution",value:function(){this._data.set(this.KEY_FAKE_SOLUTIONS,!0)}},{key:"disableFakeSolution",value:function(){this._data.set(this.KEY_FAKE_SOLUTIONS,!1)}}]),e}();f._data=new Map,f.DEFAULT_HEADER="userAgent",f.DEFAULT_NULL="-",f.DEFAULT_BUILD="21.07.19.03.17.2",f.KEY_CHANNEL="data.channel",f.KEY_ADDRESS="data.address",f.KEY_COORDINATES="data.coordinates",f.KEY_EMAIL="data.email",f.KEY_NAME="data.name",f.KEY_PHONE="data.phone",f.KEY_ORDER_ID="data.order.id",f.KEY_STORE_ID="data.store.id",f.KEY_BASKET_ID="data.basket.id",f.KEY_CUSTOMER_ID="data.customer.id",f.KEY_TRANSACTION_ID="data.transaction.id",f.KEY_TAXES="data.taxes",f.KEY_DISCOUNT="data.discount",f.KEY_TOTAL="data.total",f.KEY_SETUP_GOOGLE="setup.google",f.KEY_DEBUG="enable.debug",f.KEY_FAKE_SOLUTIONS="enable.fake.solutions",f.KEY_PAYMENT="data.payment",f.KEY_PAYMENT_STATUS_GOOGLE="data.payment.status.google",f.KEY_GOOGLE_PHONE_TOKEN="data.google.phone.token",f.KEY_OLO_PHONE_TOKEN="data.olo.phone.token",f.KEY_OLO_PAYMENT_INITIALIZER="data.olo.payment.initializer",f.KEY_FEEDBACK_COUNT="data.feedback.counter",f.KEY_PAYMENT_OLO="status.payment.olo",f.KEY_PAYMENT_CHANNEL="status.payment.channel",f.KEY_ORDER_OLO="status.order.olo",f.KEY_ORDER_CHANNEL="status.order.channel",f.STORAGE_PHONE="storage.phone",f.KEY_FEEDBACK="enable.feedback",f.isGoogleSetup=function(){var e;return null!==(e=f._data.get(f.KEY_SETUP_GOOGLE))&&void 0!==e&&e},f.isPhoneSetup=function(){var e;return!p.isGoogle||!!(null===(e=window)||void 0===e?void 0:e.microapps)},f.isDebugEnabled=function(){var e;return null!==(e=p._data.get(f.KEY_DEBUG))&&void 0!==e&&e},f.isFeedbackEnabled=function(){var e;return null!==(e=f._data.get(f.KEY_FEEDBACK))&&void 0!==e&&e},f.isFakeSolutionEnabled=function(){var e;return null!==(e=f._data.get(f.KEY_FAKE_SOLUTIONS))&&void 0!==e&&e},f.feedbackCount=function(){return f._data.get(f.KEY_FEEDBACK_COUNT)||f._data.set(f.KEY_FEEDBACK_COUNT,0),f._data.set(f.KEY_FEEDBACK_COUNT,f._data.get(f.KEY_FEEDBACK_COUNT)+1),f._data.get(f.KEY_FEEDBACK_COUNT)},f.addFeedback=function(e){if(p.isDebugEnabled()||f.isFeedbackEnabled()){var t,n,a=document.createElement("p");"string"===typeof e?n=document.createTextNode("".concat(f.feedbackCount(),": ").concat(e)):e instanceof Error&&(n=document.createTextNode("".concat(f.feedbackCount(),": ").concat(e.stack)),a.style.borderRadius="0.3125rem",a.style.backgroundColor="#ff00001a"),a.appendChild(n),null===(t=document.getElementById("test-feedback"))||void 0===t||t.appendChild(a),console.log("[[ CM ]]",e)}};var p=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"channel",get:function(){return this._data.has(this.KEY_CHANNEL)||this.BindUserAgent(),this._data.get(this.KEY_CHANNEL)}},{key:"address",get:function(){return this._data.get(this.KEY_ADDRESS)}},{key:"coordinates",get:function(){return this._data.get(this.KEY_COORDINATES)}},{key:"name",get:function(){return this._data.get(this.KEY_NAME)}},{key:"email",get:function(){return this._data.get(this.KEY_EMAIL)}},{key:"phone",get:function(){var e,t=null!==(e=localStorage.getItem(this.STORAGE_PHONE))&&void 0!==e?e:this._data.get(this.KEY_PHONE);return t&&localStorage.setItem(this.STORAGE_PHONE,t),t}},{key:"orderId",get:function(){return this.isFakeSolutionEnabled()?(this.addFeedback("Channel Manager is OVERRIDING order id with ".concat(u.o.Debug.Google.BasketId)),u.o.Debug.Google.OrderId):this._data.get(this.KEY_ORDER_ID)},set:function(e){this._data.set(this.KEY_ORDER_ID,e)}},{key:"storeId",get:function(){return this._data.get(this.KEY_STORE_ID)}},{key:"basketId",get:function(){return this.isFakeSolutionEnabled()?(this.addFeedback("Channel Manager is OVERRIDING basket id with ".concat(u.o.Debug.Google.BasketId)),u.o.Debug.Google.BasketId):this._data.get(this.KEY_BASKET_ID)}},{key:"customerId",get:function(){return this._data.get(this.KEY_CUSTOMER_ID)}},{key:"taxes",get:function(){if(!this._data.get(this.KEY_TAXES)){this._data.set(this.KEY_TAXES,{gst:0,cgst:0,sgst:0,igst:0,cess:0})}return this._data.get(this.KEY_TAXES)}},{key:"discount",get:function(){var e;return null!==(e=this._data.get(this.KEY_DISCOUNT))&&void 0!==e?e:0}},{key:"total",get:function(){var e;return null!==(e=this._data.get(this.KEY_TOTAL))&&void 0!==e?e:0}},{key:"isBrowser",get:function(){return this.channel===u.o.VIEWPORT_CHANNEL_BROWSER}},{key:"isGoogle",get:function(){return this.channel===u.o.VIEWPORT_CHANNEL_GOOGLE}},{key:"isPhonePe",get:function(){return this.channel===u.o.VIEWPORT_CHANNEL_PHONE_PE}},{key:"isPayTm",get:function(){return this.channel===u.o.VIEWPORT_CHANNEL_PAY_TM}},{key:"status",get:function(){return n.isGoogle?this.paymentStatusOlo:null}},{key:"enableGoogleDebug",value:function(){this._data.set(this.KEY_ADDRESS,u.o.Debug.Google.Address),this._data.set(this.KEY_COORDINATES,u.o.Debug.Google.Coordinates),this._data.set(this.KEY_NAME,u.o.Debug.Google.Name),this._data.set(this.KEY_EMAIL,u.o.Debug.Google.Email),this._data.set(this.KEY_PHONE,u.o.Debug.Google.Phone),this.enableDebug(),this.enableFeedback(),this.setForGoogle()}},{key:"enableDebug",value:function(){this._data.set(this.KEY_DEBUG,!0),document.body.classList.add(u.o.VIEWPORT_CLASSNAME_DEBUG)}},{key:"disableDebug",value:function(){this._data.set(this.KEY_DEBUG,!1),document.body.classList.remove(u.o.VIEWPORT_CLASSNAME_DEBUG)}},{key:"BindUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(n.enableGoogleDebug(),this._data.delete(this.KEY_CHANNEL)),!this._data.get(this.KEY_CHANNEL)){var a,i,c,o,r,s,d,b,v;if(e)o="".concat(null!==(r=null===e||void 0===e?void 0:e[this.DEFAULT_HEADER])&&void 0!==r?r:null).toLowerCase();if(!l)null!==(s=o)&&void 0!==s||(o="".concat(null!==(d=null===(b=window)||void 0===b||null===(v=b.navigator)||void 0===v?void 0:v.userAgent)&&void 0!==d?d:null).toLowerCase());(null===(a=o)||void 0===a?void 0:a.includes(u.o.VIEWPORT_AGENT_GOOGLE.toLowerCase()))?this.setForGoogle():(null===(i=o)||void 0===i?void 0:i.includes(u.o.VIEWPORT_AGENT_PHONE_PE.toLowerCase()))?this.setForPhonePe():(null===(c=o)||void 0===c?void 0:c.includes(u.o.VIEWPORT_AGENT_PAY_TM.toLowerCase()))?this.setForPayTm():this.setForBrowser()}}},{key:"BindLocation",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=7;break}return e.next=3,g.Coordinates();case 3:return e.next=5,g.Address();case 5:case 12:e.next=18;break;case 7:if(!n.isPhonePe){e.next=14;break}return e.next=10,N.Coordinates();case 10:return e.next=12,N.Address();case 14:return e.next=16,h.Coordinates();case 16:return e.next=18,h.Address();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"BindPhone",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=3;break}return e.next=3,g.Phone();case 3:return e.abrupt("return",this.phone);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"BindUser",value:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=7;break}return e.next=3,g.User();case 3:return e.next=5,h.User();case 5:e.next=10;break;case 7:if(!n.isPhonePe){e.next=10;break}return e.next=10,N.User(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"BindPayment",value:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parseInitializer(t),!n.isGoogle){e.next=8;break}return this.addFeedback("Channel manager is about to call google manager - payment..."),e.next=5,g.Payment();case 5:this.addFeedback("Channel manager has finished calling google manager - payment..."),e.next=9;break;case 8:this.addFeedback("Channel manager has chosen to SKIP payment...");case 9:this.addFeedback("Looks like the await finished for bind payment");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"BindOrder",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=5;break}return e.next=3,g.Order();case 3:return e.next=5,h.Order();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(f);p.setForGoogle=function(){p._data.set(p.KEY_CHANNEL,u.o.VIEWPORT_CHANNEL_GOOGLE),document.body.classList.add(u.o.VIEWPORT_CLASSNAME_GOOGLE)},p.setForPhonePe=function(){p._data.set(p.KEY_CHANNEL,u.o.VIEWPORT_CHANNEL_PHONE_PE),document.body.classList.add(u.o.VIEWPORT_CLASSNAME_PHONE_PE)},p.setForPayTm=function(){p._data.set(p.KEY_CHANNEL,u.o.VIEWPORT_CHANNEL_PAY_TM),document.body.classList.add(u.o.VIEWPORT_CLASSNAME_PAY_TM)},p.setForBrowser=function(){p._data.set(p.KEY_CHANNEL,u.o.VIEWPORT_CHANNEL_BROWSER),document.body.classList.add(u.o.VIEWPORT_CLASSNAME_BROWSER)},p.parseInitializer=function(e){var t,n;p.oloPaymentInitializer=e,p.transactionId=null===e||void 0===e||null===(t=e.allowedPaymentMethods)||void 0===t||null===(n=t[0].parameters)||void 0===n?void 0:n.transactionId},p.bindGooglePaySpotJS=function(){if(!p.isGoogleSetup()){var e,t=document.createElement("script");t.src=u.o.Setting.Google.Source,document.body.appendChild(t),p.addFeedback("the google pay spot script has been added to the dom..."),p._data.set(p.KEY_SETUP_GOOGLE,!0);try{var n;(null===(n=window)||void 0===n?void 0:n.microapps)||(e=setInterval((function(){var t,n;p.addFeedback("Checking micro apps: "+((null===(t=window)||void 0===t?void 0:t.microapps)?"Pass":"Fail")),(null===(n=window)||void 0===n?void 0:n.microapps)&&(p.addFeedback("Interval cleared: ".concat(e)),clearInterval(e))}),u.o.Setting.Interval),p.addFeedback("Interval added: ".concat(e)))}catch(a){console.log("Exception in function bindGooglePaySpotJS.")}}};var h=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s,d,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use coordinates from olo - ".concat(p.channel,"...")),!(null===(t=navigator)||void 0===t?void 0:t.geolocation)){e.next=19;break}return e.prev=2,r=function(e){return new Promise((function(t,n){return navigator.geolocation.getCurrentPosition(null!==t&&void 0!==t?t:null,null!==n&&void 0!==n?n:null,e)}))},s={enableHighAccuracy:u.o.Setting.Accuracy,timeout:u.o.Setting.Timeout,maximumAge:u.o.Setting.Expiration},e.next=7,r(s);case 7:d=e.sent,l={longitude:null!==(n=null===d||void 0===d||null===(a=d.coords)||void 0===a?void 0:a.longitude)&&void 0!==n?n:null,latitude:null!==(c=null===d||void 0===d||null===(o=d.coords)||void 0===o?void 0:o.latitude)&&void 0!==c?c:null},this._data.set(this.KEY_COORDINATES,l),this.addFeedback("Channel manager is saving coordinates from olo - ".concat(p.channel,"... ").concat(p.coordinates)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception coordinates from olo - ".concat(p.channel,"...")),this.addFeedback(e.t0);case 17:e.next=20;break;case 19:this.addFeedback("Channel manager has chosen to SKIP coordinates from olo - ".concat(p.channel,"..."));case 20:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.coordinates){e.next=6;break}return t={lat:p.coordinates.latitude,lng:p.coordinates.longitude},e.next=4,Object(b.e)(t);case 4:n=e.sent,this._data.set(this.KEY_ADDRESS,n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addFeedback("Channel manager has chosen to use user from olo - ".concat(p.channel,"...")),this.addFeedback("Channel manager is saving user name from olo - ".concat(p.channel,"... ").concat(p.name)),this.addFeedback("Channel manager is saving user email from olo - ".concat(p.channel,"... ").concat(p.email));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Order",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addFeedback("Channel manager has chosen to use order from olo - ".concat(p.channel,"...")),this._data.set(this.KEY_ORDER_OLO,!0),this.addFeedback("Channel manager is saving order status olo - ".concat(p.channel,"... ").concat(this.orderStatusOlo));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(f),g=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use coordinates from google - ".concat(p.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=15;break}return e.prev=2,e.t0=this._data,e.t1=this.KEY_COORDINATES,e.next=7,null===(n=window.microapps)||void 0===n?void 0:n.getCurrentLocation();case 7:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2),e.next=15;break;case 11:e.prev=11,e.t3=e.catch(2),this.addFeedback("Channel manager hit an exception coordinates from google - ".concat(p.channel,"...")),this.addFeedback(e.t3);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use address from google - ".concat(p.channel,"...")),e.next=3,h.Address();case 3:this.addFeedback("Channel manager is saving address from google - ".concat(p.channel,"... ").concat(p.address));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Phone",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use phone from google - ".concat(p.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=26;break}return e.prev=2,c={nonce:u.o.Setting.Google.Nonce,skipPrompt:!u.o.Setting.Google.Prompt},this.addFeedback("Channel manager is about to call google - phone api..."),this.addFeedback("Channel manager is sending phone request to google - ".concat(p.channel,"... ").concat(JSON.stringify(c))),e.next=8,null===(n=window.microapps)||void 0===n?void 0:n.getPhoneNumber(c);case 8:o=e.sent,r=JSON.parse(atob(o.split(".")[1])),s=null===r||void 0===r||null===(a=r.phone_number)||void 0===a?void 0:a.split(" ")[1],localStorage.setItem(this.STORAGE_PHONE,s),this.googlePhoneToken=o,this._data.set(this.KEY_PHONE,s),this.addFeedback("Channel manager is receiving phone request from google - ".concat(p.channel,"... ").concat(o)),this.addFeedback("Phone number ".concat(s,"...")),this.addFeedback("Phone number saved..."),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception phone from google - ".concat(p.channel,"...")),this.addFeedback(e.t0),p.isDebugEnabled()&&(this.googlePhoneToken=u.o.Debug.Google.Token.Phone,this.addFeedback("Channel manager is OVERRIDING phone for google - ".concat(p.channel,"... ").concat(this.googlePhoneToken)));case 24:e.next=27;break;case 26:this.addFeedback("Channel manager has chosen to SKIP phone from google - ".concat(p.channel,"..."));case 27:case"end":return e.stop()}}),e,this,[[2,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use user from google - ".concat(p.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=24;break}return e.prev=2,a={nonce:u.o.Setting.Google.Nonce,skipPrompt:!u.o.Setting.Google.Prompt},e.next=6,null===(n=window.microapps)||void 0===n?void 0:n.getIdentity(a);case 6:c=e.sent,o=JSON.parse(atob(c.split(".")[1])),r=null===o||void 0===o?void 0:o.name,s=null===o||void 0===o?void 0:o.email,this._data.set(this.KEY_NAME,r),this._data.set(this.KEY_EMAIL,s),this.addFeedback("Channel manager identity debug data ".concat(c,"...")),this.addFeedback("User name ".concat(r,"...")),this.addFeedback("User email ".concat(s,"...")),this.addFeedback("User name and email saved..."),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception user from google - ".concat(p.channel,"...")),this.addFeedback(e.t0);case 22:e.next=25;break;case 24:this.addFeedback("Channel manager has chosen to SKIP user from google - ".concat(p.channel,"..."));case 25:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"Payment",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use payment from google - ".concat(p.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=24;break}return e.prev=2,this.addFeedback("Channel manager is sending request... ".concat(JSON.stringify(this.oloPaymentInitializer))),e.next=6,null===(n=window.microapps)||void 0===n?void 0:n.requestPayment(this.oloPaymentInitializer);case 6:a=e.sent,c=JSON.stringify(a),this.addFeedback("Channel manager received google payment response... ".concat(c)),this.paymentStatusGoogle=a,this.payment=c,this.addFeedback("Channel manager is saving payment status ".concat(p.channel,"... ").concat(this.paymentStatusGoogle)),this.addFeedback("Channel manager payment debug data ".concat(a,"...")),this.addFeedback("Channel manager has active payment data... ".concat(JSON.stringify(this.payment))),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception payment from google - ".concat(p.channel,"...")),this.addFeedback(e.t0),this.payment=e.t0,p.isDebugEnabled()&&(o=u.o.Debug.Google.Payment.Response,this.paymentStatusGoogle=o,this.payment=JSON.stringify(o),this._data.set(this.KEY_PAYMENT_CHANNEL,!0),this.addFeedback("Channel manager is OVERRIDING payment for google - ".concat(p.channel,"... ").concat(this.paymentStatusChannel)));case 22:e.next=25;break;case 24:this.addFeedback("Channel manager has chosen to SKIP payment from google - ".concat(p.channel,"..."));case 25:case"end":return e.stop()}}),e,this,[[2,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"Order",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s,d,l,u,b,v,j,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use order from google - ".concat(p.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=23;break}return e.prev=2,v=document.querySelector('[alt="KFC LOGO"]'),j={title:"Transaction: ".concat(p.transactionId),subtitle:"Order: ".concat(p.orderId),imageUrl:"https://".concat(null===(n=window)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.host).concat(null===v||void 0===v?void 0:v.src),total:{currency:"INR",value:null!==(c=null===(o=this.oloPaymentInitializer)||void 0===o||null===(r=o.transactionInfo)||void 0===r?void 0:r.totalPrice)&&void 0!==c?c:0},status:{type:"COMPLETED"},payments:[{id:null!==(s=null===(d=this.oloPaymentInitializer)||void 0===d||null===(l=d.allowedPaymentMethods)||void 0===l||null===(u=l[0].parameters)||void 0===u?void 0:u.transactionReferenceId)&&void 0!==s?s:"ref-".concat((new Date).getTime())}],merchant:{id:"KFC"}},this.addFeedback("Channel manager is sending ".concat(p.channel," order request... ").concat(JSON.stringify(j))),e.next=8,null===(b=window.microapps)||void 0===b?void 0:b.createOrder(j);case 8:O=e.sent,this._data.set(this.KEY_ORDER_CHANNEL,!0),this.oloPaymentInitializer=null,this.addFeedback("Channel manager is receiving ".concat(p.channel," order request... ").concat(JSON.stringify(O))),this.addFeedback("Channel manager is saving order status ".concat(p.channel,"... ").concat(this.orderStatusChannel)),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(2),this.oloPaymentInitializer=null,this.addFeedback("Channel manager hit an exception from ".concat(p.channel," order request...")),this.addFeedback(e.t0),p.isDebugEnabled()&&(this._data.set(this.KEY_ORDER_CHANNEL,!0),this.addFeedback("Channel manager is OVERRIDING order status ".concat(p.channel,"... ").concat(this.orderStatusChannel)));case 21:e.next=24;break;case 23:this.addFeedback("Channel manager has chosen to SKIP from google - ".concat(p.channel,"..."));case 24:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(){return e.apply(this,arguments)}}()}]),n}(f),N=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use coordinates from phonepe - ".concat(p.channel,"...")),e.next=3,Object(v.a)();case 3:if(!e.sent){e.next=8;break}return e.next=6,h.Coordinates();case 6:e.next=9;break;case 8:console.log("User did not provide location permission");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use address from phonepe - ".concat(p.channel,"...")),e.next=3,h.Address();case 3:this.addFeedback("Channel manager is saving address from phonepe - ".concat(p.channel,"... ").concat(p.address));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}n=m.a.getInstance(),a=n.firstName,c=n.email,o=n.phoneNumber,this._data.set(this.KEY_NAME,a),this._data.set(this.KEY_EMAIL,c),this._data.set(this.KEY_PHONE,o),e.next=8;break;case 7:return e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(f),x=n(7),E=n(362),I=n.n(E),T={chrome:">=51",firefox:">=52",edge:">=14",safari:">=10"},C="min.supported.browser",S="is.browser.supported",A=new(function(){function e(){var t,n;Object(s.a)(this,e),this._data=new Map,this.browser=I.a.getParser(null===(t=window)||void 0===t||null===(n=t.navigator)||void 0===n?void 0:n.userAgent)}return Object(d.a)(e,[{key:"minSupportedBrowsers",get:function(){return this._data.get(C)},set:function(e){this._data.set(C,e)}},{key:"isBrowserSupported",get:function(){var e;return null!==(e=this._data.get(S))&&void 0!==e&&e},set:function(e){this._data.set(S,null!==e&&void 0!==e&&e)}},{key:"bind",value:function(e){var t;console.log("=============current user agent info: ",this.browser),console.log("=============current browser and version: ",this.browser.getBrowser()),e||(e=JSON.stringify(T));for(var n=JSON.parse(e),a=0,i=Object.entries(T);a<i.length;a++){var c=Object(x.a)(i[a],2),o=c[0],r=c[1];n["".concat(o)]||(n["".concat(o)]=r)}this.minSupportedBrowsers=n,console.log("=============minSupportedBrowsers: ",this.minSupportedBrowsers),this.isBrowserSupported=null===(t=this.browser.satisfies(this.minSupportedBrowsers))||void 0===t||t,console.log("=============satisfies? ",this.isBrowserSupported)}}]),e}());Object.freeze(A);var y=A},151:function(e,t,n){"use strict";t.a=n.p+"static/media/Icon_Add_to_Cart.58b87a9b.svg"},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m}));var a=n(7),i=n(1),c=n(26),o=n(2),r=n(10),s=n(38),d=n(37),l=n(48),u=n(45),b=n(92),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dispositionStateData:{},searchStoreData:{},scheduleOrderData:{},selectedTile:{},confirmUpsizeName:"none",dispositionOld:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:""},dispositionNew:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",selectedTime:""},pdpScreenCommons:{expandType:"all",currentAccordian:"",modGroupIdsUpdated:[]},cartAlertData:{showCartAlert:!1},cartItems:{currentEditItem:{},itemLocations:[]},cartStateData:{showCartState:!1},deliveryAddress:"",showLanguageSelector:!0,languageUpdationHappened:"",addToCart:!1,productItemId:"",categoryId:"",oldProduct:{},isLocalized:!1,customizable:!1,catalogs:"",fromPdpPage:!1,ProductDetails:{},showCouponCopied:!1,showCartClearAlert:!1,modalToOpenOnConfirm:"",modalOpenFrom:"",confirmCallBack:null,currentStoreInfo:null,minipdpData:{itemId:"",fromFlag:"",foodLineId:""},cartEditClicked:!1,deeplinkSelectedStoreId:"",deepLinkStoreMode:!1,showCartErrorModal:!1,forceReload:!1,pdpDeepLinking:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.a.INITIAL_DISPOSITION_DATA,a=r.a.DISPOSITION_DATA,i=r.a.SEARCH_ORDER_DATA,v=r.a.SCHEDULE_ORDER_DATA,j=r.a.DISPOSITION_METHOD,O=r.a.SEARCH_ORDER_USER_ADDRESS,m=r.a.SCHEDULE_ORDER_TIME_DATA,f=r.a.SCHEDULE_ORDER_TIME_PRESERVE_DATE,p=r.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,h=r.a.SELECTED_TILE_DATA,g=r.a.SET_DISPOSITION,N=r.a.CART_STATES_DATA,x=r.a.CONFIRM_UPSIZE_ANALYTICS,E=r.a.ADD_TO_CART_CLICK,I=r.a.USER_LOCALIZED,T=r.a.LANGUAGE_SELECTOR,C=r.a.LANGUAGE_UPDATED,S=r.a.PLP_PDP_DETAILS,A=r.a.SHOW_CLEAR_CART_ALERT,y=r.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,D=r.a.CURRENT_STORE_INFO,_=r.a.MINI_PDP_DATA,R=r.a.EDIT_CLICKED,w=r.a.TENDER_DATA,P=r.a.PAYMENET_FORM_PAYLOAD,L=r.a.SHOW_CART_ERROR_MODAL,k=r.a.SET_FORCERELOAD,M=s.a.CUSTM_EXPAND_TYPE,F=s.a.EXPAND_ACCORDIAN,H=s.a.MODGROUP_IDS_UPDATE,U=s.a.UPDATE_DEFAULT_MODGROUP,B=s.a.RESET_MODGROUP_IDS_UPDATE,G=s.a.SET_PDP_DEEPLINK_MODE,Y=d.a.CART_ALERT,K=d.a.SET_ADDED_LOCATION,V=b.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;switch(t.type){case n:var W=Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{contentData:Object(o.a)({},t.value)});return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:W});case a:var q=Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{showDisposition:t.value.showDisposition});return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:q});case j:return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{dispositionType:t.value.dispositionType})});case i:var z=Object(o.a)(Object(o.a)({},e.searchStoreData),{},{showSearchStore:t.value.showSearchStore,searchedPlaceNonLocalized:t.value.searchedPlaceNonLocalized});return Object(o.a)(Object(o.a)({},e),{},{searchStoreData:z});case O:return Object(o.a)(Object(o.a)({},e),{},{searchStoreData:Object(o.a)(Object(o.a)({},e.searchStoreData),{},{userAddress:t.value.userAddress})});case v:var Q=Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{showScheduleOrder:t.value.showScheduleOrder,storeInfo:t.value.selectedStoreInfo,changeFlow:t.value.changeFlow,isAddressFlow:t.value.isAddressFlow,deliveryAddress:t.value.deliveryAddress?t.value.deliveryAddress:e.scheduleOrderData.deliveryAddress});return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Q});case h:return Object(o.a)(Object(o.a)({},e),{},{selectedTile:t.value.selectedData});case m:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectedDateTimeInfo:t.value.selectedDateTime})});case f:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectContentData:Object(o.a)(Object(o.a)({},e.scheduleOrderData.selectContentData),{},{savedDate:t.value.selectContentDate})})});case p:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectContentData:Object(o.a)(Object(o.a)({},e.scheduleOrderData.selectContentData),{},{savedTime:t.value.selectContentTime})})});case M:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{expandType:t.value})});case F:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{currentAccordian:t.value})});case H:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:[].concat(Object(c.a)(e.pdpScreenCommons.modGroupIdsUpdated),[t.value])})});case U:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:t.value})});case B:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:[]})});case N:return Object(o.a)(Object(o.a)({},e),{},{cartStateData:{showCartState:t.value.showCartModal}});case x:return Object(o.a)(Object(o.a)({},e),{},{confirmUpsizeName:t.value.confirmUpsizeName});case g:return Object(o.a)(Object(o.a)({},e),{},{dispositionOld:Object(o.a)({},t.value.oldvalue),dispositionNew:Object(o.a)({},t.value.newValue)});case Y:return Object(o.a)(Object(o.a)({},e),{},{cartAlertData:{showCartAlert:t.value.showCartAlert}});case K:return Object(o.a)(Object(o.a)({},e),{},{cartItems:{currentEditItem:t.value.editItem,itemLocations:[].concat(Object(c.a)(e.cartItems.itemLocations),[t.value.itemLocation])}});case E:return Object(o.a)(Object(o.a)({},e),{},{addToCart:t.value.addToCart,productItemId:t.value.productItemId,categoryId:t.value.categoryId,oldProduct:t.value.oldProduct,customizable:t.value.customizable,catalogs:t.value.catalogs,fromPdpPage:t.value.fromPdpPage});case S:return Object(o.a)(Object(o.a)({},e),{},{ProductDetails:t.value});case I:return Object(o.a)(Object(o.a)({},e),{},{isLocalized:t.value.isLocalized});case T:return Object(o.a)(Object(o.a)({},e),{},{showLanguageSelector:t.value.showLanguageSelector});case C:return Object(o.a)(Object(o.a)({},e),{},{languageUpdationHappened:t.value.languageUpdationHappened});case l.r:return Object(o.a)(Object(o.a)({},e),{},{showCouponCopied:!0});case l.f:return Object(o.a)(Object(o.a)({},e),{},{showCouponCopied:!1});case A:return Object(o.a)(Object(o.a)({},e),{},{showCartClearAlert:t.value.showCartClearAlert});case y:return Object(o.a)(Object(o.a)({},e),{},{modalToOpenOnConfirm:t.value.modalToOpenOnConfirm,modalOpenFrom:t.value.modalOpenFrom,confirmCallBack:t.value.confirmCallBack});case D:return Object(o.a)(Object(o.a)({},e),{},{currentStoreInfo:t.value});case _:return Object(o.a)(Object(o.a)({},e),{},{minipdpData:{itemId:t.value.id,fromFlag:t.value.flag,foodLineId:t.value.foodLineId}});case R:return Object(o.a)(Object(o.a)({},e),{},{cartEditClicked:t.value.cartEditClicked});case u.n:return Object(o.a)(Object(o.a)({},e),{},{couponErrorMessage:t.value.couponErrorMessage});case u.o:return Object(o.a)(Object(o.a)({},e),{},{expiryMessage:t.value.expiryMessage});case w:return Object(o.a)(Object(o.a)({},e),{},{tenderInfo:t.value.tenderInfo,isPaymentAdded:t.value.isPaymentAdded});case P:return Object(o.a)(Object(o.a)({},e),{},{paymentFormPayload:t.value.paymentFormPayload});case V:return Object(o.a)(Object(o.a)({},e),{},{deepLinkStoreMode:t.value.deepLinkStoreMode,deeplinkSelectedStoreId:t.value.deeplinkSelectedStoreId});case G:return Object(o.a)(Object(o.a)({},e),{},{pdpDeepLinking:t.value.pdpDeepLinking});case L:return Object(o.a)(Object(o.a)({},e),{},{showCartErrorModal:t.value.showCartErrorModal});case k:return Object(o.a)(Object(o.a)({},e),{},{forceReload:t.value.forceReload});default:return e}},j=n(0),O=Object(i.createContext)({userOrderState:{},userOrderStateDispatch:function(){}}),m=function(e){var t=e.children,n=Object(i.useReducer)(v,{dispositionStateData:{contentData:{}},searchStoreData:{contentData:{},userAddress:""},scheduleOrderData:{changeFlow:!1,contentData:{},storeInfo:{},selectedDateTimeInfo:{time:"",interval:"",date:""},selectContentData:{savedDate:"",savedTime:""}},selectedTile:{},confirmUpsizeName:"none",dispositionOld:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:""},dispositionNew:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",selectedTime:""},pdpScreenCommons:{expandType:"all",currentAccordian:"",modGroupIdsUpdated:[]},cartAlertData:{showCartAlert:!1},cartItems:{currentEditItem:{},itemLocations:[]},cartStateData:{showCartState:!1},deliveryAddress:"",showLanguageSelector:!1,languageUpdationHappened:"",addToCart:!1,productItemId:"",categoryId:"",oldProduct:{},isLocalized:!1,customizable:!1,catalogs:"",fromPdpPage:!1,showCouponCopied:!1,showCartClearAlert:!1,modalToOpenOnConfirm:"",modalOpenFrom:"",currentStoreInfo:null,minipdpData:{itemId:"",fromFlag:"",foodLineId:""},cartEditClicked:!1,couponErrorMessage:"",tenderInfo:{name:"",payload:{}},isPaymentAdded:!1,paymentFormPayload:{},showCartErrorModal:!1,forceReload:!1}),c=Object(a.a)(n,2),o=c[0],r=c[1];return Object(j.jsx)(O.Provider,{value:{userOrderState:o,userOrderStateDispatch:r},children:t})}},176:function(e,t,n){"use strict";var a=n(2),i=n(1),c=n(7),o=n(99),r=n(0),s=["srcFile","isContentfulImage","defaultPath","alt","containerRef"],d=function(e){var t=e.srcFile,n=e.isContentfulImage,d=void 0!==n&&n,l=e.defaultPath,u=void 0===l?"":l,b=e.alt,v=void 0===b?"":b,j=e.containerRef,O=Object(o.a)(e,s),m=Object(i.useState)(null),f=Object(c.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)(!0),N=Object(c.a)(g,2),x=N[0],E=N[1];return Object(i.useEffect)((function(){d?(console.log("ImageCompItems: ".concat(j)),(null===j||void 0===j?void 0:j.clientWidth)>0&&h("".concat(t,"?w=").concat(j.clientWidth,"&fit=fill&fm=webp"))):h(t)}),[j,d,t]),p?Object(r.jsx)("img",Object(a.a)({onError:function(e){e.target.onerror=null,x&&(e.target.src=u),E(!1)},src:p,alt:v||""},O)):null},l=function(e,t){return Object(r.jsx)(d,Object(a.a)(Object(a.a)({},e),{},{containerRef:t}))};t.a=function(e){var t,n=Object(i.useRef)(null);return(null===e||void 0===e?void 0:e.isContentfulImage)?Object(r.jsx)("span",{ref:n,children:l(e,null===(t=n.current)||void 0===t?void 0:t.parentElement)}):l(e)}},207:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var a=n(6),i=n.n(a),c=n(13),o=n(147),r=n(53),s=function(e){var t=e.find((function(e){return String(e.permission)===o.PhonePe.Constants.Permission.LOCATION}));return Boolean(t&&(null===t||void 0===t?void 0:t.permissionGranted))},d=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PhonePe.PhonePe.build(o.PhonePe.Constants.Species.web);case 2:return t=e.sent,e.next=5,t.seekPermission([o.PhonePe.Constants.Permission.LOCATION]);case 5:return n=e.sent,e.abrupt("return",Boolean(n&&s(n)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e,t,n){console.log("reservationId::",e),console.log("fallbackURL::",t),o.PhonePe.PhonePe.build(o.PhonePe.Constants.Species.web).then((function(a){a.proceedToPay(e,t).then((function(e){console.log("Payment was successful = "+e),n(r.c.PHONEPE_SWITCH_CONSTANTS.SUCCESS)})).catch((function(e){console.log("Payment failed"+e),n(r.c.PHONEPE_SWITCH_CONSTANTS.FAILURE)}))}))}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));t.d={CLOSED:"CLOSED",SEARCH_IN_CART:"SEARCH_IN_CART",CANCEL:"cancelButtonText",SUBMIT:"Submit",OCCASSOIN_HEADING:"occasionGiveName",OREDER_PLACEHOLDER:"nameThisOrder",YOUR_ORDER:"yourOrder",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",GIFT_CARD:"giftCard",TOTAL:"total",COMPLETED:"completed",NO_ORDER_MSG:"noOrderFor12",REFUND_MSG:"refundMessage",HAVE_A_QUESTION:"haveAQuestion",CONNECT_WITH_SPECIALIST:"connectWithASpecialist",YOUR_PAST_ORDER:"yourPastOrder",LOOKING_FOR_OFFER:"lookingForSpecificOrder",ORDER_HISTORY_TAG:"orderHistory",REFUND_INIT:"refund-initiated",SCHEDULE:"scheduled",REORDER_TEXT:"reorderBtn",GOOD_EVE:"",MSG:"message",MY_FAV_MENU:"myFavorite",ADDRESS:"address",ACCOUNT_SETTING:"accoundSetting",SIGN_OUT:"signOut",REFUND_INIT_TEXT:"refundInitiated",ORDER:"order",TRACK_YOUR_ORDER:"trackYourOrder",AT:"at",GET_HELP:"getHelp",LOAD_MORE:"loadMore",VIEWED:"Viewed",OF:"of",ORDER_LOOKUP:"orderLookup",VIEW_MENU:"viewMenu",ADD_TO_OCCASION:"addToOccasion",VIEW_RECEIPT:"viewReceipt",SAVE:"save",EDIT_OCCASSION_DIALOG_TITLE:"Edit Occasion Name",OCCASSION_LABEL:"Occasion Name",SAME_OCCASSIONNAME_ERROR:"Occasion name already exists",EMPTY_OCCASSION_FIELD_ERROR:"Occasion name should not be empty",ADD_TO_CART_OCCASSION:"Add to Cart",STORE_CLOSED_BUTTON_TEXT:"storeClosedButtonText",ITEM_UNAVAILABLE:"Unavailable",VIEW_ORDER_HISTORY_BTN:"View Order History",MY_OCCASSION_TEXT:"My Occasions",MY_OCCASSION_UNAVAILABLE_TITLE:"You haven't created any occasions yet",DELETE_OCCASSION_TEXT:"Delete this Occassion",REORDER_OCCASSION:"Reorder",MY_FAVOURITE_MENU_TITLE_TEXT:"My Favorite Menu",MY_FAVOURITE_NO_ITEMS_TEXT:"You haven't favorited any items yet",MY_FAVOURITE_BROWSE_MENU:"Browse the menu",EDIT_ITEM_TEXT:"editItemText",MORNING:"morning",NOON:"noon",EVENING:"evening",ACCOUNT_FAV_PAGE:"Account - Favorite Menu",KFC_LOVER:"KFC LOVER",TODAY_AT:"todayAt",ADD_ITEM_TO_CART_TEXT:"addItemToCartText",LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",NAME_EXIST:"nameExistMsg",OCCASION_NAME_VALIDATION:"OccasionNameValidation",UNFAVOURITE_ITEM_MESSAGE:"unFavoriteItemMessage",ACCOUNT_ORDERS:"Account - Order History",TRACK_ORDER:"trackOrder",CANCELLED:"Cancelled",DELIVERED:"Delivered",PICK_UP:"PICK UP"};var a={ACCOUNT_SETTINGS_TEXT:"accoundSetting",DELETE_ACCOUNT_TEXT:"deleteAccount",EDIT_PERSONAL_INFO:"editPersonalInfo",FIRST_NAME_TEXT:"firstNamePlaceholder",LAST_NAME_TEXT:"lastNamePlaceHolder",EMAIL_TEXT:"emailPlaceholder",PHONE_NUMBER_TEXT:"phonePlaceholder",CANCEL:"cancelButtonText",SAVE:"save",PERSONAL_INFO_TEXT:"personalInfo",EDIT:"edit",DELETE_ACCOUNT_MESSAGE:"areYouSureToDeleteAccountText",CONFIRM:"confirm",emailHelpText:"emailHelpText",phoneHelpText:"phoneHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText"},i={COMMUNICATION_PREFERENCES_TEXT:"communicationPreferences",LEAVE:"leaveText",SAVE:"save"},c="https://"},217:function(e,t,n){"use strict";(function(e){var a=n(7),i=n(1),c=n(9),o=n(14),r=n(385),s=n(0),d=function(t){var n=t.isInProgress,d=Object(i.useRef)(null),l=Object(i.useState)(!1),u=Object(a.a)(l,2),b=u[0],v=u[1],j=Object(c.c)((function(t){var a;return null!==(a=function(t){var n,a,i,c,o,r,s,d,l,u,b,v,j,O,m,f,p,h,g,N,x,E,I,T,C,S,A,y,D,_,R,w,P,L,k,M,F,H,U,B,G,Y,K,V,W,q,z,Q,J,X,Z,$,ee;return"development"===(null===(n=e)||void 0===n||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===a?void 0:a.NODE_ENV)&&Object.values(t).forEach((function(e){Object.keys(e).filter((function(e){return/Loading$/.test(e)})).forEach((function(t){!0===e[t]&&console.log("".concat(t,": "),e[t])}))})),(null===(i=t.appConfigsReducer)||void 0===i?void 0:i.isLoading)||(null===(c=t.menuReducer)||void 0===c?void 0:c.isLoading)||(null===(o=t.menuReducer)||void 0===o?void 0:o.isItemDetailsLoading)||(null===(r=t.contentReducer)||void 0===r?void 0:r.isContentfulLoading)||(null===(s=t.profileReducer)||void 0===s?void 0:s.isLoading)||(null===(d=t.placesAutocompleteReducer)||void 0===d?void 0:d.isLoading)||(null===(l=t.placesAutocompleteReducer)||void 0===l?void 0:l.isPlacesReverseGeoLoading)||(null===(u=t.placesAutocompleteReducer)||void 0===u?void 0:u.isPlacesGeoLoading)||(null===(b=t.storesReducer)||void 0===b?void 0:b.isGoogleDistanceLoading)||(null===(v=t.storesReducer)||void 0===v?void 0:v.isStoreStatusLoading)||(null===(j=t.storesReducer)||void 0===j?void 0:j.isNearByStoresLoading)||(null===(O=t.storesReducer)||void 0===O?void 0:O.isStoreTimeSlotsLoading)||(null===(m=t.storesReducer)||void 0===m?void 0:m.isStoreDetailsLoading)||(null===(f=t.cartReducer)||void 0===f?void 0:f.isCouponLoading)||(null===(p=t.cartReducer)||void 0===p?void 0:p.getCouponLoading)||(null===(h=t.cartReducer)||void 0===h?void 0:h.isAddItemLoading)||(null===(g=t.cartReducer)||void 0===g?void 0:g.isRemoveItemLoading)||(null===(N=t.cartReducer)||void 0===N?void 0:N.isRemoveAllItemLoading)||(null===(x=t.cartReducer)||void 0===x?void 0:x.isUpdateQuantityLoading)||(null===(E=t.cartReducer)||void 0===E?void 0:E.isBasketDetailsLoading)||(null===(I=t.cartReducer)||void 0===I?void 0:I.isBasketLoading)||(null===(T=t.cartReducer)||void 0===T?void 0:T.isValidateBasketLoading)||(null===(C=t.giftCardPurchaseReducer)||void 0===C?void 0:C.isPurchaseLoading)||(null===(S=t.createBalanceReducer)||void 0===S?void 0:S.isGiftCardCheckLoading)||(null===(A=t.addHopeContentReducer)||void 0===A?void 0:A.isGetAddHopeContentLoading)||(null===(y=t.moreReducer)||void 0===y?void 0:y.isGetMoreContentLoading)||(null===(D=t.paymentsReducer)||void 0===D?void 0:D.isGetPaymentTendersLoading)||(null===(_=t.paymentsReducer)||void 0===_?void 0:_.isNetbankPaymentLoading)||(null===(R=t.paymentsReducer)||void 0===R?void 0:R.isGetNetBankLoading)||(null===(w=t.paymentsReducer)||void 0===w?void 0:w.isPaytmPaymentLoading)||(null===(P=t.paymentsReducer)||void 0===P?void 0:P.isPhonePeStatusLoading)||(null===(L=t.paymentsReducer)||void 0===L?void 0:L.isPhonePayLoading)||(null===(k=t.paymentsReducer)||void 0===k?void 0:k.isPaytmStatusLoading)||(null===(M=t.paymentsReducer)||void 0===M?void 0:M.isWalletsListLoading)||(null===(F=t.i18nReducer)||void 0===F?void 0:F.isI18Nloading)||(null===(H=t.privacyPolicyReducer)||void 0===H?void 0:H.isLoading)||(null===(U=t.termsOfUseReducer)||void 0===U?void 0:U.isLoading)||(null===(B=t.ourAdsReducer)||void 0===B?void 0:B.isLoading)||(null===(G=t.orderHistoryReducer)||void 0===G?void 0:G.orderHistoryLoading)||(null===(Y=t.orderHistoryReducer)||void 0===Y?void 0:Y.addFavouriteOrderLoading)||(null===(K=t.orderHistoryReducer)||void 0===K?void 0:K.deleteFavouriteOrderLoading)||(null===(V=t.paymentsGoogleSpotReducer)||void 0===V?void 0:V.isSpotLoading)||(null===(W=t.orderReducer)||void 0===W?void 0:W.isPlaceOrder)||(null===(q=t.LoaderReducer)||void 0===q?void 0:q.isLoading)||(null===(z=t.microAppPaymentReducer)||void 0===z?void 0:z.isPaytmPaymentLoading)||(null===(Q=t.microAppPaymentReducer)||void 0===Q?void 0:Q.isPaytmPayStatusLoading)||(null===(J=t.microAppPaymentReducer)||void 0===J?void 0:J.isPhonepePaymentLoading)||(null===(X=t.microAppPaymentReducer)||void 0===X?void 0:X.isPhonepePayStatusLoading)||(null===(Z=t.postOrderReducer)||void 0===Z?void 0:Z.orderAcceptedLoading)||(null===($=t.reorderReducer)||void 0===$?void 0:$.isReorderStoreStatusLoading)||(null===(ee=t.authReducer)||void 0===ee?void 0:ee.isLoading)}(t))&&void 0!==a?a:n}));return Object(i.useEffect)((function(){v(j),j?d.current=setInterval((function(){v(!1)}),25e3):clearTimeout(d.current)}),[j]),b?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"kfc-loader","data-testid":"kfc-loader-id",children:Object(s.jsx)(o.a,{className:"",srcFile:"".concat(r.a),alt:"Loader"})})}):null};d.defaultProps={isInProgress:!1},t.a=d}).call(this,n(139))},23:function(e,t,n){"use strict";t.a={MIN_SEARCH_CHARACTER_LIMIT:2,CONFIRM_BUTTON_TEXT:"confirm",VIEW_MAP_BUTTON_TEXT:"viewMap",SUUGESTED_ITEMS_TEXT:"suggestedSearchTerms",ALLOWED_SUGGESTION_LIST:["locality","political","geocode","point_of_interest","establishment"],ALREADY_SERACHED_LOCATIONS:"seachedLocations",SUGGESTION_ACTIVE_COLOR:"#F8F7F5",SUGGESTION_ACTIVE_OPACITY:"0.9",COLOR_BLACK:"black",BRAND_BLACK:"#202124",COUNTRY_CODE:"IN",COUNTRY_CODE_INDIA:"IN",FULFILLED_TEXT:"fulfilled",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP",DINE_IN:"DINE IN",PICK_UP:"pickup",TAKE_AWAY:"Pick up",OK_STATUS:"OK",DELIVERY_TIME_LIMIT_MINUTES:30,STORE_CARD_LIMIT:5,SERVICE_CHANNEL:"web",TENANT_ID:"15895bb59f7b4bb588ee933f8cd5344a",TENATNT_SESSION_ID:"9b1deb434ff32h4jv23f4v2g3hj4",STORE_STATUS_OPEN:"OPEN",STORE_STATUS_CLOSED:"closed",OPENS_UNTIL:"openUntil",OPENS_TOMORROW:"openTomorrow",STORE_STATUS_CLOSED_CAPS:"CLOSED",EVERYDAY:"EVERYDAY",DATETITLE:"Date",TIMETITLE:"Time",PLACE_PIN:"placePinAtYourLocation",LOCATION_WARNING_MESSAGE:"addressSuggestionHeader",RETRY_TEXT:"retry",USE_THIS_ADDRESS_TEXT:"useAddress",LIST_TEXT:"list",NOTAVAILABLE:"NOT_AVAILABLE",SAVED_ADDRESS:"savedAddress",START_ORDER_TEXT:"startOrder",BROWSE_MENU:"browseMenu",NO_STORE_ERROR_TEXT_TAKEAWAY:"noStoreTextTakeaway",NO_STORE_ERROR_TEXT_DINEIN:"noStoreTextDineIn",TAKE_AWAY_SERVICE:"pickup",DINE_IN_SERVICE:"dine in",DELIVERY_SERVICE:"delivery",SEARCH_THIS_AREA:"searchThisArea",INDIA:"INDIA",TAKEAWAY_UNAVAILABLE_WITH_CTA:"takeAwayUnavalibleErrorTextWithCTA",TAKEAWAY_UNAVAILABLE:"takeAwayUnavalibleErrorText",CTA1_SEARCH_DIFF_ADDRESS:"searchDiffAddressText",DINEIN_UNAVAILABLE:"dineInUnavailableErrorText",DELIVERY_UNAVAILABLE:"deliveryUnavailableErrorText",DELIVERY_UNAVAILABLE_WITH_CTA:"deliveryUnavailableErrorTextWithCTA",CTA2_ORDER_TAKEAWAY:"orderTakeAwayBtnText",CTA2_VIEW_MAP_BUTTON_TEXT:"viewMapErrorButton",HHMM:"hh:mm",LT:"LT"}},27:function(e,t,n){"use strict";n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return N})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return E})),n.d(t,"p",(function(){return I})),n.d(t,"k",(function(){return T})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"m",(function(){return A})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return R})),n.d(t,"o",(function(){return w})),n.d(t,"n",(function(){return P}));var a=n(39),i=n.n(a),c=n(351),o=n.n(c),r=n(352),s=n.n(r),d=n(178),l=n.n(d),u=n(353),b=n.n(u),v=n(179),j=n.n(v),O=n(180),m=n.n(O);i.a.extend(b.a),i.a.extend(o.a),i.a.extend(s.a),i.a.extend(l.a),i.a.extend(j.a),i.a.extend(m.a);var f=function(e,t){return i.a.unix(e).format(t)},p=function(e,t){return i()(e).format(t)},h=function(e){return i()().format(e)},g=function(){return i()().unix()},N=function(){return i()(new Date)},x=function(e,t){return i()(e,t)},E=function(e,t,n){return i()(e,t).format(n)},I=function(e){return i.a.unix(e)},T=function(e,t){return i()(e,t).unix()},C=function(e){return i.a.duration(i()().diff(i()(e),"ms")).asHours()},S=function(e,t){return i.a.duration(e,t)},A=function(e,t,n){return null===e||void 0===e?void 0:e.diff(t,n)},y=function(e,t,n){if("ASAP"===t)return!1;"-"===t&&(t=N());var a=i()(e,n),c=i()(t,n);return i()(a).isAfter(c)},D=function(e,t,n){return i()(e).isBetween(t,n)},_=function(e,t,n){return i()(e).add(t,n)},R=function(e,t){return e.format(t)},w=function(e){var t=I(e),n=N(),a=A(t,n,"hour"),i=n.add(a,"hours"),c=A(t,i,"minute"),o=i.add(c,"minutes"),r=A(t,o,"second");return!(a<0||c<0||o<0||r<0)},P=function(e){return i()(new Date).diff(I(e),"second")}},273:function(e,t){},3:function(e,t,n){"use strict";(function(e){n.d(t,"U",(function(){return U})),n.d(t,"V",(function(){return B})),n.d(t,"kb",(function(){return G})),n.d(t,"bc",(function(){return Y})),n.d(t,"nb",(function(){return K})),n.d(t,"E",(function(){return V})),n.d(t,"ib",(function(){return W})),n.d(t,"lb",(function(){return q})),n.d(t,"eb",(function(){return z})),n.d(t,"S",(function(){return Q})),n.d(t,"Ib",(function(){return J})),n.d(t,"Gb",(function(){return X})),n.d(t,"j",(function(){return Z})),n.d(t,"Db",(function(){return $})),n.d(t,"Bb",(function(){return ee})),n.d(t,"N",(function(){return te})),n.d(t,"L",(function(){return ne})),n.d(t,"O",(function(){return ae})),n.d(t,"H",(function(){return ie})),n.d(t,"F",(function(){return ce})),n.d(t,"G",(function(){return oe})),n.d(t,"y",(function(){return re})),n.d(t,"Mb",(function(){return se})),n.d(t,"Nb",(function(){return de})),n.d(t,"gb",(function(){return le})),n.d(t,"fb",(function(){return ue})),n.d(t,"R",(function(){return je})),n.d(t,"Eb",(function(){return Oe})),n.d(t,"Cb",(function(){return me})),n.d(t,"g",(function(){return ge})),n.d(t,"P",(function(){return Ne})),n.d(t,"jb",(function(){return xe})),n.d(t,"fc",(function(){return Ee})),n.d(t,"Hb",(function(){return Ie})),n.d(t,"A",(function(){return Te})),n.d(t,"k",(function(){return Ce})),n.d(t,"dc",(function(){return Ae})),n.d(t,"X",(function(){return ye})),n.d(t,"Y",(function(){return _e})),n.d(t,"mc",(function(){return Pe})),n.d(t,"d",(function(){return Le})),n.d(t,"D",(function(){return ke})),n.d(t,"gc",(function(){return Me})),n.d(t,"yb",(function(){return Fe})),n.d(t,"Rb",(function(){return He})),n.d(t,"z",(function(){return Ue})),n.d(t,"W",(function(){return Be})),n.d(t,"xb",(function(){return Ge})),n.d(t,"sb",(function(){return Ye})),n.d(t,"ub",(function(){return Ke})),n.d(t,"ab",(function(){return Ve})),n.d(t,"vb",(function(){return We})),n.d(t,"J",(function(){return qe})),n.d(t,"wb",(function(){return ze})),n.d(t,"tb",(function(){return Qe})),n.d(t,"mb",(function(){return Je})),n.d(t,"r",(function(){return Xe})),n.d(t,"e",(function(){return Ze})),n.d(t,"s",(function(){return $e})),n.d(t,"w",(function(){return et})),n.d(t,"b",(function(){return tt})),n.d(t,"Q",(function(){return nt})),n.d(t,"Fb",(function(){return at})),n.d(t,"Ob",(function(){return it})),n.d(t,"o",(function(){return ct})),n.d(t,"T",(function(){return ot})),n.d(t,"Qb",(function(){return rt})),n.d(t,"m",(function(){return st})),n.d(t,"qb",(function(){return dt})),n.d(t,"p",(function(){return lt})),n.d(t,"v",(function(){return ut})),n.d(t,"Lb",(function(){return vt})),n.d(t,"kc",(function(){return Ot})),n.d(t,"lc",(function(){return ft})),n.d(t,"hc",(function(){return pt})),n.d(t,"ic",(function(){return ht})),n.d(t,"zb",(function(){return Nt})),n.d(t,"Ab",(function(){return xt})),n.d(t,"Kb",(function(){return Et})),n.d(t,"c",(function(){return It})),n.d(t,"Yb",(function(){return Tt})),n.d(t,"Vb",(function(){return Ct})),n.d(t,"Wb",(function(){return St})),n.d(t,"Xb",(function(){return At})),n.d(t,"ac",(function(){return yt})),n.d(t,"Zb",(function(){return Dt})),n.d(t,"Ub",(function(){return _t})),n.d(t,"M",(function(){return Rt})),n.d(t,"q",(function(){return Pt})),n.d(t,"ob",(function(){return Lt})),n.d(t,"Jb",(function(){return kt})),n.d(t,"u",(function(){return Mt})),n.d(t,"i",(function(){return Ft})),n.d(t,"Tb",(function(){return Ht})),n.d(t,"a",(function(){return Ut})),n.d(t,"C",(function(){return Bt})),n.d(t,"Pb",(function(){return Gt})),n.d(t,"l",(function(){return Yt})),n.d(t,"h",(function(){return Kt})),n.d(t,"cb",(function(){return Vt})),n.d(t,"K",(function(){return Wt})),n.d(t,"ec",(function(){return qt})),n.d(t,"jc",(function(){return zt})),n.d(t,"I",(function(){return Qt})),n.d(t,"Sb",(function(){return Jt})),n.d(t,"bb",(function(){return Xt})),n.d(t,"rb",(function(){return Zt})),n.d(t,"cc",(function(){return $t})),n.d(t,"t",(function(){return en})),n.d(t,"db",(function(){return tn})),n.d(t,"x",(function(){return nn})),n.d(t,"B",(function(){return an})),n.d(t,"Z",(function(){return cn})),n.d(t,"n",(function(){return on})),n.d(t,"pb",(function(){return rn})),n.d(t,"hb",(function(){return sn})),n.d(t,"f",(function(){return dn})),n.d(t,"nc",(function(){return ln}));var a=n(6),i=n.n(a),c=n(13),o=n(36),r=n(26),s=n(2),d=n(75),l=n(29),u=n(34),b=n(31),v=n(30),j=n(8),O=n(5),m=n(354),f=n(181),p=n(15),h=n(44),g=n(20),N=n(21),x=n(10),E=n(116),I=n(52),T=n(37),C=n(43),S=n(32),A=n(27),y=n(14),D=n(358),_=n(151),R=n(19),w=n(56),P=n(0),L=C.a.PHONE_NUM,k=[375,540,720,960,1140],M=["xs","sm","md","lg","xl"],F=x.a.CURRENT_STORE_INFO,H=x.a.SET_DISPOSITION,U=function(e){var t,n=e[j.L]||[],a={},i=Object(d.a)(n);try{for(i.s();!(t=i.n()).done;){var c,o,r,l=t.value,u=Object(s.a)({},l.fields);delete u.title;var b=null===l||void 0===l||null===(c=l.sys)||void 0===c||null===(o=c.contentType)||void 0===o||null===(r=o.sys)||void 0===r?void 0:r.id;b===h.a.ORDERSERV?a[l.fields.name]=Object(s.a)({},u):a[b]=Object(s.a)({},u)}}catch(v){i.e(v)}finally{i.f()}return a},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={headerSection:[],subHeaderSection:[]};return t.headerSection=e&&e.fields&&e.fields.headerSection||[],t.subHeaderSection=e&&e.fields&&e.fields.subHeaderSection||[],t},G=function(e){return e&&e[0]&&e[0].fields?{disposition:e[0].fields.disposition}:{}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.toUpperCase():""},K=function(e){var t=Object(A.l)(e,"h:mm A");return console.log("displayTime",t),t},V=function(e){return Object(A.l)(e,"MMM D,YYYY")},W=function(e){var t=((e||{}).privacyPolicyResp||{}).items,n=null===t||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.fields}));return{headerData:{title:n[0].title,effectiveDate:Object(A.e)(n[0].effectiveDate,"MMMM D, YYYY")},description:n[0].description,questionList:n[0].body.map((function(e){return e.fields}))}},q=function(e){var t,n,a,i,c,o=(e||{}).termsResponseData,r=(o=void 0===o?{}:o).items,s=null===r||void 0===r?void 0:r.map((function(e){return null===e||void 0===e?void 0:e.fields}));return{headerData:{title:null===(t=s[0])||void 0===t?void 0:t.title,description:null===(n=s[0])||void 0===n||null===(a=n.description)||void 0===a||null===(i=a.content[0])||void 0===i||null===(c=i.content[0])||void 0===c?void 0:c.value},questionList:s[0].body.map((function(e){return e.fields}))}},z=function(e){var t=((e||{}).ourAdsResp||{}).items.map((function(e){return e.fields}));return{headerData:{title:t[0].title,effectiveDate:Object(A.e)(t[0].effectiveDate,"MMMM D, YYYY")},description:t[0].description,questionList:t[0].body.map((function(e){return e.fields}))}},Q=function(e){var t,n,a,i,c,o,r,s,d,l,u,b,v=((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.giftCardResp)||void 0===n||null===(a=n.items[0])||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.body)||[]).map((function(e){return e.fields}));return{headerData:{headline:null===(c=v[0])||void 0===c?void 0:c.headline,subHeadline:null===(o=v[0])||void 0===o?void 0:o.subHeadline},desktopImage:null===(r=v[1])||void 0===r?void 0:r.desktopImage.fields.file,mobileImage:null===(s=v[1])||void 0===s?void 0:s.mobileImage.fields.file,giftAmount:{title:null===(d=v[2])||void 0===d?void 0:d.shortText,list:null===(l=v[2])||void 0===l?void 0:l.listText},termsncondition:{data:null===(u=v[3])||void 0===u?void 0:u.longText,title:null===(b=v[3])||void 0===b?void 0:b.shortText}}},J=function(e){return window&&e<1024||(window&&window.matchMedia("only screen &(max-width:1023px)")).matches},X=function(){return(window&&window.matchMedia("".concat(j.P))).matches},Z=function(e){return!e&&Object(P.jsx)(y.a,{className:"add-to-cart-Icon",srcFile:_.a})},$=function(e){var t=!1;return e&&Object.keys(e).length&&(t=!0),t},ee=function(e){var t=Array.isArray(e);return t?0===e.length:t},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.fields&&e.fields.footerContent||[]},ne=function(e){var t=(e&&e.helpResponse&&e.helpResponse.Help&&e.helpResponse.Help.fields||[]).content,n=void 0===t?[]:t,a=n.filter((function(e){return e.fields.question})).map((function(e){return{question:e.fields.question,answer:e.fields.answer&&e.fields.answer.content[0].content[0].value}})),i=n.filter((function(e){return e.fields.buttonText&&"View All FAQs - Button"===e.fields.name})).map((function(e){return e.fields.buttonText})),c=n.filter((function(e){return e.fields.buttonText&&"FAQ - Call us"===e.fields.name})).map((function(e){return e.fields.buttonText})),o=n.filter((function(e){return e.fields.buttonText&&"Contact Us button"===e.fields.name})).map((function(e){return e.fields.buttonText})),s=n.filter((function(e){return e.fields.headline})).map((function(e){return e.fields.headline}));return{faqData:{faqContent:Object(r.a)(a),faqButtonText:i[0]},contactData:{headline:s[0],callButtonText:c[0],mailButtonText:o[0]}}},ae=function(e){var t=e.ourFaqResp.items[0].fields,n=t.body.map((function(e){var t=e.sys;return"callToAction"===t.contentType.sys.id||"navigationLink"===t.contentType.sys.id||"logoicon"===t.contentType.sys.id||"faq"===t.contentType.sys.id?e:void 0}));return{FinalData:t.faqTopics.map((function(e){var t=e.fields.title;return{QuesAns:e.fields.topicContent.map((function(e){return e.fields})),Title:t}})),ButtonInfo:n}},ie=function(e){var t="";switch(null===e||void 0===e?void 0:e.toUpperCase()){case j.rb:t=j.r;break;case j.tb:case j.ub:t=j.eb;break;case j.sb:t=j.v;break;default:console.error("Unknown disposition",e)}return t},ce=function(e){var t="";switch(e.toLowerCase()){case j.eb:t=j.nb;break;case j.v:t=j.w;break;case j.r:t=j.s}return t},oe=function(e){var t="";switch(null===e||void 0===e?void 0:e.toUpperCase()){case j.A.PICKUP:t=j.B.PICKUP;break;case j.A.DINE_IN:t=j.B.DINE_IN;break;case j.A.DELIVERY:t=j.B.DELIVERY}return t},re=function(e){var t=k.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})),n=k.indexOf(t);return M[n]},se=function(e){var t;try{t=JSON.parse(e)}catch(n){t=e}return t},de=function(e){return(null===e||void 0===e?void 0:e.length)&&e.reduce((function(e,t){var n=t.key,a=t.value;return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},n,"True"===a||"False"!==a&&se(a)))}),{})},le=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a?ue(e,n):be(t,n)},ue=function(e,t){return(null===e||void 0===e?void 0:e.price)&&t?e.price/t:0},be=function(e,t){return e&&t?e/t:0},ve=function(e){return e&&e.length&&e[0]&&e[0].value||""},je=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=a.tenantId,r=a.authoredContent,s=(null===r||void 0===r||null===(e=r.appUpdate)||void 0===e||null===(t=e.minSupportedVersion)||void 0===t?void 0:t.imageVersion)||0,d=Ne("image_version");if((!d||d<s)&&(d=s,Ee("image_version",s)),!o)return"";var l=Object(v.a)(b.M),u=Object(v.a)(b.N),O=re(window.innerWidth),m=$(n)&&ve(n);if(i)return l+o+u+j.q;if(!i&&m){var f=c?"/images/categories/":u+O+"/";return l+o+f+m+".jpg?ver="+d}return""},Oe=function(e,t){if(null===e)return!0;var n=!0,a="object"==typeof e.date?e.date:new Date(e.date),i="object"==typeof t.date?t.date:new Date(t.date);return e.time===t.time&&a.setHours(0,0,0,0)===i.setHours(0,0,0,0)||(n=!1),n},me=function(e){return!e||Object.values(e).every((function(e){return null===e||""===e}))},fe=function(e){return"ASAP"===e.selectedTime},pe=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=window)||void 0===n?void 0:n.google)){e.next=11;break}return e.next=3,Object(E.geocodeByAddress)(t);case 3:return c=e.sent,e.next=6,Object(E.getLatLng)(c[0]);case 6:return o=e.sent,r=Object(f.a)(null===(a=c[0])||void 0===a?void 0:a.address_components),e.abrupt("return",Object(s.a)(Object(s.a)({},r),{},{location:{latitude:o.lat.toString(),longitude:o.lng.toString()}}));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e,t){return e===j.r?pe(t):{}},ge=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,c,o){var r,s,d,l,u,b,v,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||$(t)){e.next=2;break}return e.abrupt("return");case 2:return r=w.a.getInstance(),s=r.customerId,d=JSON.parse(localStorage.getItem("dispositionNew")),l=c||d,u=o||(null===d||void 0===d?void 0:d.deliveryAddress),b=fe(l),v=Object(A.q)(Object(A.e)(null===l||void 0===l?void 0:l.date,"YYYY-MM-DD")+" "+(null===l||void 0===l?void 0:l.time),"YYYY-MM-DD h:mm A").unix(),O={storeId:t.id,service:n,channel:p.b.channel,requestedDateTime:{isForNow:b,futureDateTime:b?0:v},customerId:s,catalog:t.summary.menu.catalogs[0],lang:t.addresses[0].lang,source:J(window.innerWidth)?j.mb:j.lb},e.next=11,he(n,u);case 11:return O.deliveryAddress=e.sent,e.abrupt("return",O);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c){return e.apply(this,arguments)}}(),Ne=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0},xe=function(e){return localStorage.getItem(e)},Ee=function(e,t){localStorage.setItem(e,JSON.stringify(t))},Ie=function(e){return e in localStorage},Te=function(e,t,n){var a=e.key;n(Object(m.a)({object:Object(S.a)(),contentFull:{content_type:"i18nConfig",locale:a,include:"5"},userParams:t}))},Ce=function(e){var t,n,a;I.b.dark(Object(P.jsxs)("div",{className:"toast-Container",children:[Object(P.jsx)("p",{children:e>1?j.wb:j.vb}),!(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n||null===(a=n.pathname)||void 0===a?void 0:a.includes(j.i))&&Object(P.jsxs)("button",{className:"button whiteButton toast-button",onClick:Se,children:[Object(P.jsxs)("span",{className:"text",children:[" ",Object(O.e)("viewCart")]}),Object(P.jsx)(y.a,{srcFile:D.a})]})]}),{hideProgressBar:!0,bodyClassName:"add-to-toast",className:"toast-addToCart",position:I.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){I.b.dismiss()}),3e3)},Se=function(){I.b.dismiss(),window.open(j.hb.CART,j.ib)},Ae=function(){if(localStorage.getItem("seachedLocations")){var e=JSON.parse(localStorage.getItem("seachedLocations")),t=e[e.length-1];localStorage.setItem("searchStoreByAttribute",t)}},ye=function(e,t){var n;return(null===t||void 0===t||null===(n=t.foodLines)||void 0===n?void 0:n.length)?De(e,t.foodLines):{}},De=function(e,t){for(var n=0,a="",i=0,c=0,o=0;o<(null===t||void 0===t?void 0:t.length);o++){var r,s;if(e===(null===(r=t[o])||void 0===r||null===(s=r.item)||void 0===s?void 0:s.id)){i++;var d=t[o];n+=d.quantity,a=d.id,c=d.amount}}return{count:n,matchedItemFoodLineId:a,entriesCount:i,itemUnitPrice:c}},_e=function(e,t){var n;return(null===t||void 0===t||null===(n=t.foodLines)||void 0===n?void 0:n.length)?Re(e,t.foodLines):{}},Re=function(e,t){for(var n=0,a=0;a<(null===t||void 0===t?void 0:t.length);a++){var i;if(e===(null===(i=t[a])||void 0===i?void 0:i.id))n+=t[a].quantity}return{count:0===n?1:n}},we=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:"NA",a=d.length>1&&void 0!==d[1]?d[1]:"NA",c=d.length>2&&void 0!==d[2]&&d[2],o=d.length>3&&void 0!==d[3]&&d[3],r=d.length>4&&void 0!==d[4]?d[4]:"NA",s=d.length>5&&void 0!==d[5]?d[5]:"NA",e.next=8,l.a.registerEvent(null===(t=u.a.customDimension)||void 0===t?void 0:t.name,{"%event%":"setAttributes","%collectionPoint%":n,"%disposition%":a,"%loggedIn%":c,"%postLocalisation%":o,"%storeID%":r,"%userID%":s,"%platform%":"'web'"},ke);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(e){e.CollectionPoint&&we(e.CollectionPoint,e.DispositionType,e.loggedIn,e.localized,e.StoreID,e.loggedIn?e.UserId:"NA")},Le=function(e){try{var t=atob(e);return JSON.parse(t)}catch(n){console.warn("invalid base64 encoded string")}},ke=function(){return window.dataLayer=window.dataLayer||[]},Me=function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.registerEvent(null===(n=u.a.virtualPageView)||void 0===n?void 0:n.name,{"%event%":t.triggeredEvent,"%pageUrl%":t.path,"%pageTitle%":t.pageHeading},ke);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e){e.push({pathname:"/menu"})},He=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e({type:a,value:{modalOpenFrom:null===t||void 0===t?void 0:t.flag,modalToOpenOnConfirm:null===t||void 0===t?void 0:t.onConfirm,confirmCallBack:i}}),e({type:n,value:{showCartClearAlert:!0}})},Ue=function(e){var t=e.contactUsResp;if(t&&t.items){var n,a,i,c,o,r,d,l,u,b,v,O,m,f=(t.items&&(null===t||void 0===t?void 0:t.items[0])||{}).fields,p=null===f||void 0===f||null===(n=f.body)||void 0===n?void 0:n.map((function(e){return e.fields})),h=p.filter((function(e){return e.linkText&&e.linkText.toUpperCase()===j.D})),g={headline:null===(a=p[1])||void 0===a?void 0:a.headline,subHeadline:null===(i=p[1])||void 0===i?void 0:i.subHeadline,callUsButtonData:Object(s.a)(Object(s.a)({},p[2]),{},{icon:null===(c=p[2])||void 0===c||null===(o=c.image)||void 0===o||null===(r=o.fields)||void 0===r||null===(d=r.file)||void 0===d?void 0:d.url}),faqButtonData:h[0]};return h.length?{headerData:g,bodyFormData:{headline:null===(l=p[4])||void 0===l?void 0:l.headline,topicOptions:[Object(s.a)(Object(s.a)({},p[5]),{},{contents:null===(u=p[7])||void 0===u||null===(b=u.content)||void 0===b?void 0:b.map((function(e){return e.fields}))}),Object(s.a)({},p[6])]}}:{headerData:g,bodyFormData:{headline:null===(v=p[3])||void 0===v?void 0:v.headline,topicOptions:[Object(s.a)(Object(s.a)({},p[4]),{},{contents:null===(O=p[6])||void 0===O||null===(m=O.content)||void 0===m?void 0:m.map((function(e){return e.fields}))}),Object(s.a)({},p[5])]}}}return null},Be=function(e){var t,n,a,i,c,o,r="",s=e&&e.Help&&e.Help.fields||[];if(s.title===j.H){var d,l,u,b,v,O,m,f,p,h,g,N,x,E,I,T,C,S,A,y,D,_,R,w;r=s.title,t=(t=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(j.H))})))?t[0][j.F][j.J]:"",n=(n=null===s||void 0===s||null===(d=s.body)||void 0===d?void 0:d.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.name)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.indexOf(j.X))})))?n[0][j.F][j.W]:"",a=null===s||void 0===s||null===(l=s.body)||void 0===l?void 0:l.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.description)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.description)||void 0===a?void 0:a.indexOf(j.g))}));var P=Xe(a,null===(u=a)||void 0===u?void 0:u.length);a.title=Je(P,a[0][j.F][j.ob],""),a.description=Je(P,a[0][j.F][j.t],""),a.contactNo=Je(P,a[0][j.F][j.l][0][j.F][j.db],""),a.buttonText=Je(P,a[0][j.F][j.l][0][j.F][j.f],""),a.icon=Je(P?a[0][j.F][j.l][0][j.F][j.N][j.F][j.G][j.yb]:""),i=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(j.k))}));var L=Xe(i,null===(b=i)||void 0===b?void 0:b.length);i.title=Je(L,i[0][j.F][j.ob],""),i.description=Je(i,i[0][j.F][j.t],""),i.linkText=Je(L,i[0][j.F][j.l][0][j.F][j.R],""),i.linkUrl=Je(L,i[0][j.F][j.l][0][j.F][j.O],""),i.mobileImage=Je(L,i[0][j.F][j.l][0][j.F][j.M][j.F][j.V][j.F][j.G][j.yb],""),i.desktopImage=Je(L,i[0][j.F][j.l][0][j.F][j.M][j.F][j.u][j.F][j.G][j.yb],""),function(e,t){if(null===t||void 0===t?void 0:t.length){var n=Xe(e,null===e||void 0===e?void 0:e.length);t.title=Je(n,t[0][j.F][j.ob],""),t.description=Je(n?t[0][j.F][j.t]:"");var a=t?t[0][j.F][j.l].filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(j.E))})):"";t.topics=a?a[0][j.F][j.pb]:[];var i=t?t[0][j.F][j.l].filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(j.Ab))})):"";t.btnText=i?i[0][j.F][j.R]:"",t.linkUrl=i?i[0][j.F][j.O]:""}}(i,c=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(j.D))}))),o=null===s||void 0===s||null===(v=s.body)||void 0===v?void 0:v.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(j.jb))}));var k=Xe(o,null===(O=o)||void 0===O?void 0:O.length);return o.title=Je(k,null===(m=o)||void 0===m||null===(f=m[0])||void 0===f||null===(p=f[j.F])||void 0===p?void 0:p[j.ob],""),o.description=Je(k,null===(h=o)||void 0===h||null===(g=h[0])||void 0===g||null===(N=g[j.F])||void 0===N?void 0:N[j.t],""),o.linkUrl=Je(k,null===(x=o)||void 0===x||null===(E=x[0])||void 0===E||null===(I=E[j.F])||void 0===I||null===(T=I[j.l])||void 0===T||null===(C=T[0])||void 0===C||null===(S=C[j.F])||void 0===S?void 0:S[j.yb],""),o.btnText=Je(k,null===(A=o)||void 0===A||null===(y=A[0])||void 0===y||null===(D=y[j.F])||void 0===D||null===(_=D[j.l])||void 0===_||null===(R=_[0])||void 0===R||null===(w=R[j.F])||void 0===w?void 0:w[j.f],""),{bannerTitle:r,helpSectionHeadline:t,helpSectionNearestKFC:n,helpSectionCallDetails:a,helpSectionContactDetails:i,faqSectionDetails:c,surveyDetails:o}}return{}},Ge=function(e){return e||null},Ye=function(e,t){return e||t},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||{}},Ve=function(e){return e&&e.length},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||0},qe=function(e){return null===e?{}:e},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||""},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e||[]},Je=function(e,t,n){return e?t:n},Xe=function(e,t){return e&&t},Ze=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e&&t}),!0)},$e=function(e,t){return e||t},et=function(e,t,n){return e||t||n},tt=function(e){try{return JSON.parse(e)}catch(t){return null}},nt=function(e){if($(e)){var t=e.addressLines,n=e.city,a=e.state,i=e.country,c=e.pinCode;return"".concat(t.join(" ")," ").concat(n," ").concat(a," ").concat(i," ").concat(c)}return null},at=function(){var e=!1;return"true"===Object(v.a)(b.b)&&(e=!0),e},it=function(e){var t=document.getElementById("billdeskScript");if(!t){var n=document.createElement("script");n.src=Object(v.a)(b.j)+"/cscv/bdci.payment.js",n.id="billdeskScript",document.body.appendChild(n),n.onload=function(){e&&e()}}t&&e&&e()},ct=function(e){return 10===(null===e||void 0===e?void 0:e.length)?"".concat(e.slice(0,3),"-").concat(e.slice(3,6),"-").concat(e.slice(6,10)):e},ot=function(){var e=N.d.MORNING,t=N.d.NOON,n=N.d.EVENING,a=(new Date).getHours();return a<12?Object(O.e)(e):a>=12&&a<17?Object(O.e)(t):Object(O.e)(n)},rt=function(e){var t=null===e||void 0===e?void 0:e.filter((function(e){return!e.isHidden}));return null===t||void 0===t?void 0:t.length},st=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return!e.isHidden}))},dt=function(e,t,n,a){var i=0;return t.length>0&&t.forEach((function(e){e.modifiers&&e.modifiers.length>0&&e.modifiers.forEach((function(e){i+=e.unitPrice}))})),(e*a+i)*n/a},lt=function(e,t,n,a){return bt(e,t,n,a)},ut=function(e,t,n,a){return bt(e,t,n,a)},bt=function(e,t,n,a){var i,c=T.a.CART_SUMMARY_CARD,o=(c=void 0===c?{}:c).SEARCH_IN_MENU;return a===(void 0===o?"":o)?(i=null===e||void 0===e?void 0:e[t])?{id:i.id,price:ue(i.availability[0],n)}:{}:(i=null===e||void 0===e?void 0:e.find((function(e){return e.item.name===t})))?{id:i.id}:{}},vt=function(e){return null!==e&&e!={}&&e!=[]&&""!==e&&void 0!==e},jt=0,Ot=function(e,t,n){var a=Object(s.a)({},e),i=a.errorMessage;return a.value=t,t?10!==t.length||isNaN(t)||!/^\d*$/.test(t)?(a.error=!0,a.errorMessage=Object(O.e)("invalidPhoneNumberErrText"),n(!0)):(a.error=!1,a.errorMessage="",jt=0):(a.error=!0,a.errorMessage=Object(O.e)("phonenumberEmptyHelpText"),n(!0)),i!==a.errorMessage&&(jt=0),a.error&&0===jt&&(jt=1,Qt("OrderLookup",a.errorMessage)),a},mt=0,ft=function(e,t,n){var a=Object(s.a)({},e),i=a.errorMessage;return a.value=t,t?t.length<2||""===t.trim()?(a.error=!0,a.errorMessage=Object(O.e)("invalidOrderId")):(a.error=!1,a.errorMessage="",mt=0):(a.error=!0,a.errorMessage=Object(O.e)("enterYourOrderNo"),n(!0)),i!==a.errorMessage&&(mt=0),a.error&&0===mt&&(mt=1,Qt("OrderLookup",a.errorMessage)),a},pt=function(e,t){I.b.dark(Object(P.jsx)("div",{"data-testid":"validate-toast",className:"img-text-div",children:Object(P.jsx)("span",{className:"text",children:e||t})}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:I.b.POSITION.BOTTOM_CENTER})},ht=function(e,t){I.b.dark(Object(P.jsxs)("div",{className:"img-text-div",children:[t," ",Object(P.jsx)("span",{className:"text",children:e})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:I.b.POSITION.BOTTOM_CENTER})},gt=function(e,t){var n,a,i=e.amount,c=t.currencyConversionFactor,o=t.currencySymbol,r=t.store,s=null!==(n=null===r||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.menu)&&void 0!==n?n:{},d=s.maxOrderAmount,l=void 0===d?0:d,u=s.minOrderAmount,b=void 0===u?0:u,v="",m=T.a.MIN_ORDER_AMOUNT_MESSAGE,f=T.a.MAX_ORDER_AMOUNT_MESSAGE;return(null===i||void 0===i?void 0:i.errorCode)===j.b.MINIMUM_AMOUNT&&b?v="".concat(Object(O.e)(m)," ").concat(o).concat(b/c):(null===i||void 0===i?void 0:i.errorCode)===j.b.MAXIMUM_AMOUNT&&l&&(v="".concat(Object(O.e)(f)," ").concat(o).concat(l/c)),{amountStatus:null===i||void 0===i?void 0:i.status,amountMessage:i.message,errMsg:v}},Nt=function(e,t){if(!Object(g.isEmpty)(e)){var n=Object(g.get)(e,"overAll.status",!1),a=Object(g.get)(e,"overAll.message",Object(O.e)("somethingWentWrong"))||Object(O.e)("somethingWentWrong");if(n)pt(a);else{var i=a;if(Object(g.get)(e,["items","validationStatus","status"],!0))for(var c in e)if("amount"===c){var o=gt(e,t),r=o.amountStatus,s=o.amountMessage,d=o.errMsg;if(!r){pt("".concat(s," ").concat(d),a);break}}else if("overAll"!==c){if(!Object(g.get)(e,[c,"status"],!0)){i=Object(g.get)(e,[c,"message"],a),pt(i,a);break}if(!Object(g.get)(e,[c,"validationStatus","status"],!0)){i=Object(g.get)(e,[c,"validationStatus","message"],a),pt(i,a);break}}}}},xt=function(e){var t=!0;if($(e)){var n,a=e.items;t=null===a||void 0===a||null===(n=a.validationStatus)||void 0===n?void 0:n.status}return t},Et=function(){var e=navigator.userAgent.toLowerCase(),t=!1;try{t=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||window.safari.pushNotification).toString()}catch(n){console.log(n)}return t=t||-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")&&-1!==e.indexOf("version/")},It=function(e,t){return(null===e||void 0===e?void 0:e.length)&&e.toString().trim().length>t},Tt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:j.hb.HOME_PAGE})},Ct=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:j.hb.CART})},St=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:j.hb.CHECKOUT,ShowPaymentError:n})},At=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:j.hb.GIFT_CARD,ShowFailureError:n})},yt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:j.hb.PAYMENT_SUCCESS})},Dt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:j.hb.PAYMENT_FAILURE})},_t=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:j.hb.ACTIVE_ORDERS})},Rt=function(e,t,n){var a=e;return e.length>0&&(a=e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===(i=e.item)||void 0===i?void 0:i.name)!==n}))),a},wt=function(e){return e?+e:"NA"},Pt=function(e,t,n,a,i){return e===t?wt(a):e===n?wt(i):"NA"},Lt=function(e,t){return e&&t.cartEditClicked&&t.minipdpData.itemId===e.id},kt=function(e){var t=60*Number(Object(v.a)(j.o.QR_CODE_VALID_TIME_MINS));return Object(A.n)(e)<t},Mt=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,c,o,r,s){var d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(c,o,r,s);case 2:return d=e.sent,n&&a?d.qrOrder={isQROrder:!0,qrScannedTime:a}:t(Object(R.j)("")),e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c,o,r){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,c,o){var r,s,d,l,u,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=c.dispositionNew,d=me(d)?JSON.parse(localStorage.getItem("dispositionNew")):d,l={storeInfo:null===(r=d)||void 0===r?void 0:r.store,dispositionType:ie(null===(s=d)||void 0===s?void 0:s.type)},u=kt(o),e.next=6,Mt(t,u,o,l.storeInfo,l.dispositionType);case 6:b=e.sent,t(n({data:b,tenantId:a}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c){return e.apply(this,arguments)}}(),Ht=function(e,t){return t===L&&e.length<=10},Ut=function(e){return Object(P.jsxs)("span",{children:[(null===e||void 0===e?void 0:e.addressLines[2])&&Object(P.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[2],", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(P.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(P.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.state)&&Object(P.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(P.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(P.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})},Bt=function(e){var t="/"===e.charAt(0)&&e.substring(1),n="";return e.includes("menu")?n="PLP":e.includes("menu")||e.includes("pdp")?n="PDP":e.includes("account")||e.includes("cart")?n=t.charAt(0).toUpperCase()+t.slice(1):"/"===e&&(n="Home"),n},Gt=function(e,t){var n=Qe(JSON.parse(localStorage.getItem(t)));n.push(e.trim());var a,i=new Set(n),c=Object(d.a)(n);try{for(c.s();!(a=c.n()).done;){var o=a.value;i.has(o)&&i.delete(o),i.add(o)}}catch(s){c.e(s)}finally{c.f()}localStorage.setItem(t,JSON.stringify(Object(r.a)(new Set(Object(r.a)(i)))))},Yt=function(){document.querySelector("body").style.overflow="hidden"},Kt=function(){document.querySelector("body").style.overflow="auto"},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length>0?e.map((function(e){var t;return null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.dname[0])||void 0===t?void 0:t.value})).join(", ")})).join(", "):[];return t},Wt=function e(t,n,a,i){var c,o=null===(c=n.categoryMapById)||void 0===c?void 0:c[t.parentID];return o&&(null===o||void 0===o?void 0:o.parentID)!==i&&(a.push(o.name),e(o,n,a,i)),a.slice().reverse().join(" > ")},qt=function(e,t,n,a){var i=Ge(e);localStorage.setItem(j.m,JSON.stringify(i)),t({type:F,value:i}),t({type:H,value:{oldvalue:n,newValue:{type:a,store:i,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem(j.y,JSON.stringify(n)),localStorage.setItem(j.x,JSON.stringify({type:a,store:i,date:"",time:"",interval:"",deliveryAddress:""}))},zt=function(e,t,n){return!n&&(null===e||void 0===e?void 0:e.length)>t?e.substring(0,t)+"...":e},Qt=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.registerEvent(null===(a=u.a.embeddedErrorMessage)||void 0===a?void 0:a.name,{"%event%":"embeddedErrorMessage","%popupOrPageTitle%":t||"NA","%errorMessage%":n||"NA"},ke);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(e,t){Qt("KFC Payment Failure",Object(O.e)(e)+" "+Object(O.e)(t))},Xt=function(e,t,n,a,i,c){e&&(null===t||void 0===t?void 0:t.categorySelected)&&n.minipdpData.itemId===e.id&&a&&i(c({showProductListingModal:!0,categorySelected:null===t||void 0===t?void 0:t.categorySelected}))},Zt=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,l.a.registerEvent(null===u.a||void 0===u.a||null===(t=u.a.transactionFailed)||void 0===t?void 0:t.name,{"%event%":"checkoutClick","%errorMessage%":n},ke);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||""};function en(e){var t,n=j.p,a=function(e,t,n){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.day)===t}))}(e,n[(new Date).getDay()]);return 0===(null===(t=a)||void 0===t?void 0:t.length)&&(a=e.filter((function(e){return(null===e||void 0===e?void 0:e.day)===n[n.length-1]}))),a}function tn(e){var t="";if(1===(null===e||void 0===e?void 0:e.length))t=Object(g.get)(e,j.Bb,!1);else if((null===e||void 0===e?void 0:e.length)>1){t=(null===e||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from})).sort((function(e,t){return(null===e||void 0===e?void 0:e.split(":")[0])-(null===t||void 0===t?void 0:t.split(":")[0])})))[0]}return t}function nn(e){var t="";if(1===(null===e||void 0===e?void 0:e.length))t=Object(g.get)(e,j.Cb,!1);else if((null===e||void 0===e?void 0:e.length)>1){t=(null===e||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.to})).sort((function(e,t){return(null===t||void 0===t?void 0:t.split(":")[0])-(null===e||void 0===e?void 0:e.split(":")[0])})))[0]}return t}var an=function(){var t,n,a,i;return(null===(t=e)||void 0===t||null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===n?void 0:n.REACT_APP_TENANT_CODE)&&Y(null===(a=e)||void 0===a||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE)},cn=function(e){return e||"NA"},on=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return null===j.e||void 0===j.e?void 0:j.e.some((function(t){return t!==(null===e||void 0===e?void 0:e.code)}))}))},rn=function(e,t,n){return((Number(e)-Number(t))/Number(n)).toFixed(2)},sn=function(e,t,n){var a,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return le(e,null===(a=de(t))||void 0===a?void 0:a.pricewithouttax,n,i)},dn=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&(null===(n=a?Number(e):Number(e)-Number(t))||void 0===n?void 0:n.toFixed(2))},ln=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e&&t.apply(void 0,Object(r.a)(n))}}).call(this,n(139))},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a,i=n(355),c=n(30),o=n(31);function r(){var e,t,n=Object(c.a)(o.n),r=Object(c.a)(o.m),s=Object(c.a)(o.l);return null===(e=a=Object(i.createClient)({space:n,environment:r,accessToken:s,removeUnresolved:!0}))||void 0===e||null===(t=e.getSpace())||void 0===t?void 0:t.then((function(e){return!0,e}))}function s(){return a}},343:function(e,t,n){"use strict";var a=n(2),i={IN:{HEADER_ORDER_TRACKER_COMP:n.e(0).then(n.bind(null,745)),HEADER_ORDER_TRACKER_ITEM:n.e(1).then(n.bind(null,744))},AU:{HEADER_ORDER_TRACKER_COMP:n.e(0).then(n.bind(null,745)),HEADER_ORDER_TRACKER_ITEM:n.e(1).then(n.bind(null,744))}},c=n(3),o=n(1),r=n.n(o),s=n(0);t.a=function(e){var t=Object(o.useMemo)((function(){var t=i[Object(c.B)()][null===e||void 0===e?void 0:e.importPath];return(null===e||void 0===e?void 0:e.importPath)&&t&&r.a.lazy((function(){return t}))}),[null===e||void 0===e?void 0:e.importPath]);return(null===e||void 0===e?void 0:e.importPath)&&t?Object(s.jsx)(r.a.Suspense,{fallback:Object(s.jsx)("div",{}),children:Object(s.jsx)(t,Object(a.a)(Object(a.a)({},e),{},{"data-testid":"test_".concat(null===e||void 0===e?void 0:e.testId)}))}):null}},344:function(e,t,n){"use strict";(function(e){var a=n(6),i=n.n(a),c=n(13),o=n(2),r=n(7),s=n(29),d=n(31),l=n(130),u=n(30),b=n(58),v=n(5),j=n(349),O=n(19),m=n(28),f=n(135),p=n(403),h=n(8),g=n(15),N=n(32),x=n(3),E=n(363),I=n(69),T=n.n(I),C=n(183),S=n.n(C),A=n(121),y=n(45),D=n(70),_=n(10),R=n(1),w=n.n(R),P=n(709),L=n(364),k=n.n(L),M=n(9),F=n(52),H=(n(612),n(613),n(16)),U=n(400),B=n(395),G=n.n(B),Y=n(146),K=n(90),V=n(73),W=n(56),q=n(0),z=function(){},Q=function(t){var n,a,l=t.isConfigAvailable,f=Object(R.useRef)(),I=Object(R.useRef)(null),C=Object(M.c)((function(e){return e.profileReducer})),L=Object(M.c)((function(e){return e.cartReducer})),B=Object(M.c)((function(e){return e.errorReducer})),G=w.a.useState(Object(x.Ib)(window.innerWidth)),Y=Object(r.a)(G,2),K=Y[0],V=Y[1],W=_.a.INITIAL_DISPOSITION_DATA,z=_.a.LANGUAGE_UPDATED,Q=_.a.SHOW_CART_ERROR_MODAL,J=Object(M.c)(E.a).disposition,X=void 0===J?{}:J,Z=Object(R.useContext)(H.a),$=Z.userOrderState,ee=Z.userOrderStateDispatch,te=Object(M.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=void 0===n?{}:n,i=t.analyticsProviders,c=(i=void 0===i?{}:i).web,r=void 0===c?{}:c,s=t.defaultAnalyticsProviders,d=(s=void 0===s?{}:s).web,l=void 0===d?{}:d,u=t.country;return Object(o.a)(Object(o.a)({},a),{},{analyticsProviders:r,defaultAnalyticsProviders:l,country:u})})),ne=te.analyticsProviders,ae=te.defaultAnalyticsProviders,ie=te.defaultLanguage,ce=te.country,oe=Object(M.c)((function(e){return e.appStateReducer.userStatus})),re=Object(M.c)((function(e){var t,n;return null!==(t=null===e||void 0===e||null===(n=e.appVersionReducer)||void 0===n?void 0:n.response)&&void 0!==t?t:null})),se=Object(M.c)((function(e){return e.tenantReducer})).allowRemoteWipeOut,de=Object(M.c)((function(e){return e.cartReducer})),le=de.userLastActiveTime,ue=de.cartData,be=de.cartDataError,ve=de.isBasketLoading,je=(ue||{}).foodLines,Oe=void 0===je?[]:je,me=w.a.useState(S()(null===ue||void 0===ue?void 0:ue.foodLines,(function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0)),fe=Object(r.a)(me,2),pe=fe[0],he=fe[1],ge=Object(M.c)((function(e){return null===e||void 0===e?void 0:e.tenantReducer})),Ne=ge.tenantId,xe=ge.addHope,Ee=ge.carryBag,Ie=Object(M.c)((function(e){var t=e.i18nReducer,n=(t=void 0===t?{}:t).response,a=(n=void 0===n?{}:n).items;a=void 0===a?[]:a;var i=Object(r.a)(a,1)[0],c=(i=void 0===i?{}:i).sys,o=(c=void 0===c?{}:c).locale,s=i.fields;return{locale:o,i18Translations:(s=void 0===s?{}:s).data}})),Te=Ie.locale,Ce=Ie.i18Translations;sessionStorage.setItem("userId",null===C||void 0===C?void 0:C.customerId);var Se=Object(M.b)(),Ae=function(){var e=Object(x.Ib)(window.innerWidth);V(e)};Object(R.useEffect)((function(){window.addEventListener("resize",Ae)}),[K]),Object(R.useLayoutEffect)((function(){if(l){var e={gtmId:Object(u.a)(d.w)};k.a.initialize(e)}}),[l]),Object(R.useEffect)((function(){if(l){var e=Object(u.a)(d.r);if(e){var t,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e.replace("MAP_LANG",null!==(t=null===ie||void 0===ie?void 0:ie.key)&&void 0!==t?t:"en-US"),window.initMap=function(){console.log("Google map has been loaded successfully")},document.head.appendChild(n)}}}),[l,null===ie||void 0===ie?void 0:ie.key]),Object(R.useEffect)((function(){if(I.current=pe,Object(x.r)(xe,Ee)){var e=Object(x.M)(Oe,xe,Ee),t=null===e||void 0===e?void 0:e.filter((function(e){var t;return!0!==(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.isHidden)}));he(S()(t,(function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0))}}),[Oe]),Object(R.useEffect)((function(){!function(e,t){var n=JSON.parse(sessionStorage.getItem("reorderClick"));null!=t&&e>t&&!n&&Object(x.k)(e-t)}(pe,null===I||void 0===I?void 0:I.current)}),[pe]);function ye(){return(ye=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(null!==$&&void 0!==$?$:{}).dispositionNew,t=Object(x.Cb)(t)?JSON.parse(localStorage.getItem("dispositionNew")):t,!oe.localized){e.next=8;break}return c={storeInfo:null===(n=t)||void 0===n?void 0:n.store,dispositionType:Object(x.H)(null===(a=t)||void 0===a?void 0:a.type)},e.next=6,Object(x.g)(c.storeInfo,c.dispositionType,C.customerId);case 6:o=e.sent,Ne&&Se(Object(O.f)({basketId:ue.id},!0,{data:o,tenantId:Ne}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(R.useEffect)((function(){if(!T()(ne)&&!T()(ae)){var e=null===(t=ne)||void 0===t?void 0:t.map((function(e){return e===(null===b.a||void 0===b.a?void 0:b.a.GTM)?{GTM:x.D}:null}));s.a.registerAnalyticsProviders(e),s.a.defaultAnalyticsProviders=ae}var t}),[ne,ae]),Object(R.useEffect)((function(){var e,t,n=null===be||void 0===be||null===(e=be.errors)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.includes("out of stock");ee({type:Q,value:{showCartErrorModal:n}})}),[be]),Object(R.useEffect)((function(){Object(v.d)({})}),[Se]),Object(R.useEffect)((function(){Object.keys(X).length&&ee({type:W,value:{disposition:X}})}),[X]),Object(R.useEffect)((function(){var e="".concat(ce,"_").concat(h.zb);!function(e,t,n,a){if(e)if(Object(x.Hb)(t)){var i=Object(x.P)(Object(x.P)(t)),c=Object(x.jb)(t);Object(v.a)(i,c)}else Object(x.A)(e,n,a)}(ie,e,oe,Se)}),[ie,oe,Se,ce]),Object(R.useEffect)((function(){if(Ce){Object(x.fc)(Te,Ce),Object(v.a)(Ce,Te),Object(v.b)(Te);var e="".concat(ce,"_").concat(h.zb),t=Object(x.P)(e);ce&&h.zb&&Object(x.fc)(e,Te);var n=Object(x.P)(e);t&&t!==n&&ee({type:z,value:{languageUpdationHappened:Te}})}}),[Ce]),Object(R.useEffect)((function(){se&&Se(Object(j.a)({object:Object(N.a)(),contentFull:{content_type:"appMetaData",include:"5"}}))}),[Se,se]),Object(R.useEffect)((function(){var e=localStorage.getItem("webAppVersion");!e&&(null===re||void 0===re?void 0:re.webAppVersion)?localStorage.setItem("webAppVersion",null===re||void 0===re?void 0:re.webAppVersion):(null===re||void 0===re?void 0:re.webAppVersion)>Number(e)&&setTimeout((function(){window.localStorage.clear(),window.location.reload()}),2e3)}),[re]),Object(R.useEffect)((function(){f.current=oe.loggedIn}),[oe.loggedIn]),Object(R.useEffect)((function(){oe.loggedIn&&!ve&&(null===ue||void 0===ue?void 0:ue.id)&&Object(A.b)(le)&&function(){ye.apply(this,arguments)}()}),[null===$||void 0===$?void 0:$.dispositionNew,le,oe]),Object(R.useEffect)((function(){var e,t,n=null===L||void 0===L||null===(e=L.cartData)||void 0===e||null===(t=e.discountLines)||void 0===t?void 0:t.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.name)!==y.a}));if(!T()(n)){var a,i,c,o,r,s=Object(D.b)(null===n||void 0===n?void 0:n[0]),d=!(null===(a=window)||void 0===a||null===(i=a.location)||void 0===i||null===(c=i.pathname)||void 0===c?void 0:c.includes("cart"));s&&d&&F.b.dark(Object(q.jsx)("div",{"data-testid":"invalid-coupons-toast",className:"img-text-div",children:Object(q.jsx)("span",{className:"text",children:s})}),{hideProgressBar:!0,position:F.b.POSITION.BOTTOM_CENTER}),Se(Object(O.m)({basketId:null===L||void 0===L||null===(o=L.cartData)||void 0===o?void 0:o.id,tenantId:Ne,couponCode:null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.couponCode}))}}),[null===L||void 0===L||null===(n=L.cartData)||void 0===n?void 0:n.discountLines,null===L||void 0===L||null===(a=L.cartData)||void 0===a?void 0:a.id,Se,Ne]),Object(R.useEffect)((function(){var t,n;"development"===(null===(t=e)||void 0===t||null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===n?void 0:n.NODE_ENV)&&(null===B||void 0===B?void 0:B.errorCode)&&F.b.dark(Object(q.jsx)("div",{"data-testid":"generic-error-toast",className:"img-text-div",children:Object(q.jsx)("span",{className:"text",children:"".concat(Object(v.e)("somethingWentWrong")," (").concat(null===B||void 0===B?void 0:B.errorCode,")")})}),{hideProgressBar:!0,position:F.b.POSITION.BOTTOM_CENTER,onClose:function(){return Se(Object(m.b)(void 0))}})}),[Se,null===B||void 0===B?void 0:B.errorCode]);var De;return g.a.isBrowserSupported||T()(Ce)?Object(q.jsxs)(p.a,{isPullable:K&&function(){var e,t;return!(null===$||void 0===$||null===(e=$.scheduleOrderData)||void 0===e?void 0:e.showScheduleOrder)&&!(null===$||void 0===$||null===(t=$.searchStoreData)||void 0===t?void 0:t.showSearchStore)}(),className:"pullToRefresh",onRefresh:function(){return window.location.reload(),!0},refreshingContent:null,pullingContent:null,pullDownThreshold:75,maxPullDownDistance:75,children:[Object(q.jsx)(U.a,{}),Object(q.jsx)(F.a,{limit:1})]}):Object(q.jsxs)(P.a,{variant:"danger",className:"appNotAvailable",children:[null!==(De=Object(v.e)(h.xb))&&void 0!==De?De:"Unsupported Browser. Please use following browsers to use the app.",Object(q.jsx)("br",{}),JSON.stringify(g.a.minSupportedBrowsers)]})};Q.defaultProps={isConfigAvailable:!1};t.a=function(){var t,n,a=_.a.SET_FORCERELOAD,o=Object(R.useContext)(H.a).userOrderStateDispatch,s=null!==(n=Object(M.c)((function(e){return{tenantReducer:e.tenantReducer,appConfigsReducer:e.appConfigsReducer}})))&&void 0!==n?n:{},b=s.tenantReducer,v=(b=void 0===b?{}:b).tenantId,j=s.appConfigsReducer,O=(j=void 0===j?{}:j).response,m=j.clientId,p=w.a.useState(!1),x=Object(r.a)(p,2),E=x[0],I=x[1],C=w.a.useState(!1),S=Object(r.a)(C,2),A=S[0],y=S[1],D=null!==(t=JSON.stringify(O))&&void 0!==t?t:"{}",P=Object(M.b)();return Object(R.useEffect)((function(){var t,n,a=null===(t=e)||void 0===t||null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===n?void 0:n.REACT_APP_TENANT_CODE;P(Object(f.a)(a)),P(Object(Y.a)({tenantCode:a}))}),[P]),Object(R.useEffect)((function(){if(v&&!T()(JSON.parse(D))){var t,n,a,i,c,o;l.a.setEnvConfigs({responseStr:D,tenantId:v,clientId:m}),console.log("AppConfig: isConfigAvailable? ".concat(l.a.isConfigAvailable)),g.a.bind(Object(u.a)(h.j)),function(t){var n,a,i,c;(null===(n=e)||void 0===n||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===a||null===(i=a.NODE_ENV)||void 0===i?void 0:i.toLowerCase())!==K.c.DEV&&"yes"===(null===t||void 0===t||null===(c=t.trim())||void 0===c?void 0:c.toLowerCase())&&(console.log=z,console.error=z,console.table=z,console.warn=z,console.debug=z)}(Object(u.a)(K.d)),V.a.initialize();var r={authParams:{memberClientId:Object(u.a)(d.e),guestClientId:Object(u.a)(d.x),googleClientId:Object(u.a)(d.t),googleGrantType:Object(u.a)(d.u),googleAuthScope:Object(u.a)(d.s)}};V.a.envVars=r,!((null===(t=window)||void 0===t||null===(n=t.location)||void 0===n||null===(a=n.pathname)||void 0===a?void 0:a.includes(Object(u.a)(d.C)))&&(null===(i=window)||void 0===i||null===(c=i.location)||void 0===c||null===(o=c.search)||void 0===o?void 0:o.includes("code")))&&W.a.getInstance().bootstrapAuthentication(),I(l.a.isConfigAvailable),P(Object(f.b)({tenantId:v}))}}),[P,D,m,v]),Object(R.useLayoutEffect)((function(){E&&Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)();case 2:t=e.sent,console.log("contentful has been initialized, space: ",null===t||void 0===t?void 0:t.name),y(!0);case 5:case"end":return e.stop()}}),e)})))()}),[E,o]),Object(R.useEffect)((function(){G.a.initialize("150938b5-2729-4abe-a2e6-ceaba2105928",{baseUrl:"sdk.fra-01.braze.eu",safariWebsitePushId:"web.com.cognizantorderserv.kfcindia",enableLogging:!0,manageServiceWorkerExternally:!0}),g.b.BindUserAgent(),o({type:a,value:{forceReload:!0}})}),[a,o]),A?Object(q.jsx)(Q,{isConfigAvailable:E}):Object(q.jsx)(q.Fragment,{})}}).call(this,n(139))},358:function(e,t,n){"use strict";t.a=n.p+"static/media/Single_Arrow_Icon.9f48c8b9.svg"},363:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(221),i=Object(a.a)((function(e){var t=e.marketConfigReducer,n=(t=void 0===t?{}:t).response;return(n=void 0===n?{}:n).headerData}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,n=(t=void 0===t?{}:t).fields,a=void 0===n?{}:n,i=e.disposition;return{fields:a,disposition:i}}))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={INDULGENT_ADD_ON:{HEADER:"cartRecommendTitle",SLIDES_TO_SCROLL:1,SLIDES_TO_SHOW:3,ADD_TO_CART:"addToCart"},PRICECHANGENOTIFICATION:"priceChangeNotify",OUTOFSTOCKNOTIFICATION:"outOfStockNotify",CART_HEADER:"myCart",CART_SUMMARY_CARD:{QUANTITY_TEXT:"cartItem",QUANTITYS_TEXT:"cartItems",SUBTOTAL:"cartSubTotal",CARRY_BAG:"tickToAddLargeCarryBag",ADD_HOPE_HEADER:"tickToAddHope",ADD_HOPE_TEXT:"addHopeText",CHECKOUT:"cartCheckout",TAKEAWAY:"Pickup",RESTAURANT_HANDLING_CHARGE:"cartIncluTax",GST:"cartGst",DONATE:"donate",addHopeText:"addhope",largeCarryBagText:"largeCarryBag",SEARCH_IN_MENU:"SEARCH_IN_MENU",SEARCH_IN_CART:"SEARCH_IN_CART"},FROMCHECKOUT:"FROMCHECKOUT",CART_FAQ_HEADER:"cartfaqtitle",CART_FOOD_LIST_ITEM:{EDIT:"edit",REMOVE:"cartRemove",REMOVE_ALL:"cartRemoveAll",ADD_MORE_MENU:"cartAddMoreMenu",ADD_MORE_FOOD:"cartAddMoreFood",ITEM_QUANTITY:1,MODIFIER_QUANTITY:2,ACCORDION_MODIFIER_MAX_QUANTITY:1},OFFERS_COUPONS:{APPLY_OFFERS:"cartOffersDeals",VIEW_ALL:"cartViewAll"},QUANTITY_ACTION:{Increase:"plus",Decrease:"minus"},TOAST_NOTIFICATION:{ITEM_REMOVED:"cartRemoveLineItemConfirmationtext"},ALERT:{REMOVE_ALL_MSG:"cartRemoveAllConfirmationtext",REMOVE_ALL:"Remove All",CANCEL:"cancel"},EMPTY_CART:{PLACEHOLDER_TEXT:"yourCartEmpty",SUGGESTION_TEXT:"upSellTitle",START_ORDER:"startOrder"},RECOMENDATIONS:{HEADER:"upSellTitle",SLIDES_TO_SCROLL:1,SLIDES_TO_SHOW:4,ADD_TO_CART:"addToCart"},ANALYTICS_EVENTS:{EDIT:"editCartItem",REMOVE:"remove_from_cart",ADD_TO_CART:"add_to_cart"},CART_ALERT:"CART_ALERT",SET_ADDED_LOCATION:"SET_ADDED_LOCATION",CART_EXPIRE_TIME_HRS:24,ADD_TO_CART_CLICK:"ADD_TO_CART_CLICK",MIN_ORDER_AMOUNT_MESSAGE:"minOrderAmountMessage",MAX_ORDER_AMOUNT_MESSAGE:"maxOrderAmountMessage"}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={SLIDES_TO_SHOW:4,SLIDES_TO_SCROLL:1,FADE_CARD_INDEX:3,CUSTM_EXPAND_TYPE:"customExpandType",EXPAND_ACCORDIAN:"expandAccordianById",MODGROUP_IDS_UPDATE:"modGroupIdsUpdate",RESET_MODGROUP_IDS_UPDATE:"resetModGroupIdsUpdate",UPDATE_DEFAULT_MODGROUP:"UPDATE_DEFAULT_MODGROUP",IS_OUT_OF_STOCK:"OutOfStock",IS_IN_STOCK:"InStock",SET_PDP_DEEPLINK_MODE:"SET_PDP_DEEPLINK_MODE",SHORT:"short",LONG:"long",READ_MORE:"readMore",READ_LESS:"readLess",MAX_LENGTH_READ:35,YYYYMMDD:"YYYY-MM-DD",YYYYMMDD_hhmm_A:"YYYY-MM-DD hh:mm A",INDIA:"INDIA",UPSELL:"upsell",CROSSELL:"crossell",MAKE_IT_COMBO_HEADER:"makeItACombo",MAKE_IT_COMBO_SUBHEADER:"comboSubHeader",PDP:"PDP"}},385:function(e,t,n){"use strict";t.a=n.p+"static/media/KFC_Loader_Gif.66979359.gif"},396:function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,711)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))}},40:function(e,t,n){"use strict";n.d(t,"p",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"l",(function(){return j})),n.d(t,"f",(function(){return O})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return N})),n.d(t,"k",(function(){return x})),n.d(t,"r",(function(){return I})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return y})),n.d(t,"s",(function(){return D})),n.d(t,"v",(function(){return _})),n.d(t,"q",(function(){return R})),n.d(t,"u",(function(){return w})),n.d(t,"w",(function(){return P})),n.d(t,"e",(function(){return M})),n.d(t,"t",(function(){return F}));var a=n(2),i=n(89),c=n(81),o=n(19),r=n(3),s=n(105),d=n(8),l=n(15),u=n(104),b=function(e){return E(e)===d.Z.STAGED_ACCEPTED},v=function(e){return E(e)===d.Z.PICKUP_DELIVERY_DINE_IN},j=function(e){return Object(r.bc)(null===e||void 0===e?void 0:e.service)===d.A.DELIVERY&&v(e)},O=function(e){return Object(r.bc)(null===e||void 0===e?void 0:e.service)===d.A.DELIVERY&&(j(e)||p(e)||h(e)||g(e))},m=function(e){return O(e)&&(null===e||void 0===e?void 0:e.deliveryPartner)},f=function(e){return O(e)&&!g(e)&&!N(e)},p=function(e){return E(e)===d.Z.DELIVERY_DISTA_CREATE_ASSIGN},h=function(e){return E(e)===d.Z.DELIVERY_DISTA},g=function(e){return E(e)===d.Z.DELIVERY_DISTA_DELIVERED},N=function(e){return E(e)===d.Z.CANCELLED},x=function(e){return h(e)||N(e)||g(e)},E=function(e){switch(Object(r.bc)(null===e||void 0===e?void 0:e.status)){case d.ab.STAGED:case d.ab.ACCEPTED:return l.b.shouldGoogleSpotIgnoreOloFailure?d.Z.PICKUP_DELIVERY_DINE_IN:d.Z.STAGED_ACCEPTED;case d.ab.SENT_TO_POS_COMPLETED:if(Object(r.bc)(null===e||void 0===e?void 0:e.service)===d.A.PICKUP||Object(r.bc)(null===e||void 0===e?void 0:e.service)===d.A.DINE_IN||Object(r.bc)(null===e||void 0===e?void 0:e.service)===d.A.DELIVERY)return d.Z.PICKUP_DELIVERY_DINE_IN;break;case d.ab.CREATED:case d.ab.ASSIGNED:return d.Z.DELIVERY_DISTA_CREATE_ASSIGN;case d.ab.PICKED_UP:case d.ab.OUT_FOR_DELIVERY:case d.ab.ARRIVED:return d.Z.DELIVERY_DISTA;case d.ab.DELIVERED:return d.Z.DELIVERY_DISTA_DELIVERED;case d.ab.CANCELLED:case d.ab.CANCEL:return Object(r.bc)(null===e||void 0===e?void 0:e.service)===d.A.DELIVERY?d.Z.CANCELLED:d.Z.FAILED;case d.ab.SENT_TO_POS_FAILED:case d.ab.PAYMENT_FAILED:return d.Z.FAILED}},I=function(e,t,n){if(null===e||void 0===e?void 0:e.orderAcceptedLoading)return Promise.resolve(!1);switch(E(e)){case d.Z.STAGED_ACCEPTED:return t(!0),Promise.resolve(!1);case d.Z.PICKUP_DELIVERY_DINE_IN:return t(!1),Promise.resolve(!0);case d.Z.DELIVERY_DISTA_CREATE_ASSIGN:case d.Z.DELIVERY_DISTA:case d.Z.DELIVERY_DISTA_DELIVERED:case d.Z.CANCELLED:return t(!1),Promise.resolve(!1);case d.Z.FAILED:return localStorage.setItem(d.bb.STATUS_TEXT,d.bb.FAILED),Object(r.Zb)(n),Promise.resolve(!1)}},T=function(e,t,n,a,i,c,s,u,b){if(u){var v=c.userStatus,j=l.b.shouldGoogleSpotIgnoreOloFailure||Object(r.bc)(null===n||void 0===n?void 0:n.status)===d.ab.SENT_TO_POS_COMPLETED;Object(r.e)(j,!s,null===a||void 0===a?void 0:a.id,v.localized,null===t||void 0===t?void 0:t.tenantId)&&Object(r.i)(e,o.e,null===t||void 0===t?void 0:t.tenantId,i,b)}},C=function(e,t,n){t&&(n=setTimeout((function(){t(e),n&&clearTimeout(n)}),s.c))},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null,o={emailId:null===t||void 0===t?void 0:t.userEmail,phoneNo:null===t||void 0===t?void 0:t.userPhone,orderNo:null===t||void 0===t?void 0:t.posOrderId,tenantId:null===t||void 0===t?void 0:t.tenantId},r=n+1;e(Object(c.d)(o,(function(){return C(r,a,i)})))},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=null,o={orderId:null===t||void 0===t?void 0:t.orderId,tenantId:null===t||void 0===t?void 0:t.tenantId,customerId:null===t||void 0===t?void 0:t.customerId},r=n+1;e(Object(i.a)(o,(function(){return C(r,a,c)})))},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(null===t||void 0===t?void 0:t.isExternalTrackOrder)?S(e,t,n,a):A(e,t,n,a)},D=function(e,t,n,a,i,c){t&&(null===t||void 0===t?void 0:t.orderId)?0===n||b(a)&&n<s.a?y(e,t,n,i):b(a)&&n>=s.a&&(localStorage.setItem("paymentStatus",d.bb.FAILED),Object(r.Zb)(c)):Object(r.Yb)(c)},_=function(e,t,n,i,c){i&&j(e)?Object(r.Zb)(c):(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.status)!==(null===t||void 0===t?void 0:t.status)?n(Object(a.a)(Object(a.a)({},t),{},{status:null===e||void 0===e?void 0:e.status,orderAcceptedLoading:null===e||void 0===e?void 0:e.orderAcceptedLoading,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1})):n(Object(a.a)(Object(a.a)({},t),{},{deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1}))},R=function(e,t,n){if(j(e)&&!t)var a=setTimeout((function(){a&&clearTimeout(a)}),s.d)},w=function(e,t,n,i){var c,o;return Object(a.a)(Object(a.a)({},P(e,t,!1,n)),{},{orderAcceptedLoading:(null===t||void 0===t?void 0:t.orderAcceptedLoading)||!1,deliveryPartner:null,deliveryDistaRetryCountFlag:0,operatingTime:null===i||void 0===i||null===(c=i.store)||void 0===c||null===(o=c.summary)||void 0===o?void 0:o.timings})},P=function(e,t){var n,a,i,c,o,r,s,d,l,u,b,v=arguments.length>2&&void 0!==arguments[2]&&arguments[2],j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},O=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},m={orderId:(null===t||void 0===t?void 0:t.id)||(null===j||void 0===j?void 0:j.id),customerId:(null===t||void 0===t||null===(n=t.customer)||void 0===n?void 0:n.id)||(null===j||void 0===j||null===(a=j.customer)||void 0===a?void 0:a.id),tenantId:e,service:(null===t||void 0===t?void 0:t.service)||(null===j||void 0===j?void 0:j.service),status:(null===t||void 0===t?void 0:t.status)||(null===j||void 0===j?void 0:j.status),orderTime:(null===t||void 0===t?void 0:t.fulfillmentDateTime)||(null===j||void 0===j?void 0:j.fulfillmentDateTime),deliveryPartner:(null===t||void 0===t?void 0:t.deliveryPartner)||(null===j||void 0===j?void 0:j.deliveryPartner),posOrderId:(null===t||void 0===t?void 0:t.posOrderId)||(null===j||void 0===j?void 0:j.posOrderId),userEmail:(null===t||void 0===t||null===(i=t.customer)||void 0===i?void 0:i.email)||(null===j||void 0===j||null===(c=j.customer)||void 0===c?void 0:c.email),userPhone:(null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.phoneNumber)||(null===t||void 0===t||null===(r=t.customer)||void 0===r?void 0:r.phone)||(null===j||void 0===j||null===(s=j.customer)||void 0===s?void 0:s.phoneNumber),postOrderDetails:t,isExternalTrackOrder:v};O&&(null===O||void 0===O||null===(d=O.storesWithStatus)||void 0===d?void 0:d.length)&&(m.operatingTime=null===O||void 0===O||null===(l=O.storesWithStatus)||void 0===l||null===(u=l[0])||void 0===u||null===(b=u.summary)||void 0===b?void 0:b.timings);return m},L=function(e){return e&&(null===e||void 0===e?void 0:e.pastOrderResponse)&&(null===e||void 0===e?void 0:e.pastOrderResponse.length)&&(null===e||void 0===e?void 0:e.pastOrderResponse[0].id)?null===e||void 0===e?void 0:e.pastOrderResponse[0]:null},k=function(e){var t;return e&&(null===e||void 0===e?void 0:e.orderAccepted)&&Object.keys(null===e||void 0===e?void 0:e.orderAccepted).length&&(null===e||void 0===e||null===(t=e.orderAccepted)||void 0===t?void 0:t.id)?null===e||void 0===e?void 0:e.orderAccepted:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=k(e);return null===i&&(i=L(t),a&&null===i&&(i=n&&Object.keys(null===n||void 0===n?void 0:n.postOrderDetails).length?null===n||void 0===n?void 0:n.postOrderDetails:{})),i||{}},F=function(e){!function(e){e(Object(u.g)())}(e),localStorage.getItem(d.S.PAYMENT_STATUS)!==d.bb.FAILED&&(function(e){e(Object(i.b)())}(e),function(e){e(Object(c.e)())}(e)),function(e){e(Object(c.a)({value:[]}))}(e),localStorage.removeItem(d.S.ORDER_TRACKING)}},400:function(e,t,n){"use strict";var a=n(2),i=n(1),c=n.n(i),o=n(77),r=n(51),s=n(54),d=n(94),l=n(93),u=n(0),b=function(){window.location.replace("/"),window.localStorage.clear()},v=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidCatch=function(e,t){a.setState({error:e,errorInfo:t})},a.state={error:null,errorInfo:null},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.error,n=e.errorInfo;return t&&n?Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"50%",height:"400px"},src:""}),Object(u.jsx)("h2",{children:"Oops! Something Went Wrong ........"}),Object(u.jsx)("button",{onClick:b,children:"Go to HomePage"}),Object(u.jsxs)("details",{children:[this.state.error&&this.state.error.toString(),Object(u.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(i.Component),j=n(7),O=n(20),m=n.n(O),f=n(44),p=n(59),h=n(72),g=n(366),N=n(9),x=n(3),E=n(16),I=n(32),T=n(8),C=n(14),S=n.p+"static/media/Instagram.bed6a289.svg",A=n.p+"static/media/Facebook.65b455ab.svg",y=n.p+"static/media/Twitter.4f7b6302.svg",D=n.p+"static/media/GoogleMapLocation.c86d640b.svg",_=n.p+"static/media/apple.e0ec3a41.svg",R=n.p+"static/media/GoogleplayIcon.24d9cb95.svg",w={contentData:{bodyContent:{kfcLogo:{src:"",alt:""},categories:[{categoryHeaderText:"KFC Food",subCategories:[{name:"Menu",linkTo:"",targetType:"self"},{name:"Catering",linkTo:"",targetType:"self"},{name:"Neutrition",linkTo:"",targetType:"self"},{name:"Order Lookup",linkTo:"",targetType:"self"},{name:"Gift Card",linkTo:"",targetType:"self"}]},{categoryHeaderText:"Support",subCategories:[{name:"Help",linkTo:"",targetType:"self"},{name:"FAQs",linkTo:"",targetType:"self"},{name:"Contact Us",linkTo:"",targetType:"self"}]},{categoryHeaderText:"Legal",subCategories:[{name:"Privacy Policy",linkTo:"",targetType:"self"},{name:"Terms of Use",linkTo:"",targetType:"self"},{name:"Our Ads",linkTo:"",targetType:"self"},{name:"Do Not Sell My Personal Installation",linkTo:"",targetType:"self"}]}],kfcStoreSearch:{name:"findKfc",linkTo:"",url:D,alt:""},downloadAppButtons:[{name:"Apple Store",linkTo:"",url:_},{name:"Google Play",linkTo:"",url:R}]},footerContent:{languageDropdown:{name:"Eng",linkTo:"",url:"",type:"Language Selector",options:["Eng","Fr","De"]},copyrightContentData:{name:"Copyright \xa9 KFC Corporation 2020 All Rights Reserved"},socialMediaContent:[{name:"Instagram",linkTo:"",url:S,alt:""},{name:"Facebook",linkTo:"",url:A,alt:""},{name:"Twitter",linkTo:"",url:y,alt:""}]}}},P=n(99),L=n(41),k=["href","children","targetWindow","additionalChild","className","name","onClickHandler","type"],M=function(e){var t=e.href,n=void 0===t?"":t,i=e.children,o=e.targetWindow,r=e.additionalChild,s=void 0===r?null:r,d=e.className,l=void 0===d?"":d,b=e.name,v=void 0===b?"":b,j=e.onClickHandler,O=void 0===j?null:j,m=e.type,f=void 0===m?"internal":m,p=Object(P.a)(e,k);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)(L.c,Object(a.a)(Object(a.a)({to:function(){var e=n||!0;return"external"===f&&(e={pathname:n}),e}(),target:o},p),{},{className:l||"link",onClick:function(){O&&O({name:v,linkTo:n,type:f})},onKeyPress:function(e){var t=T.Db.KEY_CHAR_CODE,a=t.SPACE,i=t.ENTER;!O||e.charCode!==a&&e.charCode!==i||O({name:v,linkTo:n})},children:[i,s]}))})},F=n(43),H=F.a.PRIVACY_POLICY,U=F.a.OUR_ADS,B=F.a.INSTAGRAM,G=F.a.TWITTER,Y=F.a.FACEBOOK,K=F.a.FAQ,V=F.a.GETHELP,W=F.a.TERMS_OF_USE,q=F.a.GIFT_CARD,z=F.a.ORDER_LOOKUP_NAME,Q=F.a.CONTACT_US,J=F.a.KFC_FEEDBACK,X=F.a.EXTERNAl,Z=Object(o.i)((function(e){var t=e.linkTo,n=void 0===t?"":t,a=e.name,i=e.dataTestId,c=void 0===i?"":i,o=e.onClickHandler,r=e.internalurl,s=void 0===r?"":r,d=e.externalurl,l=void 0===d?"":d,b="",v="",j=";";switch(a){case B:case Y:case G:b="",v="_blank",j="external"}switch(e.children){case H:b="/privacyPolicy";break;case U:b="/ourAds";break;case W:b="/terms-of-use";break;case V:b="/help";break;case q:b="/giftcards";break;case z:b="";break;case K:b="/faq";break;case Q:b="/contactus";break;case J:s?(b=s,j="internal"):l&&(b=l,v="_blank",j="external");break;default:s?(b=s,j="internal"):l?(b=l,v="_blank",j="external"):b=n}return Object(u.jsx)("li",{children:Object(u.jsx)(M,{className:"support-links-menu",href:b,name:a,targetWindow:v,onClickHandler:function(t){if(t.name!==B&&t.name!==Y&&t.name!==G&&(t.name!==J||t.type!==X))return e.children===W||e.children===K||e.children===q?window.scrollTo(0,0):o(t),!1},tabIndex:"0","data-testid":c,type:j,children:e.children})})})),$=function(e){var t=e.categoryHeaderText,n=e.subCategories,i=void 0===n?[]:n,o=e.className,r=void 0===o?"":o,s=e.onClickHandler,d=F.a.FOOTER_LINKS,l=void 0===d?"":d,b=F.a.SOCIAL_ICONS,v=void 0===b?"":b;return Object(u.jsxs)(c.a.Fragment,{children:[r===l&&Object(u.jsxs)("div",{className:"ul-title",children:[Object(u.jsx)("span",{role:"heading","aria-level":"2",className:"header-text-footer",children:t}),Object(u.jsx)("ul",{className:r,children:Object(u.jsx)(u.Fragment,{children:function(e,t){return e.map((function(e,n){return Object(u.jsx)(Z,Object(a.a)(Object(a.a)({onClickHandler:s,dataTestId:"listItems-component-".concat(e.name),className:t},e),{},{children:e.name}),n)}))}(i,r)})})]}),r===v&&Object(u.jsx)(Z,Object(a.a)(Object(a.a)({"data-testid":"listItems-component",onClickHandler:s,className:r},e),{},{children:Object(u.jsx)(C.a,{srcFile:e.url,alt:"".concat(e.name)})}))]})},ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACfSURBVHgBhY6xDQIhFIZBob8RjoLeEbAgARpXcAQ30FF0Aq8DQ3FxA12A2tIBSPCRWNy9u8v9CXk8+L68RwhEKdWQlRhjVK1ba+2Jc34XQjxSSp852Dl3hnKVUr43pZQOmi9jrNda7+ZgYC5wbt77jv7HtZTSHq5NznkfY3xhOIRwrG90sONIgjUPGB4JSGprj+GJMJQAfmJ4MVVa+vsBbdRQgsrQ68QAAAAASUVORK5CYII=",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACoSURBVHgBjZCxDcIwEEXtpKHMCBSWRckIprNcZQVGYAIyAiOwApXdISqGsIuwgSew+YcUKVgx5Eunb/+7p7PMWEVa622t1y6Fxpg97Cml3HjvH38hAnLOdxw7lALISrD9AZxQO1Rfgs0SAD9aay/wA+4jfED//LWpBJxzV8pDCFEIceOc9/ONvAbMRT8JkGbIhyalFHGJNYCEfJyeivnXJ1RKdWyFprk3ggNl+9Y5I9IAAAAASUVORK5CYII=",ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgB5YzBEQAQDARTghKUoCOtpFMlKCHO+BmJ8GRn7mFkl+hTRCRiBcvHd3gkrMogb8QOz59qwBStgEtUAuwWlYBfXASYboAY6D0aqFylbGxi/YkAAAAASUVORK5CYII=",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBlc9dDQAgCARgIhjBCEYygg2MagQj4D3o5h8ot93mkO8BIiHM7MkSgIBWNFvBSLaAhBYVbiD2mRfhDUx/J9SACKdBfNy77uHh6CNjrwE2uauFNqWuDQAAAABJRU5ErkJggg==",ie=n.p+"static/media/AccordianDownBlack.25fe3425.svg",ce=n.p+"static/media/AccordianUPBlack.97852a94.svg",oe=function(e){var t=e.header,n=e.subHeader,a=e.onClickHandler,c=e.isDarkMode,o=void 0!==c&&c,r=e.isBlackArrow,s=void 0!==r&&r,d=e.cssClass,l=void 0===d?"":d,b=e.open,v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=function(e){f(!m),a&&a(e)};Object(i.useEffect)((function(){b&&f(!m)}),[b]);return Object(u.jsxs)("div",{className:"global-accordian-container ".concat(l),"data-testId":"global-accordian",onKeyPress:function(e){var t=T.Db.KEY_CHAR_CODE.ENTER;e.charCode===t&&(f(!m),a&&a(e))},children:[Object(u.jsxs)("button",{"aria-expanded":"false",className:"global-accordian-header-container",children:[Object(u.jsx)("span",{className:"global-accordian-header",onClick:p,children:t}),o?Object(u.jsx)("img",{src:m?ae:ne,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle-dark"}):s?Object(u.jsx)("img",{src:m?ce:ie,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle-dark"}):Object(u.jsx)("img",{src:m?te:ee,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle"})]}),n&&!m?Object(u.jsx)("ul",{className:"global-accordion-subheader cart-food-modifier",children:n.map((function(e,t){return Object(u.jsxs)("li",{children:[e,t===n.length-1?Object(u.jsx)("span",{children:"..."}):null]})}))}):null,m&&Object(u.jsx)("div",{className:"global-accordian-content",children:e.children})]})},re=["ariaLable","className","onClickHandler","name"],se=function(e){e.ariaLable;var t=e.className,n=void 0===t?"":t,i=e.onClickHandler,c=e.name,o=Object(P.a)(e,re);return Object(u.jsx)(L.b,Object(a.a)(Object(a.a)({to:{},"data-testid":"navItems",className:"navigation-link ".concat(n," nav-item"),onClick:function(){i(c)},onKeyPress:function(e){var t=T.Db.KEY_CHAR_CODE,n=t.SPACE,a=t.ENTER;e.charCode!==n&&e.charCode!==a||i(c)}},o),{},{children:Object(u.jsx)("button",{className:"header-item-buttons d-flex",tabIndex:"-1",children:e.children})}))},de=function(e){var t=e.tabIndex,n=e.ariaLable,a=e.className,i=e.options,c=e.onChange,o=e.testid,r=void 0===o?"":o,s=e.selectedValue;return Object(u.jsx)("select",{className:a,tabIndex:t,"aria-label":n,onChange:c,onKeyPress:function(e){var t=T.Db.KEY_CHAR_CODE,n=t.SPACE,a=t.ENTER;!c||e.charCode!==n&&e.charCode!==a||c()},"data-testid":r,children:null===i||void 0===i?void 0:i.map((function(e){return Object(u.jsx)("option",{value:e,selected:s===e,children:e},e)}))})},le=n(6),ue=n.n(le),be=n(13),ve=n(75),je=n(29),Oe=function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},me(e.fields)),{},{name:e.fields.title})}))||[]},me=function(e){var t=e.url,n=e.desktopImage,a=(void 0===n?{}:n).fields.file,i=(void 0===a?{}:a).url;return{linkTo:t,url:void 0===i?"":i}},fe=function(e){return e.map((function(e){var t=e.fields,n=t.externalurl,i=t.icon,c={linkTo:n,url:pe((void 0===i?{}:i).fields).url};return Object(a.a)(Object(a.a)({},c),{},{name:e.fields.title})}))||[]},pe=function(e){var t=e.desktopImage;return t&&he(t)||{}},he=function(e){var t=e.fields&&e.fields.file||{},n=t.url,a=void 0===n?"":n,i=t.altText;return{url:a,altText:void 0===i?"":i}},ge=function(e){var t=[],n=e.category,a=e.links;return(void 0===a?[]:a).map((function(e){t.push(Ne(e.fields))})),{categoryHeaderText:n,subCategories:t}},Ne=function(e){var t=e.linkText,n=e.internalurl,a=e.externalurl;return{name:t,linkTo:e.url||e.internalurl,internalurl:n,externalurl:a}},xe=function(e){var t=e.externalurl,n=e.icon;return{linkTo:t,url:pe((void 0===n?{}:n).fields).url}},Ee=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"footerLinks",navigationLink:t.footerItemSelected}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=n.p+"static/media/KFCbucket.82cffdd8.svg",Te=function(e){var t,n=e.buttonContent,a=void 0===n?[]:n;return Object(u.jsx)(c.a.Fragment,{children:(t=a,t.map((function(e,t){return Object(u.jsx)(M,{href:e.linkTo,targetWindow:"_blank",type:"external",children:Object(u.jsx)(C.a,{srcFile:e.url,alt:"".concat(e.name)},t)})})))})},Ce=n(5),Se=function(e){var t,n=e.contentData,c=void 0===n?[]:n,r=e.clickHandler,s=void 0===r?null:r,d=e.isMobile,l=void 0!==d&&d,b=e.tenantReducerData,v=e.navigateHandler,m=void 0===v?null:v,f=function(e){var t,n=F.a.FOOTER_LOGO,i=F.a.FOOTER_SECTION,c=F.a.FIND_A_KFC_SECTION,o=F.a.APP_LINKS,r=F.a.SOCIAL_SECTION,s=F.a.COPYRIGHT,d={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},l={languageDropdown:{},copyrightContentData:{},socialMediaContent:[]},u=Object(ve.a)(e);try{for(u.s();!(t=u.n()).done;){var b=t.value,v=Object(O.get)(b,"sys.contentType.sys.id"),j=Object(O.get)(b,"fields.category");if(v===n){var m=pe(b.fields),f=m.url,p=m.altText;d.kfcLogo={src:f,alt:p}}else if(j===c){var h=b.fields.links[0].fields.linkText.split(" "),g=h[0]+" "+h[1].toLowerCase()+" "+h[2];d.kfcStoreSearch=Object(a.a)(Object(a.a)({},xe(b.fields.links[0].fields)),{},{name:g})}else if(j===o)d.downloadAppButtons=Oe(b.fields.links);else if(j===r)l.socialMediaContent=fe(b.fields.links);else if(j===s){var N,x,E=(null===b||void 0===b||null===(N=b.fields)||void 0===N||null===(x=N.links[0])||void 0===x?void 0:x.fields).headline;l.copyrightContentData={name:E}}else v===i&&d.categories.push(ge(b.fields))}}catch(I){u.e(I)}finally{u.f()}return{bodyContent:d,footerContent:l}}(c)||{},p=f.bodyContent,h=void 0===p?{}:p,g=f.footerContent,I=void 0===g?{}:g,S=Object(o.g)(),A=Object(N.c)((function(e){return e.appStateReducer.userStatus})),y=F.a.INDIA,D=h.categories,_=void 0===D?[]:D,R=h.kfcLogo,P=void 0===R?{}:R,L=h.kfcStoreSearch,k=void 0===L?{}:L,H=h.downloadAppButtons,U=void 0===H?{}:H,B=I.copyrightContentData,G=void 0===B?{}:B,Y=I.languageDropdown,K=I.socialMediaContent,V=void 0===K?{}:K,W=Object(i.useContext)(E.a).userOrderState.languageUpdationHappened,q=void 0===W?"":W,z=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),Q=z.defaultLanguage,J=z.allowedLanguages,X=z.COUNTRY,ee=Object(i.useState)(),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),re=ce[0],le=ce[1];Object(i.useEffect)((function(){0!==_.length&&le(_)}),[]),Object(i.useEffect)((function(){var e=J.find((function(e){return e.key===Object(x.P)("".concat(X,"_").concat(T.zb))}));X&&ae((e||{}).value||(Q||{}).value)}),[X,q]),t=b&&b.basic&&function(e,t){var n=e;n.options=[];var a=(t||{allowedLanguages:[{value:""}]}).allowedLanguages;if(a.length){var i,c=Object(ve.a)(a);try{for(c.s();!(i=c.n()).done;){var o=i.value;n.options.push(o.value)}}catch(r){c.e(r)}finally{c.f()}return n}return{}}(w.contentData.footerContent.languageDropdown,b.basic)||{};var ue=function(e){var t=e.target.parentElement.parentElement;t.classList.contains("footer-accordian-open")?t.classList.remove("footer-accordian-open"):t.classList.add("footer-accordian-open")},be=function(){return V.map((function(e,t){return Object(u.jsx)($,Object(a.a)({className:"social-icons","data-testid":"footerItemSocial-component",onClickHandler:s},e),t)}))},je=function(){return Object(u.jsx)("div",{className:"column lang-div",children:Object(x.Db)(t)&&Object(u.jsxs)(se,{tabIndex:"0",onClickHandler:s,name:t.type||t.name||"cart",children:[Object(u.jsx)(de,{tabIndex:"-1",options:J.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toUpperCase()})),className:"language-select",selectedValue:ne}),Object(u.jsx)("span",{className:"dropdown-img-footer"})]})})},me=Object(u.jsxs)("footer",{className:"site-footer ".concat(!(null===A||void 0===A?void 0:A.localized)&&S.pathname.startsWith("/")&&(null===b||void 0===b?void 0:b.country)===y?"nonlocalized-footer":"localized-footer"),"data-testid":"mobileFooter-component",children:[Object(u.jsx)("div",{className:"row mobile-header-logo",children:Object(u.jsx)("div",{className:"header-logo",onClick:m,children:Object(u.jsx)(C.a,{srcFile:Object(x.sb)(P.src,Ie),alt:Object(x.sb)(P.alt,"KFC LOGO"),className:"kfc-footer-logo"})})}),Object(u.jsx)("div",{className:"row-mobile",children:re.map((function(e){return Object(u.jsx)(oe,{header:e.categoryHeaderText,isDarkMode:!0,onClickHandler:ue,children:Object(u.jsx)("ul",{className:"footer-mobile-list",tabIndex:"0",children:e.subCategories.map((function(e,t){return Object(u.jsx)(Z,Object(a.a)(Object(a.a)({"data-testid":"listItems-component",onClickHandler:s},e),{},{children:e.name}),t)}))})})}))}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"row-mobile",children:Object(u.jsxs)("div",{className:"findstore-mobile",children:[Object(u.jsx)(C.a,{srcFile:k.url,alt:""}),Object(u.jsx)(M,{href:k.linkTo,name:k.name,onClickHandler:s,targetWindow:"_blank",tabIndex:"0",type:"external",children:Object(Ce.e)(k.name)})]})}),Object(u.jsx)("hr",{class:"mobile-horizontal"}),Object(u.jsxs)("div",{className:"row-mobile app-store","data-testid":"app-store",children:[Object(u.jsx)("div",{className:"flex",children:Object(Ce.e)("downloadApp")}),Object(u.jsx)("div",{className:"flex social-btns","data-testid":"social-btns",children:Object(u.jsx)(Te,{buttonContent:U})})]}),Object(u.jsxs)("div",{className:"row row-mobile mobile-language my-2",children:[je(),Object(u.jsx)("div",{className:"column social-div",children:Object(u.jsx)("ul",{className:"social-icons",children:be()})})]}),Object(u.jsx)("div",{className:"row row-mobile row-copyright ".concat(S.pathname.includes("pdp")&&l?"pdp-row-copyright":""),children:Object(u.jsx)("div",{className:"column copyright-mobile",children:Object(u.jsx)("p",{className:"copyright-text",children:G.name})})})]}),he=Object(u.jsxs)("footer",{className:"site-footer","data-testid":"desktopFooter-component",children:[Object(u.jsxs)("div",{className:"row row-one aa",children:[Object(u.jsx)(M,{className:"header-logo","data-testid":"desktopFooter-component-navigate-handler",onClickHandler:m,children:Object(u.jsx)(C.a,{srcFile:Object(x.sb)(P.src,Ie),alt:Object(x.sb)(P.alt,"KFC LOGO"),className:"kfc-footer-logo"})}),Object(u.jsx)("div",{className:"category-items",children:re.map((function(e,t){return Object(u.jsx)($,Object(a.a)({className:"footer-links",onClickHandler:s},e),t)}))}),Object(u.jsxs)("div",{className:"findstore",children:[Object(u.jsx)(C.a,{srcFile:k.url,alt:""}),Object(u.jsx)(M,{href:k.linkTo,onClickHandler:s,name:k.name,targetWindow:"_blank",tabIndex:"0",type:"external",children:Object(Ce.e)(k.name)})]}),Object(u.jsx)("div",{className:"flex social-btns","data-testid":"social-btns",children:Object(u.jsx)(Te,{buttonContent:U})})]}),Object(u.jsxs)("div",{className:"row row-two",children:[je(),Object(u.jsx)("div",{className:"column",children:Object(u.jsx)("p",{className:"copyright-text",children:G.name})}),Object(u.jsx)("div",{className:"column social-div",children:Object(u.jsx)("ul",{className:"social-icons",children:be()})})]})]});return Object(x.mb)(l,me,he)},Ae=n(10),ye=n(27),De=n.p+"static/media/PopupCloseBtn.ee8133ae.svg",_e=n.p+"static/media/GoBackIcon.10c30781.svg",Re=n(36),we=n(34),Pe="upSellTitle",Le="view",ke="kfcMenu",Me={TIMER:"timer",CURRENCY:"\u20b9",SERVES:"  ",VEG:"veg",NON_VEG:"nonveg",EXCLUSIVE_DEAL:"exclusiveDeal",NEW:"new",TOP_SELLER:"topSeller"},Fe={LARGE:"large",MEDIUM:"medium",SMALL:"small",CAROUSAL:"carousal"},He="web",Ue="editSelectionsBtnText",Be="editSelections",Ge="selectQuantity",Ye="clearAll",Ke="clearSearch",Ve="yourSearch",We="turnedNoResult",qe="backToMenu",ze="we Found",Qe="Sorry",Je="is currently closed.",Xe="results",Ze="INDIA",$e=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.upsizeSelectedPwa.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===t||void 0===t?void 0:t.name)||"NA","%size%":(null===t||void 0===t?void 0:t.size)||"NA","%upsizeSelectedFrom%":n||"NA"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),et=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.makeItACombo.name,{"%event%":"makeItACombo"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.purchaseOrder.name,{data:{event:"purchase",ecommerce:t||{}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.viewOfferDetailsPwa.name,{"%event%":"viewOfferDetails","%offerName%":t.offerTitle},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.signUpClick.name,{"%event%":"signUpClick","%orderValue%":t.orderValue},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.popupView.name,{"%event%":"popupView","%popupTitle%":t.popupTitle},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.findAkfc.name,{"%event%":t},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a[t].name,{data:{event:t,ecommerce:Object(Re.a)({},t,{items:n})}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.viewItemList.name,{data:{event:"view_item",ecommerce:{view_item:{items:t||[]}}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.signUpStart.name,{data:{event:"signUpStart"}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=n(208),lt=n.n(dt),ut=function(e){var t=e.ariaLabel,n=void 0===t?"Back":t,a=e.clickHandler,i=e.closeBtnRefCallback,c=e.alt,o=void 0===c?"Close OFFERS & DEALS dialog":c,r=e.className,s=void 0===r?"custom-modal-close":r,d=e.imageSrc,l=void 0===d?"":d,b=e.dataTestId;return Object(u.jsx)("button",{type:"button",className:s,"data-dismiss":"modal","aria-label":n,onClick:a,ref:i,"data-testid":b,children:Object(u.jsx)(C.a,{srcFile:l,alt:o})})},bt=function(e){var t=e.classNames,n=e.show,a=e.autoFocus,c=e.modalTitleId,o=e.modalTitle,r=void 0===o?null:o,s=e.children,d=e.closeBtnRefCallback,l=e.showCloseBtn,b=void 0!==l&&l,v=e.showBackBtn,j=void 0!==v&&v,O=e.closeButtonHandler,m=e.backButtonHandler,f=e.ariaLabel,p=e.modalTitleRequired,h=void 0===p||p,g=e.backBtnClassName,N=void 0===g?"custom-modal-back":g,x=e.backBtnAlt,E=void 0===x?"back":x,I=e.closeDataTestId,T=void 0===I?"":I,C=e.backDataTestId,S=void 0===C?"":C,A=Ae.a.AUTO,y=Ae.a.HIDDEN;return Object(i.useEffect)((function(){return document.querySelector("body").style.overflow=y,function(){document.querySelector("body").style.overflow=A}})),Object(i.useEffect)((function(){r&&it({popupTitle:r})}),[r]),Object(u.jsx)(lt.a,{children:Object(u.jsx)("div",{show:n.toString(),className:"shared-modal-container ".concat(t),autoFocus:a||!1,"data-testid":c,children:Object(u.jsxs)("div",{className:"modal-content",tabIndex:"-1","aria-labelledby":c,role:"dialog",children:[Object(u.jsxs)("div",{className:"modal-header",children:[j&&m&&Object(u.jsx)(ut,{ariaLabel:"Go back to Start Your Order dialog",clickHandler:m,className:N,imageSrc:_e,alt:E,dataTestId:S}),h&&Object(u.jsx)("h2",{className:"header-title",id:c,children:r}),b&&O&&Object(u.jsx)(ut,{ariaLabel:f,clickHandler:O,closeBtnRefCallback:d,imageSrc:De,dataTestId:T})]}),Object(u.jsx)("div",{className:"modal-body",children:s})]})})})},vt=function(e){return Object(u.jsx)(bt,Object(a.a)({},e))},jt=function(e){return Object(u.jsx)(vt,Object(a.a)({onExitedCallback:e.onModalExitedCallback},e))},Ot=n(11),mt=n(81),ft=n.p+"static/media/Call.1ad33a6d.svg",pt=n.p+"static/media/Direction.84bc1b15.svg",ht=n.p+"static/media/RedMarker.e7c38d6b.svg",gt=n.p+"static/media/BlackMarker.b3f28275.svg",Nt=function(e){var t=e.isOpen,n=e.handleClose,c=e.OrderReducerData,o=Object(i.useState)(Object(x.Ib)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=window.google;Object(i.useEffect)((function(){return window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}));var b=function(){d(Object(x.Ib)(window.innerWidth))},v=s?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:n,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:n,autoFocus:!0};function O(){var e,t,n,a,i=new l.maps.DirectionsService,o=new l.maps.DirectionsRenderer,r=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===c||void 0===c||null===(e=c.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.longitude)}});o.setMap(r),function(e,t){var n,a,i,o,r,s,d,u,b,v,j,O,m={lat:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.latitude),lng:Number(null===c||void 0===c||null===(i=c.store)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.longitude)},f=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:m});e.route({origin:{lat:Number(null===c||void 0===c||null===(r=c.store)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.latitude),lng:Number(null===c||void 0===c||null===(d=c.store)||void 0===d||null===(u=d.location)||void 0===u?void 0:u.longitude)},destination:{lat:Number(null===c||void 0===c||null===(b=c.store)||void 0===b||null===(v=b.location)||void 0===v?void 0:v.latitude),lng:Number(null===c||void 0===c||null===(j=c.store)||void 0===j||null===(O=j.location)||void 0===O?void 0:O.longitude)},travelMode:l.maps.TravelMode.DRIVING},(function(e,n){if("OK"===n){t.setDirections(e);var a=e.routes[0].legs[0];new l.maps.Marker({position:a.end_location,map:f,visible:!0,icon:gt,title:"Delivery-Location"})}else new l.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(i,o)}return Object(i.useEffect)((function(){null!==(null===c||void 0===c?void 0:c.deliveryAddress)&&null!==(null===c||void 0===c?void 0:c.store)&&Object(x.bc)(null===c||void 0===c?void 0:c.service)===Object(x.bc)(T.r)?O():Object(x.bc)(null===c||void 0===c?void 0:c.service)!==Object(x.bc)(T.eb)&&Object(x.bc)(null===c||void 0===c?void 0:c.service)!==Object(x.bc)(T.v)||null===(null===c||void 0===c?void 0:c.store)||function(){var e,t,n,a,i={lat:Number(null===c||void 0===c||null===(e=c.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.longitude)},o=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:i});new l.maps.Marker({position:i,map:o,visible:!0,icon:ht,title:"KFC Store"})}()})),Object(u.jsx)("div",{children:t&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},v),{},{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{id:"maps"})})}))})};Nt.defaultProps={isOpen:!1,closeModal:null};var xt=Nt,Et=["placeholder","labelClassName","inputClassName","helperTextClassName","containerClassName","inputTestId","labelTestId","onKeyPressHandler","error","helperText","ariaLabel","ariaRequired","autoComplete"],It=function(e){var t=e.placeholder,n=void 0===t?"":t,i=e.labelClassName,c=void 0===i?"":i,o=e.inputClassName,r=void 0===o?"":o,s=e.helperTextClassName,d=void 0===s?"":s,l=e.containerClassName,b=void 0===l?"":l,v=e.inputTestId,j=void 0===v?"":v,O=e.labelTestId,m=void 0===O?"":O,f=e.onKeyPressHandler,p=void 0===f?null:f,h=e.error,g=void 0!==h&&h,N=e.helperText,x=void 0===N?"":N,E=(e.ariaLabel,e.ariaRequired),I=void 0===E?"":E,T=e.autoComplete,C=void 0===T?"":T,S=Object(P.a)(e,Et);return Object(u.jsxs)("div",{className:"field material-input ".concat(b),children:[g&&Object(u.jsx)("span",{className:d,role:"alert",children:x}),Object(u.jsx)("input",Object(a.a)({className:r,id:"mt-input-".concat(n),name:"mt-input-".concat(n),placeholder:n,onKeyPress:p,"data-testid":j,"aria-required":I,autocomplete:C},S)),Object(u.jsx)("label",{"data-testid":m,className:c,for:"mt-input-".concat(n),children:n})]})},Tt=n(132),Ct=n(19),St=n(71),At=n.p+"static/media/Ellipse.f24b73f4.svg",yt=n.p+"static/media/tickWhiteToast.c5b28bc1.svg",Dt=n(45),_t=["onKeyPressHandler","value","ref"],Rt=function(e){var t=e.onKeyPressHandler,n=void 0===t?null:t,i=e.value,c=void 0===i?"":i,o=(e.ref,Object(P.a)(e,_t));return Object(u.jsx)("input",Object(a.a)({value:c,onChange:function(e){return e.preventDefault()},onKeyPress:n},o))},wt=n(70),Pt=n(710),Lt=n(30),kt=n.p+"static/media/TimerIcon.9e559d6e.svg",Mt=n.p+"static/media/Time_ClockDark.bcd6727f.svg",Ft=function(e){var t=e.endTime,n=void 0===t?new Date:t,a=Object(i.useState)(Object(wt.d)(n)),c=Object(j.a)(a,2),o=c[0],r=c[1];return Object(i.useEffect)((function(){var e;return Object(wt.g)(n)?e=setTimeout((function(){r(Object(wt.d)(n))}),1e3):r("00HR : 00M : 00S"),function(){clearTimeout(e)}})),Object(u.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:o})},Ht=n(31),Ut=function(e){var t=e.data,n=e.cardType,a=e.id,o=e.tenantId,r=e.applyCoupon,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(x.y)(window.innerWidth),O=function(e){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.showTimer)?Object(wt.g)(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("p",{"data-testid":"coupon-header-block",className:"coupon-time",children:Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:kt,alt:""}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(u.jsxs)("p",{"data-testid":"coupon-header-block",className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(u.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(u.jsxs)("span",{className:"coupon-expiry-details",children:[Object(u.jsx)("img",{alt:"",src:Mt}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(wt.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})};return Object(u.jsx)(c.a.Fragment,{children:"image-text"===n?function(e,n){var a;return Object(u.jsxs)("section",{"data-testid":"coupon-container",className:"coupon-card-container",children:[Object(u.jsxs)("section",{className:"coupon-card-content text-image",children:[Object(u.jsx)("section",{className:"coupon-image-content",children:Object(u.jsx)(C.a,{className:"coupon-image",srcFile:"".concat(Object(Lt.a)(Ht.M)).concat(o,"/images/offers/").concat(v,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"",defaultPath:"".concat(Object(Lt.a)(Ht.M)).concat(o).concat(Dt.f)})}),Object(u.jsxs)("section",{className:"coupon-text-content image-text",children:[O(t),Object(u.jsx)("h4",{role:"text","data-testid":"coupon-heading-block",className:"coupon-heading margin-bottom-5",children:Object(x.cc)(null===e||void 0===e?void 0:e.heading)}),Object(u.jsx)("h5",{role:"text","data-testid":"coupon-desc-block",className:"coupon-desc margin-bottom-5",children:Object(x.cc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsxs)("h5",{role:"text","data-testid":"coupon-terms-btn",onClick:function(){return b(!l)},className:"coupon-terms",children:[Object(Ce.e)(Dt.q),Object(u.jsx)("img",{src:_e,alt:"",className:l?"terms-arrow inverted":"terms-arrow"})]})]}),Object(u.jsx)("section",{className:"coupon-button-container",children:Object(u.jsx)(Ot.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return r(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(Ce.e)(Dt.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(u.jsx)("span",{className:"btn-text",children:(null===t||void 0===t?void 0:t.isApplied)?Object(Ce.e)(Dt.l):Object(Ce.e)(Dt.m)})})})]}),Object(u.jsx)("section",{"data-testid":"terms-list-block",className:l?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(a=e.termsAndConditions)||void 0===a?void 0:a.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},n)}(t,a):function(e,t){var n;return Object(u.jsxs)("div",{"data-testid":"coupon-container",className:"coupon-card-container text-only",children:[Object(u.jsxs)("div",{className:"coupon-card-content text-only",children:[Object(u.jsxs)("div",{className:l?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[O(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(x.cc)(null===e||void 0===e?void 0:e.heading)}),Object(u.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(x.cc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsxs)("h5",{"data-testid":"coupon-terms-btn",onClick:function(){return b(!l)},className:"coupon-terms",children:[Object(Ce.e)(Dt.q),Object(u.jsx)("img",{src:_e,alt:"",className:l?"terms-arrow inverted":"terms-arrow"})]})]}),Object(u.jsx)("div",{className:"coupon-button-container",children:Object(u.jsx)(Ot.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return r(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(Ce.e)(Dt.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ce.e)(Dt.l):Object(Ce.e)(Dt.m)})})})]}),Object(u.jsx)("div",{"data-testid":"terms-list-block",className:l?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(t,a)})};Ut.defaultProps={data:{},cardType:"text",tenantId:"",id:Object(Pt.a)(),applyCoupon:function(){}};var Bt=Ut,Gt=function(e){var t=e.contentData,n=e.tenantId,a=e.applyCoupon,o=Object(i.useState)(null),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(null),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(x.y)(window.innerWidth),f=function(e){d(e===s?null:e),O(null)},p=function(e,t){e.stopPropagation(),O(t===v?null:t)},h=function(e){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.showTimer)?Object(wt.g)(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("p",{className:"coupon-time",children:Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:kt}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(u.jsxs)("p",{className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(u.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(u.jsxs)("span",{className:"coupon-expiry-details",children:[Object(u.jsx)("img",{alt:"time_clock",src:Mt}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(wt.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})};return Object(u.jsx)(c.a.Fragment,{children:t.map((function(e,t){return"image-text"===e.cardType?function(e,t){var i;return Object(u.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return f(t)},className:"coupon-card-container",children:[Object(u.jsxs)("div",{className:"coupon-card-content",children:[Object(u.jsxs)("div",{className:"coupon-mobile-content",children:[Object(u.jsxs)("div",{className:"coupon-mobile-image-text",children:[Object(u.jsx)("div",{className:"coupon-image-content",children:Object(u.jsx)(C.a,{className:"coupon-image",srcFile:"".concat(Object(Lt.a)(Ht.M)).concat(n,"/images/offers/").concat(m,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.M)).concat(n).concat(Dt.f)})}),Object(u.jsxs)("div",{className:"coupon-text-content with-image",children:[h(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(x.cc)(null===e||void 0===e?void 0:e.heading)})]})]}),Object(u.jsx)("div",{"data-testid":"coupon-accordian-content",className:s===t?"coupon-text-content coupon-below-image show":"coupon-text-content coupon-below-image",children:Object(u.jsxs)("div",{className:"coupon-accordion-content show",children:[Object(u.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(x.cc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsx)(Ot.a,{"data-testid":"apply-button",onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"button whiteButton coupon-button blackBorder",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ce.e)(Dt.l):Object(Ce.e)(Dt.m)}),Object(u.jsxs)("h5",{"data-testid":"coupon-terms-block",onClick:function(e){return p(e,t)},className:"coupon-terms",children:[Object(Ce.e)(Dt.q),Object(u.jsx)("img",{src:_e,className:v===t?"terms-arrow inverted":"terms-arrow"})]})]})})]}),Object(u.jsx)("div",{"data-testid":"accordian-toggle-button",className:"coupon-accordian-button",children:Object(u.jsx)("img",{src:_e,className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow"})})]}),Object(u.jsx)("div",{"data-testid":"terms-list-block",className:v===t?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(i=e.termsAndConditions)||void 0===i?void 0:i.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t):function(e,t){var n;return Object(u.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return f(t)},className:"coupon-card-container",children:[Object(u.jsxs)("div",{className:"coupon-card-content",children:[Object(u.jsxs)("div",{className:s===t?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[Object(u.jsxs)("div",{className:"coupon-text-limiter",children:[h(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(x.cc)(null===e||void 0===e?void 0:e.heading)})]}),Object(u.jsxs)("div",{className:s===t?"coupon-accordion-content show":"coupon-accordion-content","data-testid":"coupon-accordian-content",children:[Object(u.jsx)("h5",{className:"coupon-desc","data-testid":"coupon-desc-block",children:Object(x.cc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsx)(Ot.a,{className:"button whiteButton coupon-button blackBorder",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},"data-testid":"apply-button",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ce.e)(Dt.l):Object(Ce.e)(Dt.m)}),Object(u.jsxs)("h5",{className:"coupon-terms","data-testid":"coupon-terms-block",onClick:function(e){return p(e,t)},children:[Object(Ce.e)(Dt.q),Object(u.jsx)("img",{className:v===t?"terms-arrow inverted":"terms-arrow",src:_e})]})]})]}),Object(u.jsx)("div",{className:"coupon-accordian-button","data-testid":"accordian-toggle-button",children:Object(u.jsx)("img",{className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow",src:_e})})]}),Object(u.jsx)("div",{className:v===t?"terms-list show":"terms-list","data-testid":"terms-list-block",children:Object(u.jsx)("ul",{"data-testid":"mainterms-list",className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(u.jsx)("li",{id:"terms-list",children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t)}))})};Gt.defaultProps={contentData:[],tenantId:"",applyCoupon:null};var Yt=Gt,Kt=function(e){var t=e.isMobile,n=e.couponsData,a=e.tenantId,i=e.applyCoupon,o=Object(wt.i)(n);return Object(u.jsx)(c.a.Fragment,{children:t?Object(u.jsx)(Yt,{contentData:o,applyCoupon:i,tenantId:a}):o.map((function(e,t){return Object(u.jsx)(Bt,{data:e,tenantId:a,cardType:null===e||void 0===e?void 0:e.cardType,id:t,applyCoupon:i},t)}))})};Kt.defaultProps={isMobile:!1,couponsData:[],tenantId:"",applyCoupon:null};var Vt=Kt,Wt=n(52),qt=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.guestContactDetails.name,{"%event%":"guestContactDetails"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.addContactInfo.name,{data:{event:"add_contact_info",ecommerce:{checkout_cart:{items:t}}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.beginCheckoutPwa.name,{data:{event:"begin_checkout",ecommerce:{checkout_cart:{items:t}}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.paymentInfoClick.name,{data:{event:"add_payment_info",paymentType:t,ecommerce:{checkout_cart:{items:n}}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.checkoutClick.name,{data:{event:"checkoutClick"}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zt=n(53),$t=n.p+"static/media/Error.c9ff5c1b.svg",en={contentData:{scheduleOrderHeaderText:"scheduleOrder",changeScheduleOrderHeaderText:"changeYourOrderTitle",scheduleOrderModalContent:{formContent:{orderTypeTitle:"orderType",restaurantTitle:"YourKFCLocation",yourLocationTitle:"yourLocation",editTitle:"edit",scheduleDateTitle:"scheduleForYourOrder",dateTitle:"date",timeTitle:"time",buttonText:"confirm",dateOptions:["Today","23/03/2021","24/03/2021"],timeOptions:[9.3,10,10.3,11]}},DELIVERY_NA_WARNING_MESSAGE:"noStoresWithDeliveryHeader",DELIVERY_PICKUP_NA_MESSAGE:"deliverystoresWithoutAnyServiceHeader",SWITCH_TO_TAKEAWAY:"switchToTakeaway",errorMessageInactive:"errorMessageInactive",errorMessageClosed:"errorMessageClosed"},timingsSampleData:{operatingHours:[{day:"EVERYDAY",availableHours:{from:"10:00",to:"23:00"}}],asap:{isAvailable:!0,promiseTime:0},scheduled:{date:"2021-05-05",periods:[{startEndTime:{from:"11:30",to:"23:00"},interval:15}],unavailibilities:[]},futureDates:["2021-05-06"]}},tn=n(89),nn=n(56),an=nn.a.getInstance,cn=function(){var e=T.hb.HOME_PAGE,t=T.hb.SIGNOUT,n=window.location.pathname;return n===t?e:n},on=function(){var e=window.location.origin+Object(Lt.a)(Ht.C),t=an().generateSignInUrl(e,!1,cn());window.location.assign(t)},rn=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a,i,c,o,r,s,d,l=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"Phone",a=an(),i=a.phoneNumber,c=a.customerId,o=a.firstName,r=a.familyName,s=a.email,!c||!t){e.next=5;break}return e.next=5,je.a.registerEvent(null===we.a||void 0===we.a||null===(d=we.a.registrationFinish)||void 0===d?void 0:d.name,{"%event%":"registrationFinish","%loginMethod%":n||"NA","%userID%":c||"NA","%firstName%":o||"NA","%lastName%":r||"NA","%email%":s||"NA","%phone%":i||"NA"},x.D);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=an(),a=n.customerId,e.next=3,je.a.registerEvent(null===we.a||void 0===we.a||null===(t=we.a.signInFinish)||void 0===t?void 0:t.name,{"%event%":"signInFinish","%userID%":a||"NA","%loginMethod%":"I\u2019m a guest, sign me up later!","%firstName%":"NA","%lastName%":"NA","%phoneNumber%":"NA"},x.D);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dn=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a,i,c,o,r,s=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:"Phone",a=an(),i=a.phoneNumber,c=a.customerId,o=a.firstName,r=a.familyName,e.next=4,je.a.registerEvent(null===we.a||void 0===we.a||null===(t=we.a.signInFinish)||void 0===t?void 0:t.name,{"%event%":"signInFinish","%userID%":c||"NA","%loginMethod%":n||"NA","%firstName%":o||"NA","%lastName%":r||"NA","%phoneNumber%":i||"NA"},x.D);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ln=Ae.a.ANALYTICS_LOCALISATION_SIGNIN,un=f.a.PAYMENT_FAILED_MESSAGE,bn=f.a.PAYMENT_PRE_VALIDATION_FAILED_MESSAGE,vn=en.contentData,jn=vn.scheduleOrderHeaderText,On=vn.changeScheduleOrderHeaderText,mn=function(e){return e?"formElement-error":"formElement"},fn=function(e,t){e&&t()},pn=function(e){return e?"text-danger":" "},hn=function(e){return e?" mobile":""},gn=function(e){return e?"":" px-rt-5px"},Nn=function(e){var t=e.date,n=e.time,a=Zt.c.ASAP,i="";if(t&&n){var c=Object(ye.e)(t,"YYYYMMDD")===Object(ye.c)("YYYYMMDD")?Object(Ce.e)("today"):Object(Ce.e)("tomorrow"),o=n;i=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{children:c}),Object(u.jsx)("span",{children:o})]})}return"ASAP"===n&&(i=Object(u.jsx)("label",{children:Object(Ce.e)(a)})),i},xn=function(e){var t,n=Zt.c.CHECKOUT_TITLES,a=Zt.c.IS_DELIVERY,i=Zt.c.IS_TAKEAWAY,c=Zt.c.IS_DINEIN;return Object(x.bc)(e)===a&&(t=n.DELIVERY_INFO),Object(x.bc)(e)===i&&(t=n.TAKEAWAY_INFO),Object(x.bc)(e)===c&&(t=n.DINEIN_INFO),t},En=function(e){var t,n=Zt.c.CHECKOUT_TITLES,a=Zt.c.IS_DELIVERY,i=Zt.c.IS_TAKEAWAY,c=Zt.c.IS_DINEIN;return Object(x.bc)(e)===a&&(t=n.DELIVERY_OPTIONS),Object(x.bc)(e)===i&&(t=n.TAKEAWAY_OPTIONS),Object(x.bc)(e)===c&&(t=n.DINEIN_OPTIONS),t},In=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,!t||t.length<2?(i.error=!0,i.errorMessage=Object(Ce.e)("emptyFullNameErrMsg")):(n=t,!Zt.b.test(n)||t.length>26?(i.error=!0,i.errorMessage=Object(Ce.e)("invalidFullNameErrMsg")):(i.error=!1,i.errorMessage="")),i},Tn=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,t?(n=t,Zt.a.test(null===n||void 0===n?void 0:n.toLowerCase())?(i.error=!1,i.errorMessage=""):(i.error=!0,i.errorMessage=Object(Ce.e)("invalidEmailErrMsg"))):(i.error=!0,i.errorMessage=Object(Ce.e)("emptyEmailErrMsg")),i},Cn=function(e,t,n,a){var i;if(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length){var c=[];null===e||void 0===e||e.foodLines.forEach((function(e,t){var i,o,r,s,d=(e.amount/n).toFixed(2),l=null!==(i=null===a||void 0===a?void 0:a[null===(o=e.item)||void 0===o?void 0:o.id])&&void 0!==i?i:{},u=l.categoryId,b=void 0===u?"NA":u,v=l.categoryName,j=void 0===v?"NA":v;c.push({item_name:(null===(r=e.item)||void 0===r?void 0:r.dname[0].value)||"NA",item_id:(null===(s=e.item)||void 0===s?void 0:s.id)||"NA",price:parseFloat(d)||"NA",item_category:j,item_list_name:j,item_list_id:b,index:t+1,quantity:e.quantity||"NA"})})),"AddContactInfoClick"===t&&zt(c),"BeginCheckoutClick"===t&&Qt(c)}},Sn=function(e,t,n,i){var c=Zt.c.IS_DELIVERY,o=Zt.c.IS_TAKEAWAY,r=Object(a.a)({},e);return r.value=t,Object(x.bc)(n)===c?(r.error=!1,r.errorMessage=""):t||Object(x.bc)(n)!==o||"handittome"!==i?t.length<2&&Object(x.bc)(n)===o&&"handittome"===i?(r.error=!0,r.errorMessage=Object(Ce.e)("invalidVehicalInformation")):(r.error=!1,r.errorMessage=""):(r.error=!0,r.errorMessage=Object(Ce.e)("pleaseEnterYourVehicalInformation")),r},An=function(e,t,n,a){var i,c=[];null===e||void 0===e||null===(i=e.foodLines)||void 0===i||i.forEach((function(e,n){var i,o,r,s,d=null!==(i=null===a||void 0===a?void 0:a[null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id])&&void 0!==i?i:{},l=d.categoryId,u=void 0===l?"NA":l,b=d.categoryName,v=void 0===b?"NA":b;c.push({item_name:(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.name)||"NA",item_id:(null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.id)||"NA",price:Number(((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2))||0,item_category:v,item_list_name:v,item_list_id:u,index:n+1,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Jt(null===n||void 0===n?void 0:n.name,c)},yn=function(e){var t,n,a,i,c,o=(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.response)?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.response)||void 0===a?void 0:a.data:null===e||void 0===e?void 0:e.response,r="";return(null===o||void 0===o?void 0:o.errors)&&(null===o||void 0===o?void 0:o.errors.length)>0?r=Array.isArray(null===o||void 0===o?void 0:o.errors)?null===o||void 0===o?void 0:o.errors[0]:null===o||void 0===o?void 0:o.errors:(null===o||void 0===o?void 0:o.errorMessages)&&(r=Array.isArray(null===o||void 0===o?void 0:o.errorMessages)?null===o||void 0===o?void 0:o.errorMessages[0]:null===o||void 0===o?void 0:o.errorMessages),r=(null===(i=r)||void 0===i?void 0:i.message)?null===(c=r)||void 0===c?void 0:c.message:r},Dn=function(e,t,n){var a="";return n?a=Object(Ce.e)(bn):t?a=Object(Ce.e)(un):e&&(null===e||void 0===e?void 0:e.error)&&(a=yn(e)),""!==a&&Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px payment-failed-error-box",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"mt-3px mr-5px"}),Object(u.jsx)("div",{className:"ml-10px",children:a})]})},_n=function(e,t){"PICKUP"===e&&(t="leaveatmydoor"===t?"in-store":"KFC to your Car");var n=sessionStorage.getItem("setAttributePayload");n&&((n=JSON.parse(n)).CollectionPoint=t,Object(x.mc)(n))},Rn=function(e,t){var n=Zt.c.IS_TAKEAWAY,a=Zt.c.IS_CURBSIDE;return t!==n||Array.isArray(e)&&e.length>0&&Boolean(e.find((function(e){return e.collectionPointName===a})))},wn=function(e,t){t&&(null===t||void 0===t?void 0:t.error)&&(null===t||void 0===t?void 0:t.response)&&(e(Object(mt.e)()),e(Object(mt.a)({value:[]}))),e(Object(tn.b)()),localStorage.setItem(T.S.ORDER_TRACKING,null)},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t&&Object(x.I)(e,n)},Ln=function(e){var t=e.isOpen,n=e.handleClose,c=e.bucketId,o=Object(N.c)((function(e){return e.tenantReducer})),r=Object(i.useContext)(E.a).userOrderStateDispatch,s=o.tenantId,d=void 0===s?"":s,l=o.componentOptions,b=void 0===l?{}:l,v=Object(i.useState)(Object(x.Ib)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],I=h[1],S=Object(i.useState)(""),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)(!1),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(N.b)(),k=Object(N.c)((function(e){return e.cartReducer})),M=Object(N.c)((function(e){return e.appStateReducer})).userStatus,F=(void 0===M?{}:M).loggedIn,H=void 0!==F&&F,U=k.applicableCoupons,B=k.couponError,G=k.cartData,Y=void 0===G?{}:G,K=k.isCouponLoading,V=void 0===K||K,W=Y.discountLines,q=void 0===W?[]:W,z=Object(x.n)(U);Object(i.useEffect)((function(){L(Object(Ct.g)({basketId:c,tenantId:d}))}),[]),Object(i.useEffect)((function(){!function(e,t){t&&"NA"!==t&&Object(x.I)(e,t)}(Object(Ce.e)(Dt.j),y)}),[y]),Object(i.useEffect)((function(){return window.addEventListener("resize",J),function(){window.removeEventListener("resize",J)}}));var Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.stopPropagation();var n=document.getElementById("coupon-top-div");null===n||void 0===n||n.scrollIntoView(!0),r({type:Dt.n,value:{couponErrorMessage:""}}),L(Object(Ct.b)({basketId:c,tenantId:d},{couponCode:t||g}));var a=t||g;I(a)};Object(i.useEffect)((function(){var e,t,a,i,o,s,l=q.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.name)===Dt.a}));(null===l||void 0===l?void 0:l.length)>(null===b||void 0===b||null===(e=b.coupons)||void 0===e?void 0:e.noOfCoupopnAllowed)&&L(Object(Ct.m)({basketId:c,tenantId:d,couponCode:null===(t=l[0])||void 0===t?void 0:t.couponCode}));!g||V||w?w&&(r({type:Dt.n,value:{couponErrorMessage:""}}),P(!1)):B&&(null===B||void 0===B?void 0:B.errorCode)?D(B.errors[0]):(null===q||void 0===q?void 0:q.length)&&(null===(a=q[(null===q||void 0===q?void 0:q.length)-1])||void 0===a||null===(i=a.status)||void 0===i?void 0:i.name)===Dt.a?(n("true"),Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(C.a,{srcFile:yt})," ",Object(u.jsx)("span",{className:"text",children:Object(Ce.e)(Dt.p)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),localStorage.setItem("expiryMessage",Object(Ce.e)(Dt.c)),setTimeout((function(){Wt.b.dismiss()}),3e3)):(null===q||void 0===q?void 0:q.length)&&(null===(o=q[(null===q||void 0===q?void 0:q.length)-1])||void 0===o||null===(s=o.status)||void 0===s?void 0:s.name)===Dt.g&&(D(Object(wt.b)(q[(null===q||void 0===q?void 0:q.length)-1])),P(!0))}),[B,q]);var J=function(){f(Object(x.Ib)(window.innerWidth))},X=function(){I(""),D("")},Z=m?{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Ce.e)(Dt.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"}:{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:n,backButtonHandler:n,modalTitle:Object(Ce.e)(Dt.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"},$=Object(St.a)({"coupon-text-box":!0,"error-msg":y});return Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},Z),{},{"data-testid":"modal-coupon-landing-page",children:[Object(u.jsx)("div",{className:"coupon-top-box coupon-border",id:"coupon-top-div",children:Object(u.jsxs)("div",{className:"coupon-top-content",children:[Object(u.jsxs)("div",{className:"coupon-discount-col-1",children:[Object(u.jsx)("h3",{"data-testid":"coupon-content-header",className:"coupon-content-header",children:Object(Ce.e)(Dt.i)}),Object(u.jsx)("p",{"data-testid":"coupon-content-desc",className:"coupon-content-desc",children:Object(Ce.e)(Dt.h)})]}),Object(u.jsxs)("div",{className:"coupon-discount-col-2",children:[Object(u.jsx)("label",{"data-testid":"coupon-input-label",className:"coupon-input-label",htmlFor:"modal-coupon-input",children:Object(Ce.e)(Dt.d)}),Object(u.jsxs)("div",{className:"flex-input-section",children:[Object(u.jsx)(Rt,{id:"modal-coupon-input",value:g,className:$,placeholder:"Enter code","data-testid":"modal-coupon-input-field",onChange:function(e){I(e.target.value),D("")}}),g.length>0&&Object(u.jsx)("button",{"data-testid":"coupon-cross-icon",className:"discount-button-img",onClick:function(){return X()},onKeyPress:function(){return X()},"aria-label":"Clear Discount Code"})]}),y&&Object(u.jsxs)("div",{role:"alert",children:[Object(u.jsx)("img",{className:"",src:At,alt:"invalid"})," ",Object(u.jsx)("span",{"data-testid":"coupon-err-msg",className:"error-msg error-container-coupon",children:y})]})]}),Object(u.jsx)("div",{className:"coupon-discount-col-3",children:Object(u.jsx)(Ot.a,{"aria-label":Object(Ce.e)(Dt.b),id:"btn-apply-view","data-testid":"coupon-apply-btn",className:"button whiteButton blackBorder coupon-button",disabled:!(null===g||void 0===g?void 0:g.length),onClick:function(e){return Q(e,"")},children:Object(Ce.e)(Dt.b)})})]})}),Object(u.jsxs)("div",{className:"coupon-mid-box",children:[Object(u.jsx)("h3",{"data-testid":"modal-mid-header",className:"modal-mid-header",children:Object(Ce.e)(Dt.k)}),!H&&Object(u.jsx)("span",{onClick:function(){on()},"data-id":T.o.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"modal-mid-desc",tabIndex:"0",className:"modal-mid-desc",children:Object(Ce.e)(Dt.t)})]}),Object(u.jsx)(Vt,{"data-testid":"coupons-list",isMobile:m,applyCoupon:Q,tenantId:d,couponsData:z})]}))};Ln.defaultProps={isOpen:!1,closeModal:null};var kn=Ln,Mn=n.p+"static/media/Offers_Coupon_Icon.72b94c41.svg",Fn=n(37),Hn=function(e){var t=e.bucketId,n=void 0===t?"":t,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Fn.a.OFFERS_COUPONS,d=s.APPLY_OFFERS,l=s.VIEW_ALL,b=function(e){r(!1)};return Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&b()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),Object(u.jsxs)("div",{className:"cart-offers-container","data-testid":"cart-offers-coupon",children:[Object(u.jsxs)("div",{className:"cart-offers-link",children:[Object(u.jsx)("img",{src:Mn,alt:"",className:"cart-offers-icon"}),Object(u.jsx)("span",{className:"cart-offers-text",children:Object(Ce.e)(d)})]}),Object(u.jsx)(Ot.a,{onClickHandler:function(){return r(!0)},ariaLable:"View all offers",className:"button whiteButton blackBorder cart-offers-view-all","data-testid":"offers-toggle-btn",children:Object(Ce.e)(l)}),o&&Object(u.jsx)(kn,{"data-testid":"coupon-modal",bucketId:n,isOpen:o,handleClose:b})]})},Un=n.p+"static/media/Circle-close-button.bc38cc9f.svg",Bn=function(e,t){var n=t.currencySymbol,a=t.currencyConversionFactor;return n&&a&&e?"".concat(n).concat((e/a).toFixed(2)):"NA"},Gn=function(e){var t=e.cartReducer,n=void 0===t?{}:t,a=e.tenantReducer,c=void 0===a?{}:a,o=e.userParams,r=void 0===o?{}:o,s=e.type,d=c.tenantId,l=c.addHope,b=c.carryBag,v=c.currencyConversionFactor,O=n.cartData,m=void 0===O?{}:O,f=null===m||void 0===m?void 0:m.id,p=Object(x.tb)(null===m||void 0===m?void 0:m.foodLines),h=Object(i.useState)(0),g=Object(j.a)(h,2),E=g[0],I=g[1],T=null===m||void 0===m?void 0:m.subtotal,C=null===m||void 0===m?void 0:m.inclusiveTaxTotal,S=(null===m||void 0===m?void 0:m.additionalChargeLines)||[],A=(null===m||void 0===m?void 0:m.discountLines)||[],y=Object(N.b)(),D=Zt.c.IS_TAKEAWAY,_=Zt.c.CHECKOUT_SUMMARY,R=Zt.c.SEARCH_IN_CART,w=Zt.c.largeCarryBagText,P=Zt.c.addHopeText,L=_.QUANTITY_TEXT,k=_.SUBTOTAL,M=_.GST,F=_.ADDITIONAL_TAX,H=_.QUANTITYS_TEXT,U=Object(i.useState)(""),B=Object(j.a)(U,2),G=B[0],Y=B[1],K=Object(i.useState)(""),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(0),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(0),$=Object(j.a)(Z,2),ee=$[0],te=$[1];return Object(i.useEffect)((function(){if(Object(x.r)(l,b)){var e=p.length?Object(x.p)(p,l,v,R):{},t=Object(x.wb)(null===e||void 0===e?void 0:e.id);if(Y(t),t){var n=p.find((function(e){return e.id===t}));X(Bn(n.amount,c))}var a=p.length?Object(x.v)(p,b,v,R):{},i=Object(x.wb)(null===a||void 0===a?void 0:a.id);if(q(i),i){var o=p.find((function(e){return e.id===i}));te(Bn(o.amount,c))}var r=Object(x.M)(p,l,b);I(null===r||void 0===r?void 0:r.reduce((function(e,t){return+e+ +(null===t||void 0===t?void 0:t.quantity)}),0))}}),[p,l,b]),Object(u.jsxs)("div",{className:"checkout-summary d-flex flex-column",id:"checkout-summary","data-testid":"checkout-summary-test",children:[Object(u.jsxs)("h2",{className:"checkout-summary-item-count",children:[E," ",Object(x.mb)(1===E,Object(Ce.e)(L),Object(Ce.e)(H))]}),r.loggedIn&&Object(u.jsx)("div",{className:"checkout-summary-coupons",children:Object(u.jsx)(Hn,{bucketId:f})}),Object(u.jsxs)("div",{className:"checkout-summary-content",children:[Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ce.e)(k)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:Bn(T,c)})]}),Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ce.e)(M)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:Bn(C,c)})]}),!!S.length&&S.map((function(e,t){return Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ce.e)(F)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:Bn(e.amount,c)})]},t)})),!!A.length&&A.map((function(e,t){return Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsxs)("div",{className:"checkout-summary-content-item-name d-flex",children:[Object(u.jsxs)("span",{className:"checkout-discount-code",children:["Discount (",e.couponCode,")"]}),Object(u.jsx)("span",{className:"checkout-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:function(){return t=null===e||void 0===e?void 0:e.couponCode,void y(Object(Ct.m)({basketId:f,tenantId:d,couponCode:t}));var t},children:Object(u.jsx)("img",{src:Un})})]}),Object(u.jsxs)("div",{className:"checkout-summary-content-item-value",children:["- ",Bn(e.amount,c)]})]},t)})),Object(x.bc)(s)===D&&W&&Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-carry-bag-text",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ce.e)(w)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:ee})]}),Boolean(G)&&Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-add-hope-text",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ce.e)(P)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:J})]})]})]})},Yn=n.p+"static/media/Takeaway_Completed.10e792fc.svg",Kn=n.p+"static/media/Confirmed.67609d6f.svg",Vn={SAVE_ORDER_NAME_ERROR:"OccasionNameValidation",CURRENT_ORDER:"currentOrder",PROCESSING:"processing",PROCESSING_YOUR:"processingYour",ORDER_READY_IN_JUST:"orderReadyInJust",SECOND:"aSecondText",CONFIRMING_YOUR_ORDER:"confirmYourOrder",READY_IN_JUST_A_SECOND:"readyInJustASecond",YOUR_ORDER:"yourOrder",ORDER:"order#",COMPLETED:"completed",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUB_TOTAL:"subTotal",DISCOUNT:"discount",TOTAL:"total",ORDERS:"order",YOUR_SET:"YOU\u2019RE ALL SET",DELEIVERED_AROUND:" will be delivered around",PICKUP_AROUND:"willBeReadyForPickup",READY_FOR_PICKUP:"readyForPickup",NAME_ORDER_NUMBER:"GIVE US YOUR NAME OR ORDER NUMBER",WHEN_YOURE_HERE:"WHEN YOU\u2019RE HERE.",SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER:"SAVE YOUR ORDERS AND CHECKOUT FASTER",SAVED_TO_FAVORITE_MENU:"Saved this order in My Favorite Menu.",CREATE_AND_ACCOUNT_SAVE_ORDERS:"CREATE AN ACCOUNT TO SAVE YOUR ORDERS AND",CHECKOUT_FASTER:"CHECKOUT FASTER",SAVE_THIS_Order:"Save This Order",ORDER_FROM_CAPS:"ORDER FROM",VIEW_MORE:"View More Details",BACK_TO_CART:"backToCart",THAT_AINT_RIGHT:"thatNotRight",FAILED_MSG:"unsuccessfulPayment",FEEDBACK_EMAIL:"FeedbackEmail",PHONE_NUMBER:"phoneNumber",BACK_TO_CART_MSG:"GoBackToCart",ORDER_ACCEPTED:"orderAccepted",SIGN_UP:"signAndSaveOrder",RESTAURANT_HANDLING_CHARGE:"cartIncluTax",READY_FOR_DINEIN:"readyForDineIn",DINEIN_AROUND:"dineInText",PICKUP:"PICKUP",DELIVERY:"DELIVERY",ONLY_IMAGE:"Only image",DELIVERY_FEE:"deliveryFee",DISCOUNT_TEXT:"DiscountText",THANKYOU:"saveOrderThankYou",WE_SAVED:"weSaved",GIVE_A_NAME:"giveAName",SCHEDULE_ORDER:"savedOrderScheduleOrder",ORDER_DETAIL:"orderDetails",SCHEDULED:"scheduled",GST:"cartGst",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",HH_MM:"hh mm",HH_MM_A:"hh:mma",TOTAL_GST_INCLUDED:"gstIncluded",REORDER_FAVOURITES:"reorderFavourites",CREATE_KFC_ACCOUNT:"createKfcAccount"},Wn=Vn.ORDERS,qn=void 0===Wn?"":Wn,zn=Vn.READY_FOR_PICKUP,Qn=void 0===zn?"":zn,Jn=Vn.DELEIVERED_AROUND,Xn=void 0===Jn?"":Jn,Zn=Vn.PICKUP_AROUND,$n=void 0===Zn?"":Zn,ea=Vn.ORDER_ACCEPTED,ta=void 0===ea?"":ea,na=Vn.READY_FOR_DINEIN,aa=void 0===na?"":na,ia=Vn.DINEIN_AROUND,ca=void 0===ia?"":ia,oa=Vn.PICKUP,ra=void 0===oa?"":oa,sa=function(e){e(!0)},da=function(e,t){e(t)},la=function(e,t,n){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:Yn,alt:"success"}),Object(u.jsx)("div",{className:"allSet",children:Object(x.bc)(n)===ra?Object(Ce.e)(Qn):Object(Ce.e)(aa)}),Object(u.jsxs)("div",{className:"idAndTime",children:[Object(Ce.e)(qn)," ",Object(u.jsxs)("span",{className:"red",children:["#",null===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId," "]}),Object(x.bc)(n)===ra?Object(Ce.e)($n):Object(Ce.e)(ca),Object(u.jsx)("div",{className:"red",children:t})]})]})},ua=function(e,t){var n;return null===(n=e/t)||void 0===n?void 0:n.toFixed(2)},ba=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0)},va=function(e,t,n){var a=ba(e);return Object(u.jsx)(oe,{header:a+" ITEM"+(a>1?"S":""),className:"billDropDown",children:null===e||void 0===e?void 0:e.map((function(e,a){var i,c,o;return Object(u.jsxs)("div",{className:"billDescription",children:[Object(u.jsxs)("div",{id:"foodItemContainer",children:[Object(u.jsx)("span",{className:"number",children:null===e||void 0===e?void 0:e.quantity}),Object(u.jsxs)("span",{id:"foodNameChild",className:"foodName",children:[" ",null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name]})]}),Object(u.jsxs)("div",{className:"ItemPrice foodName",children:[t,null===ua||void 0===ua?void 0:ua.call(undefined,(null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.quantity)*(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.unitPrice),n)," "]})]},a)}))})},ja=function(e,t,n,a,i,c,o){var r,s,d=i||{},l=d.setAddHopeDataExistsId,u=d.setAddHopeDataPrice,b=c||{},v=b.setCarryBagDataExistsId,j=b.setCarryBagDataPrice,O={addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:""},m=o.currencyConversionFactor,f=(null===e||void 0===e||null===(r=e.foodLines)||void 0===r?void 0:r.length)?Object(x.p)(null===e||void 0===e?void 0:e.foodLines,t,m,a):{};if(O.addHopeDataExistsId=Object(x.wb)(null===f||void 0===f?void 0:f.id),i&&l(null===O||void 0===O?void 0:O.addHopeDataExistsId),null===O||void 0===O?void 0:O.addHopeDataExistsId){var p,h=null===e||void 0===e||null===(p=e.foodLines)||void 0===p?void 0:p.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===O||void 0===O?void 0:O.addHopeDataExistsId)}));O.addHopeDataPrice=Bn(null===h||void 0===h?void 0:h.amount,o),i&&u(null===O||void 0===O?void 0:O.addHopeDataPrice)}var g=(null===e||void 0===e||null===(s=e.foodLines)||void 0===s?void 0:s.length)?Object(x.v)(null===e||void 0===e?void 0:e.foodLines,n,m,a):{};if(O.carryBagDataExistsId=Object(x.wb)(null===g||void 0===g?void 0:g.id),c&&v(null===O||void 0===O?void 0:O.carryBagDataExistsId),null===O||void 0===O?void 0:O.carryBagDataExistsId){var N=null===e||void 0===e?void 0:e.foodLines.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===O||void 0===O?void 0:O.carryBagDataExistsId)}));O.carryBagDataPrice=Bn(null===N||void 0===N?void 0:N.amount,o),c&&j(null===O||void 0===O?void 0:O.carryBagDataPrice)}return O},Oa=0,ma=function(e,t,n){var i,c=Object(a.a)({},e),o=c.errorMessage;return c.value=t,t?(i=t,F.a.EMAIL_REGEX.test(i)?(Oa=0,c.error=!1,c.errorMessage=""):(c.error=!0,c.errorMessage=Object(Ce.e)("invalidYourEmailErrText"),n(!0))):(c.error=!0,c.errorMessage=Object(Ce.e)("yourEmailHelpText"),n(!0)),o!==c.errorMessage&&(Oa=0),c.error&&0===Oa&&(Oa=1,Object(x.I)("OrderLookup",c.errorMessage)),c},fa=function(e,t,n,a){var i,c;return(null===e||void 0===e||null===(i=e.discountLines)||void 0===i?void 0:i.length)>0&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsxs)("span",{className:"fonts",children:[Object(Ce.e)(a)," (",null===e||void 0===e||null===(c=e.discountLines[0])||void 0===c?void 0:c.couponCode,")"]}),Object(u.jsxs)("span",{className:"amount",children:[" ","- ",t,n]})]})},pa=function(e){var t,n,c,o=e.isOpen,r=void 0!==o&&o,s=e.handleClose,d=Object(N.b)(),l=Object(N.c)((function(e){return e.tenantReducer})),b=l.tenantId,v=l.currencySymbol,O=l.currencyConversionFactor,m=l.addHope,f=l.carryBag,p=Object(i.useState)(Object(x.Ib)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],E=h[1],T=Object(i.useState)(""),C=Object(j.a)(T,2),S=C[0],A=C[1],y=Object(i.useState)(0),D=Object(j.a)(y,2),_=D[0],R=D[1],w=Object(i.useState)([]),P=Object(j.a)(w,2),L=P[0],k=P[1],M=Object(i.useState)([]),H=Object(j.a)(M,2),U=H[0],B=H[1],G=Object(i.useState)(0),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)(""),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(!1),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(!1),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)({}),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(!0),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)(""),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)(""),Te=Object(j.a)(Ie,2),Se=Te[0],Ae=Te[1],De=Object(i.useState)(""),_e=Object(j.a)(De,2),Re=_e[0],we=_e[1],Pe=Object(i.useState)(0),Le=Object(j.a)(Pe,2),ke=Le[0],Me=Le[1],Fe=Object(i.useState)(0),He=Object(j.a)(Fe,2),Ue=He[0],Be=He[1],Ge=Object(i.useState)([]),Ye=Object(j.a)(Ge,2),Ke=Ye[0],Ve=Ye[1],We=Object(i.useState)({value:"",errorMessage:"",error:!1}),qe=Object(j.a)(We,2),ze=qe[0],Qe=qe[1],Je=Object(i.useState)({value:"",errorMessage:"",error:!1}),Xe=Object(j.a)(Je,2),Ze=Xe[0],$e=Xe[1],et=Object(i.useState)({value:"",errorMessage:"",error:!1}),tt=Object(j.a)(et,2),nt=tt[0],at=tt[1],it=F.a.PHONE_NUM,ct=F.a.ORDER_NUMBER,ot=F.a.CANCEL,rt=F.a.SUBMIT,st=F.a.ORDERHASH,dt=F.a.YOUR_ORDER,lt=F.a.DELIVER_TO,ut=F.a.ORDER_FROM,bt=F.a.GET_DIRECTION,vt=F.a.DISCOUNT,ht=F.a.TOTAL,gt=F.a.COMPLETED,Nt=F.a.SUB_TOTAL,Et=F.a.PAYMENT,Ct=F.a.ORDER_LOOKUP,St=F.a.EMAIL_ADDRESS,At=F.a.DELIVERY,yt=F.a.SEARCH_IN_CART,Dt=F.a.largeCarryBagText,_t=F.a.addHopeText;Object(i.useEffect)((function(){return window.addEventListener("resize",Rt),function(){window.removeEventListener("resize",Rt)}}),[g]);var Rt=function(){E(Object(x.Ib)(window.innerWidth))};Object(i.useEffect)((function(){d(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((function(){""===ze.value||ze.error||""===Ze.value||Ze.error||""===nt.value||nt.error||he(!1)})),Object(i.useEffect)((function(){""===nt.value.trim()&&he(!0)}),[null===nt||void 0===nt?void 0:nt.value]);var wt=Object(N.c)((function(e){return e.paymentsContentReducer})).tendersContent.items,Pt=function(e){return(e/O).toFixed(2)};Object(i.useEffect)((function(){return d(Object(mt.a)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value}))}),[]);var Lt=Object(N.c)((function(e){return e.orderReducer})).pastOrderResponse,kt=void 0===Lt?[{}]:Lt,Mt=kt[0];Object(i.useEffect)((function(){Object(x.r)(null===wt||void 0===wt?void 0:wt.length,null===Mt||void 0===Mt?void 0:Mt.paymentReferences)&&wt.map((function(e){e.fields.title===Mt.paymentReferences[0].paymentType&&Oe(e)}))}),[Mt]),Object(i.useEffect)((function(){if(null===Mt||void 0===Mt?void 0:Mt.id){ae(!1),ue(!0);var e=Mt.fulfillmentDateTime,t=Object(ye.e)(Object(ye.p)(e),"ll"),n=Object(ye.e)(Object(ye.p)(e),"h:mm A");if(A(t+" at "+n),k(Mt.taxLines),B(Mt.additionalChargeLines),V(Pt(Mt.discountTotal)),$(function(e){e.substr(0,e.indexOf(" "));var t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(Mt.store.phoneNumber)),R(Pt(Mt.subTotal)),Q(Pt(Mt.total)),Ee(Mt.service),Object(x.r)(m,f)){!function(e,t,n,a,i,c,o){var r=i.setAddHopeDataExistsId,s=i.setAddHopeDataPrice,d=c.setCarryBagDataExistsId,l=c.setCarryBagDataPrice,u=o.currencyConversionFactor,b=e.foodLines.length?Object(x.p)(e.foodLines,t,u,a):{},v=Object(x.wb)(null===b||void 0===b?void 0:b.id);if(r(v),v){var j=e.foodLines.find((function(e){return e.id===v}));s(Bn(j.amount,o))}var O=e.foodLines.length?Object(x.v)(e.foodLines,n,u,a):{},m=Object(x.wb)(null===O||void 0===O?void 0:O.id);if(d(m),m){var f=e.foodLines.find((function(e){return e.id===m}));l(Bn(f.amount,o))}}(Mt,m,f,yt,{setAddHopeDataExistsId:we,setAddHopeDataPrice:Me},{setCarryBagDataExistsId:Ae,setCarryBagDataPrice:Be},l);var a=function(e,t,n){return e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===(i=e.item)||void 0===i?void 0:i.name)!==n}))}(Mt.foodLines,m,f);Ve(a)}}else Mt||(ue(!1),ae(!0),Object(x.I)("OrderLookup",Object(Ce.e)("invaidInputs")),he(!0))}),[kt]);var Ft=g?{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:r,classNames:Object(x.mb)(le,"lookup-order-modal","Base-modal"),showCloseBtn:!0,closeButtonHandler:s,autoFocus:!0,modalTitle:Object(Ce.e)(Ct),closeDataTestId:"close-quick-reorder-modal"}:{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:r,classNames:Object(x.mb)(le,"lookup-order-modal","Base-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:s,modalTitle:"ORDER LOOKUP",autoFocus:!0,closeDataTestId:"close-quick-reorder-modal"};var Ht=function(e,t){ae(!1);var n=e.target.value;if(Object(x.Tb)(n,t)){var i=n.replace(/\+|-/gi,"");$e(Object(a.a)({},Object(x.kc)(Ze,i,he)))}t===St&&Qe(Object(a.a)({},ma(ze,n,he))),t===ct&&at(Object(a.a)({},Object(x.lc)(nt,n,he)))},Ut=Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:"GST"}),Object(u.jsxs)("span",{className:"amount",children:[v,Pt(null===Mt||void 0===Mt?void 0:Mt.inclusiveTaxTotal)," "]})]}),Bt=U.map((function(e,t){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsxs)("span",{className:"fonts",children:[" ",e.chargeType]}),Object(u.jsxs)("span",{className:"amount",children:[v,Pt.call(this,e.amount)," "]})]},t)})),Gt=Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"InputArea",children:[Object(u.jsx)("h3",{className:"InputHeading",children:"Enter your order Number"}),Object(u.jsxs)("div",{className:"inputLookUpNumbox",children:[!g&&Object(u.jsx)("p",{className:"lookup-mandatory-note",children:Object(Ce.e)("mandatorynote")}),Object(u.jsx)(It,{"data-testid":"user-phoneNum",type:"number",autoComplete:"on",value:Ze.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Ce.e)(it),onChange:function(e){return Ht(e,it)},helperText:Ze.errorMessage,error:Ze.error}),Object(u.jsx)(It,{"data-testid":"user-orderId",autoComplete:"off",value:nt.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Ce.e)(ct),onChange:function(e){return Ht(e,ct)},helperText:nt.errorMessage,error:nt.error}),Object(u.jsx)(It,{"data-testid":"user-email",autoComplete:"on",value:ze.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Ce.e)(St),onChange:function(e){return Ht(e,St)},helperText:ze.errorMessage,error:ze.error})]}),ne&&Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"exMark",children:"!"}),Object(u.jsx)("span",{className:"errorMessage",children:Object(Ce.e)("invaidInputs")})]})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"cancel-button",ariaLable:"cancel",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return Kt()},children:ot}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",ariaLable:"submit",className:"button blackButton blackBorder save-button",onClick:function(e){return Yt(e)},disabled:pe,children:rt})]})]}),Yt=function(e){""!==Object(x.r)(ze.value,Object(x.r)(Ze.value,nt.value))&&d(Object(mt.d)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value,tenantId:b}))},Kt=function(){ue(!1),s(),d(Object(mt.a)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value}))},Vt="tel:"+(null===Mt||void 0===Mt||null===(t=Mt.store)||void 0===t?void 0:t.phoneNumber);return Object(u.jsxs)("div",{children:[r&&!le&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},Ft),{},{children:Object(u.jsx)("div",{className:"LookUpmodalContants",children:Gt})})),r&&le&&Mt&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},Ft),{},{children:Object(u.jsx)("div",{className:"LookUpmodalContants",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"orderLookUpData",children:[Object(u.jsxs)("div",{className:"Orderheading",children:[Object(u.jsx)("span",{className:"yourOrder",children:dt}),Object(u.jsxs)("span",{className:"idNumber",children:[st,Mt.posOrderId]})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:gt}),Object(u.jsx)("span",{className:"dateCompleted",children:S})]}),Object(x.bc)(null===Mt||void 0===Mt?void 0:Mt.service)===At&&null!==(null===Mt||void 0===Mt?void 0:Mt.deliveryAddress)&&Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:lt}),Object(u.jsx)("span",{className:"dateCompleted",children:Object(x.a)(null===Mt||void 0===Mt?void 0:Mt.deliveryAddress)})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:Et}),Object(u.jsx)("span",{className:"dateCompleted",children:"Only image"===je.fields.displayFormat?Object(u.jsx)("img",{src:je.fields.icon.fields.desktopImage.fields.file.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"dateCompleted",children:je.fields.displayName})})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsxs)("span",{className:"completed",children:[" ",ut]}),null!==Mt.store&&void 0!==Mt.store&&Object(u.jsxs)("span",{className:"dateCompleted",children:[Mt.store.name,Object(u.jsx)("br",{}),null===Mt||void 0===Mt||null===(n=Mt.store)||void 0===n||null===(c=n.address)||void 0===c?void 0:c.addressLines]})]}),Object(u.jsxs)("div",{className:"CompletedCallAndDirection",id:"DirectionTest",children:[Object(u.jsx)("span",{children:" "}),Object(u.jsxs)("span",{className:"callAndDirection",children:[Object(u.jsxs)("span",{className:"KfcphoneNums",children:[Object(u.jsx)("img",{src:ft,alt:"phone",className:"KfcphoneIcon"}),Object(u.jsx)("a",{href:Vt,className:"anchorTags",children:Z})]}),Object(u.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:function(){re(!0)},children:[Object(u.jsx)("img",{src:pt,alt:"phone",className:"KfcDirectionIcon"}),Object(Ce.e)(bt)]})]})]}),Object(u.jsx)("div",{className:"detailsAccordian",children:va(Ke,v,O)}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ce.e)(Nt)}),Object(u.jsxs)("span",{className:"amount",children:[v,_]})]}),L&&Object(u.jsx)("div",{children:Ut}),U&&Object(u.jsx)("div",{children:Bt}),fa(Mt,v,K,vt),"PICKUP"===xe.toUpperCase()&&Se&&Object(u.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(u.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(Ce.e)(Dt)}),Object(u.jsx)("span",{className:"amount",id:"amountStyle",children:Ue})]}),Boolean(Re)&&Object(u.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(u.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(Ce.e)(_t)}),Object(u.jsx)("span",{className:"amount",id:"amountStyle",children:ke})]}),z&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsx)("span",{className:"total",children:ht}),Object(u.jsxs)("span",{className:"total",children:[v,z]})]})]}),Object(u.jsxs)("div",{className:"buttonItemsDone",children:[Object(u.jsx)(Ot.a,{"data-testid":"cancel-button",className:"button whiteButton blackBorder closebtn-cls",id:"lookupButton",onClick:function(e){ue(!1)},children:Object(Ce.e)("backButton")}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClick:function(e){return Kt()},children:Object(Ce.e)("popoverDoneButton")})]})]})})})),oe&&Object(u.jsx)("div",{children:Object(u.jsx)(xt,{"data-testid":"map-modal",isOpen:oe,handleClose:function(){return re(!1)},OrderReducerData:Mt})})]})},ha=function(e){var t=Object(i.useContext)(E.a).userOrderStateDispatch,n=e.contentData,a=void 0===n?[]:n,c=e.tenantReducerData,o=e.history,r=Object(i.useState)(Object(x.Ib)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Ae.a.LANGUAGE_SELECTOR,v=Object(N.c)((function(e){return e.tenantReducer})),O=((null===v||void 0===v?void 0:v.basic)||{}).allowedLanguages,m=void 0===O?[]:O,f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],I=F.a.ORDER_LOOKUP_NAME,T=F.a.FOOTER_MENU,C=function(){var e=Object(x.Ib)(window.innerWidth);l(e)},S=Object(N.b)();Object(i.useEffect)((function(){window.addEventListener("resize",C)}),[d]);var A=function(e){(null===e||void 0===e?void 0:e.includes("http"))?window.location.replace(e):(o.push({pathname:e}),window.scrollTo(0,0))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"footer","data-testid":"FooterItems-component",role:"contentinfo",children:Object(u.jsx)(Se,{contentData:a,isMobile:d,clickHandler:function(e){var n=e.linkTo,a=e.name;if(Ee({footerItemSelected:a}),"Language Selector"===e&&(null===m||void 0===m?void 0:m.length)>1&&(t({type:b,value:{showLanguageSelector:!0}}),setTimeout((function(){document.getElementById("language_selector")&&document.getElementById("language_selector").focus()}),0)),a===I)g(!0),S(Object(mt.a)({}));else if(a===T&&n)A(n);else if(n){if("Find a KFC"===a){return ct("findAStore"),!1}A(n)}},tenantReducerData:c,navigateHandler:function(){o.push({pathname:"/"}),window.scrollTo(0,0)},"data-testid":"footer-items"})}),h&&Object(u.jsx)(pa,{isOpen:!0,handleClose:function(){return g(!1)},tenantReducerData:c})]})},ga=n.p+"static/media/Bucket-Cart.6eee8cbb.svg",Na={contentData:{headerContent:{kfcLogo:{src:"",alt:""},navLeft:[{name:"Menu",linkTo:"",imageUrl:""},{name:"Deals",linkTo:"",imageUrl:""},{name:"Catering",linkTo:"",imageUrl:""}],navRight:[{name:"",linkTo:"",url:"",type:"Language Selector",options:["Eng","Fr","De"]},{name:"Sign In",linkTo:"",url:n.p+"static/media/Icon_Account.13e97818.svg"},{name:"",linkTo:"",url:ga}],navMobileMenu:{threeLineIcon:{src:"",alt:""},letsGetCookingText:{name:"letsgetcook"}}}}},xa={HEADER_LOGO:"HEADER LOGO",MENU_LINK:"MENU LINK",DEALS_LINK:"DEALS LINK",CATERING_LINK:"CATERING LINK",SIGN_IN_LINK:"SIGN IN LINK",CART_ICON:"CART ICON",LANGUAGE_SELECTOR:"LANGUAGE SELECTOR",SUPPORT_LINK:"SUPPORT SECTION",GUEST_USER_SINGIN_TEXT:"signInSignUp",LOGGEDIN_USER_SINGIN_TEXT:"account",CART_ICON_100_PERCENT:"CART ICON ANIMATION_100%",CART_ICON_120_PERCENT:"CART ICON ANIMATION_120%",BACK_TO_CART:"backToCart",USER_SINGIN_TEXT:"Sign In",Go_TO_HOME_PAGE:"GoToHomePage",ZERO:0,CART_ALT_TEXT:"Cart"},Ea=function(e,t,n){var i=xa.HEADER_LOGO,c=xa.MENU_LINK,o=xa.DEALS_LINK,r=xa.CATERING_LINK,s=xa.SIGN_IN_LINK,d=xa.CART_ICON_100_PERCENT,l=xa.CART_ICON_120_PERCENT,u=xa.SUPPORT_LINK,b={kfcLogo:{},navLeft:[],navRight:[],navMobileMenu:{}};if(e&&e.headerSection&&e.subHeaderSection){var v,j=Object(ve.a)(e.headerSection);try{for(j.s();!(v=j.n()).done;){var O=v.value,m=O.fields.title,f=(void 0===m?"":m).toUpperCase().trim();if(f===c||f===o||f===r)b.navLeft.push(Object(a.a)(Object(a.a)({},Ia(O.fields)),{},{altText:O.fields.linkText}));else if(f===s){var p=Ta(O.fields.icon.fields),h=p.altText,g=p.url;b.navRight.push(Object(a.a)(Object(a.a)({},Ia(O.fields)),{},{title:f,altText:h,imageUrl:g}))}else if(f===d||f===l)b.navRight.push(Object(a.a)(Object(a.a)({},Ta(O.fields)),{},{title:f,altText:O.fields.title}));else if(f===i){var N=Ta(O.fields),x=N.url,E=N.altText;b.kfcLogo={src:x,alt:E}}}}catch(A){j.e(A)}finally{j.f()}var I,T=Object(ve.a)(e.subHeaderSection);try{for(T.s();!(I=T.n()).done;){var C=I.value,S=C.fields.title;(void 0===S?"":S).toUpperCase()===u&&(b.navMobileMenu.supportCategory=Sa(C.fields))}}catch(A){T.e(A)}finally{T.f()}"INDIA"!==n&&b.navRight.unshift(Object(a.a)({},ya(t)))}return b},Ia=function(e){var t=e.linkText,n=e.url,a=e.icon,i=(void 0===a?null:a).fields,c=i&&Ta(i)||{},o=c.url,r=void 0===o?"":o,s=c.altText;return{name:t,linkTo:n,imageUrl:r,altText:void 0===s?"":s}},Ta=function(e){var t=e.desktopImage;return t&&Ca(t)||{}},Ca=function(e){var t=e.fields&&e.fields.file&&e.fields.file||{},n=t.url,a=void 0===n?"":n,i=t.altText;return{url:a,altText:void 0===i?"":i}},Sa=function(e){var t=[],n=e.category,a=e.links;return(void 0===a?[]:a).map((function(e){t.push(Aa(e.fields))})),{categoryHeaderText:n,subCategories:t}},Aa=function(e){return{name:e.linkText,linkTo:e.url,internalurl:e.internalurl,externalurl:e.externalurl}},ya=function(e){var t=Object(a.a)({},Na.contentData.headerContent.navRight[0]);t.options=[];var n=(e||{allowedLanguages:[{value:""}]}).allowedLanguages;if(n.length>0){var i,c=Object(ve.a)(n);try{for(c.s();!(i=c.n()).done;){var o=i.value;t.options.push(o.value)}}catch(r){c.e(r)}finally{c.f()}return t}return{}},Da=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(null===(n=we.a.topNavigationLinks)||void 0===n?void 0:n.name,{"%event%":"topNavigationLinks","%navigationLink%":t.headerItemSelected},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_a=n.p+"static/media/MenuIcon.e607771f.svg",Ra=n.p+"static/media/kfcLogo.492728c6.svg",wa=n.p+"static/media/ArrowIcon.c4b884a3.svg",Pa=n(78),La=n.p+"static/media/Stripes_Small_OffersIcon.87fc6256.svg",ka=n(15),Ma=function(e,t){var n=xa.LOGGEDIN_USER_SINGIN_TEXT,a=Ae.a.ANALYTICS_LOCALISATION_SIGNIN;return e!==Object(Ce.e)(n)&&(localStorage.setItem(a,JSON.stringify(!0)),on()),e===Object(Ce.e)(n)?e:t},Fa=function(e){var t=e.idx,n=void 0===t?"":t,c=e.className,o=void 0===c?"":c,r=e.handleClose,s=void 0===r?null:r,d=e.onItemsClickHandler,l=void 0===d?null:d,b=e.contentData,v=void 0===b?{}:b,O=e.userParams,f=void 0===O?{}:O,p=v.navLeft,h=void 0===p?[]:p,g=v.navRight,I=void 0===g?[]:g,S=v.navMobileMenu,A=void 0===S?{}:S,y=A.letsGetCookingText,D=void 0===y?"":y,_=A.supportCategory,R=void 0===_?{}:_,w=function(e){var t,n=xa.LANGUAGE_SELECTOR,a=void 0===n?"":n,i={},c=Object(ve.a)(e);try{for(c.s();!(t=c.n()).done;){var o=t.value;o.type&&o.type.toUpperCase()===a&&(i=o)}}catch(r){c.e(r)}finally{c.f()}return i}(I),P=xa.SIGN_IN_LINK,L=xa.GUEST_USER_SINGIN_TEXT,k=xa.LOGGEDIN_USER_SINGIN_TEXT,M=xa.CART_ICON_100_PERCENT,F=f.loggedIn?Object(Ce.e)(k):Object(Ce.e)(L),H=Object(i.useContext)(E.a).userOrderState.languageUpdationHappened,U=void 0===H?"":H,B=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),G=B.defaultLanguage,Y=B.allowedLanguages,K=B.COUNTRY,V=Object(i.useState)(),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=(Object(N.c)((function(e){return{cartReducer:e.cartReducer||{}}})).cartReducer||{}).cartData,J=((void 0===Q?[]:Q)||{}).foodLines,X=void 0===J?[]:J,Z=Object(i.useState)(m.a.reduce(X,(function(e,t){return e+t.quantity}),0)),ee=Object(j.a)(Z,2),te=ee[0],ne=ee[1];Object(i.useEffect)((function(){var e=Y.find((function(e){return e.key===Object(x.P)("".concat(K,"_").concat(T.zb))}));K&&z((e||{}).value||(G||{}).value),ne(m.a.reduce(X,(function(e,t){return e+t.quantity}),0))}),[K,U,X]);var ae=function(e,t){var n=T.Db.KEY_CHAR_CODE,a=n.SPACE,i=n.ENTER;e.charCode!==a&&e.charCode!==i||l(t)},ie=!(ka.b.isGoogle&&f.loggedIn);return Object(u.jsxs)("div",{id:n,className:o,children:[Object(u.jsxs)("div",{className:"nav mobile-modal-header","data-testid":"mobileHeader-component",children:[Object(u.jsx)(se,{className:"hamburger-close-btn","data-testid":"hamburger-close",onClickHandler:s,children:Object(u.jsx)(C.a,{srcFile:De,alt:"close"})}),Object(u.jsx)("span",{className:"headerLogoMobile",children:Object(u.jsx)(Pa.a,{src:La})}),I.map((function(e){if(e.url&&e.title===M)return Object(u.jsxs)(se,{onClickHandler:l,className:"cart-image",name:(t=e.altText,t.split(" ")[0]||xa.CART_ALT_TEXT),children:[Object(u.jsx)(C.a,{srcFile:e.url||e.imageUrl,className:"navRightIcons mobCartIcon"}),Object(u.jsx)("span",{className:"mobileCartIconCount hamburger-count",children:te>99?Object(u.jsxs)("span",{className:"cart-icon-plus",children:["99",Object(u.jsx)("span",{className:"cartPlus",children:"+"})]}):te})]});var t}))]}),Object(u.jsx)("div",{className:"mobile-modal-body",children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("div",{className:"title-container",children:[Object(u.jsx)("div",{className:"title-text",children:Object(Ce.e)(D.name)}),Object(u.jsx)("div",{className:"lang-div",children:Object(x.Db)(w)&&Object(u.jsxs)(se,{onClickHandler:l,name:w.type||w.name||"cart",children:[Object(u.jsx)(de,{options:Y.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toLowerCase()})),className:"language-select",selectedValue:q}),Object(u.jsx)("span",{className:"dropdown-img-ham"})]})})]}),Object(u.jsx)("div",{className:"signup-container","data-id":ie?T.o.HEADER_SIGN_IN_ATTR_DATA_ID:"",children:I.map((function(e){if(e.title&&e.title.toUpperCase()===P)return Object(u.jsxs)("div",{onKeyPress:function(t){return ae(t,Ma(F,e.name))},onClick:function(){return l(Ma(F,e.name))},children:[Object(u.jsx)(C.a,{srcFile:e.url||e.imageUrl,className:"navRightIcons"}),Object(u.jsx)("span",{children:Object(Ce.e)(F)}),Object(u.jsx)(C.a,{srcFile:wa,className:"navRightIcons arrow"})]})}))}),Object(u.jsx)("div",{className:"navItemsLeft",children:h.map((function(e,t){return Object(u.jsx)("div",{className:"row",onKeyPress:function(t){return ae(t,e.name)},onClick:function(){return l(e.name)},children:Object(u.jsxs)("div",{className:"header-card d-flex",children:[Object(u.jsx)("div",{className:"header-card-name",href:e.linkTo,id:t,tabIndex:"0",children:e.name}),Object(u.jsx)("div",{className:"header-card-image",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})]})},t)}))}),Object(u.jsx)("div",{className:"support-div",children:Object(u.jsx)($,Object(a.a)({className:"footer-links","data-testid":"footerItemCat-component",onClickHandler:l},R))})]})})]})},Ha=n(83),Ua=function(e){return e?" itemCountActive":""},Ba=function(e){return e?" iconActive":""},Ga=function(e){return Object(x.mb)(e>99,Object(u.jsxs)("span",{className:"cart-icon-plus",children:["99",Object(u.jsx)("span",{className:"cartPlus",children:"+"})]}),e)},Ya=function(e){switch(e){case"Menu":return"/menu";case"Deals":return"/offers";default:return""}},Ka=function(e,t,n){!e.type&&t&&"Sign In"===e.name?n.push({pathname:"/account"}):function(){var e=Ae.a.ANALYTICS_LOCALISATION_SIGNIN;localStorage.setItem(e,JSON.stringify(!0)),on()}()},Va=function(e){return e.filter((function(e){return e.title===xa.SIGN_IN_LINK}))},Wa=function(e){return e.split(" ")[0]},qa=function(e){Boolean(document.querySelector("#headermenu-id"))&&(document.querySelector("#headermenu-id").style.width="100%"),Boolean(document.querySelector("#startorder-container"))&&(document.querySelector("#startorder-container").style.display="none"),document.body.style.overflowY="hidden"},za=function(){document.querySelector("#headermenu-id").style.width="0px",document.querySelector("#startorder-container").style.display="block",document.body.style.overflowY="auto"},Qa=function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),a=n[0],o=n[1],r=e.contentData,s=void 0===r?{}:r,d=e.clickHandler,l=void 0===d?null:d,b=e.isMobile,v=void 0!==b&&b,O=e.userParams,f=void 0===O?{}:O,p=e.tenantReducerData,h=void 0===p?{}:p,g=e.navigateHandler,I=void 0===g?null:g,S=e.dataTestId,A=h.basic,y=h.addHope,D=h.carryBag,_=h.country,R=h.currencyConversionFactor,w=h.currencySymbol,P=h.componentOptions,L=(P=void 0===P?{}:P).web,k=(L=void 0===L?{}:L).global,M=(k=void 0===k?{}:k).showPriceWithTax,F=void 0!==M&&M,H=Object(x.ub)(Ea(s,A,_)),U=H.navLeft,B=void 0===U?[]:U,G=H.navRight,Y=void 0===G?[]:G,K=H.kfcLogo,V=void 0===K?{}:K,W=H.navMobileMenu,q=void 0===W?{}:W,z=xa.LANGUAGE_SELECTOR,Q=xa.LOGGEDIN_USER_SINGIN_TEXT,J=xa.USER_SINGIN_TEXT,X=xa.CART_ICON_100_PERCENT,Z=xa.CART_ICON_120_PERCENT,$=xa.ZERO;q.letsGetCookingText=Na.contentData.headerContent.navMobileMenu.letsGetCookingText;var ee=Object(N.c)((function(e){return{cartReducer:Object(x.ub)(e.cartReducer)}})).cartReducer,te=Object(x.ub)(ee),ne=te.cartData,ae=void 0===ne?{}:ne,ie=te.isItemAdded,ce=void 0!==ie&&ie,oe=te.isUpdateQuantityLoading,re=void 0!==oe&&oe,le=te.isRemoveItemLoading,ue=void 0!==le&&le,be=Object(x.J)(ae).foodLines,ve=void 0===be?[]:be,je=Object(i.useState)(0),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=function(){var e=F?(null===ae||void 0===ae?void 0:ae.subtotal)+(null===ae||void 0===ae?void 0:ae.taxTotal):null===ae||void 0===ae?void 0:ae.subtotal,t=parseFloat(e/R).toFixed(2);return(null===ae||void 0===ae?void 0:ae.total)>$?t:$};Object(i.useEffect)((function(){0===ve.filter((function(e){return e.item.isHidden})).length&&(ce||re||ue)&&o(!0)}),[ce,re,ve,ue]),Object(i.useEffect)((function(){if(setTimeout((function(){return o(!1)}),500),Object(x.r)(y,D)){var e=Object(x.M)(ve,y,D);fe(m.a.reduce(e,(function(e,t){return e+t.quantity}),0))}}),[ve,y,D]);var he=Object(i.useContext)(E.a).userOrderState.languageUpdationHappened,ge=void 0===he?"":he,Ne=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),xe=Ne.defaultLanguage,Ee=Ne.allowedLanguages,Ie=Ne.COUNTRY,Te=(Object(N.b)(),Object(i.useState)()),Ce=Object(j.a)(Te,2),Se=Ce[0],Ae=Ce[1];Object(i.useEffect)((function(){var e=Ee.find((function(e){return e.key===Object(x.P)("".concat(Ie,"_").concat(T.zb))}));Ie&&Ae(Object(x.sb)(null===e||void 0===e?void 0:e.value,null===xe||void 0===xe?void 0:xe.value))}),[Ie,ge]);var ye=function(e){f.loggedIn&&e===J?l(Q):l(e)},De=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"nav","data-testid":"Header-component",children:[Object(u.jsx)(se,{onClickHandler:qa,name:"Hamburger Menu","data-testid":"hamburger-menu-icon",children:Object(u.jsx)(C.a,{srcFile:_a,alt:"Menu",id:"BrowserSpecificStyle"})}),Object(u.jsx)("span",{className:"headerLogoMobile",onClick:I,children:Object(u.jsx)(C.a,{srcFile:Object(x.sb)(Va(Y).src,Ra),alt:Object(x.sb)(Va(Y).alt,"KFC LOGO")})}),Y.map((function(e,t){return e.url&&X===e.title&&!a?function(e,t,n,a,i,c,o){return Object(u.jsxs)(se,{onClickHandler:t,name:Object(x.sb)(n(a.altText),"cart"),className:"cart-image",children:[Object(u.jsx)("span",{className:"headerPrice",children:o+c()}),Object(u.jsx)(C.a,{srcFile:Object(x.sb)(a.url,ga),alt:Object(x.sb)(a.altText,"cart")}),Object(u.jsx)("span",{className:"mobileCartIconCount",children:Ga(i)})]},e)}(t,l,Wa,e,me,pe,w):e.url&&Z===e.title&&a?function(e,t,n,a,i,c){return Object(u.jsxs)(se,{onClickHandler:e,name:Object(x.sb)(t(n.altText),"cart"),className:"cart-image",children:[Object(u.jsx)("span",{className:"headerPrice",children:c+i()}),Object(u.jsx)(C.a,{srcFile:Object(x.sb)(n.url,ga),alt:Object(x.sb)(n.altText,"cart"),className:"iconActive"}),Object(u.jsx)("span",{className:"mobileIconCountActive mobileCartIconCount",children:Ga(a)})]})}(l,Wa,e,me,pe,w):void 0}))]}),Object(u.jsx)(Fa,{idx:"headermenu-id",className:"sidenav",handleClose:za,onItemsClickHandler:l,contentData:{navLeft:B,navRight:Y,navMobileMenu:q},userParams:f})]}),_e=Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"nav","data-testid":"desktopHeader-component",children:[Object(u.jsx)("span",{tabIndex:"0",className:"headerLogo","data-testid":"desktop-navigate-handler",onClick:I,onKeyPress:I,children:Object(u.jsx)(C.a,{srcFile:Object(x.sb)(V.src,Ra),alt:Object(x.sb)(V.alt,"KFC LOGO")})}),Object(u.jsx)("span",{className:"navItemsLeft",children:B.map((function(e,t){return Object(u.jsx)(se,{"data-testid":"navItems-component-".concat(e.name),onClickHandler:l,name:e.name,tabIndex:"0",to:Ya(e.name),className:"nav-item-left",children:e.name},t)}))}),Object(u.jsx)("div",{className:"navItemsRight",children:Y.map((function(t,n){var i,o=[X,Z].includes(t.title),r=!(ka.b.isGoogle&&f.loggedIn),s=X===t.title&&a||Z===t.title&&!a;return Object(u.jsxs)(se,{onClickHandler:ye,name:t.type||t.name||"Cart",style:Object(x.mb)(s,{display:"none"},{}),tabIndex:"0",className:Object(x.mb)(n<Y.length-2,"nav-right-items-line",""),"data-id":r?T.o.HEADER_SIGN_IN_ATTR_DATA_ID:null,children:[!o&&(null===t||void 0===t||null===(i=t.type)||void 0===i?void 0:i.toUpperCase())!==z&&Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"account",onClick:function(){return Ka(t,f.loggedIn,e.history)},children:[Object(u.jsx)(C.a,{srcFile:Object(x.sb)(t.url,t.imageUrl),className:"navRightIcons"}),Object(u.jsx)("span",{className:"notcarticon ml-3",children:Object(x.mb)(!t.type&&t.name&&f.loggedIn,Q,t.name)})]})}),o&&Object(u.jsx)("span",{className:"headerPrice",children:w+pe()}),o&&Object(u.jsxs)("div",{className:"cartIcon align-items-center justify-content-center","aria-label":"cart",role:"button",children:[Object(u.jsx)(C.a,{srcFile:Object(x.sb)(t.url,t.imageUrl),className:"navRightIcons ".concat(Ba(a))}),Object(u.jsx)("div",{className:"cartIconCount ".concat(Ua(a)),children:Ga(me)})]}),t.type&&t.type.toUpperCase()===z&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(de,{ariaLable:"clickable-language-selector",tabIndex:"-1",options:Ee.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toLowerCase()})),className:"language-select header-language-select",selectedValue:Se,testid:"language-selector"}),Object(u.jsx)("span",{className:"dropdown-img"})]})]},n)}))})]})});return Object(u.jsx)("div",{"data-testid":S,className:"header-navs",children:Object(x.mb)(v,De,_e)})},Ja={contentData:{modalHeaderText:"selectYourLanguage",modalContent:{buttonText:"apply"}}},Xa=function(e){var t=e.handleClose,n=e.languageSelectorModuleForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{"data-testid":"LanguageSelectorModal",id:"LanguageSelectorModal",role:"dialog",modalTitleId:o,show:!0,classNames:"language-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,closeDataTestId:"close-modal-handler",children:n})})},Za=n(68),$a=function(e){var t=e.modalContent,n=void 0===t?{}:t,a=e.onLanguageMethodSubmit,o=n.buttonText,r=void 0===o?"":o,s=Object(i.useState)({}),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),O=v.defaultLanguage,m=v.allowedLanguages,f=v.COUNTRY;Object(i.useEffect)((function(){var e=m.find((function(e){return e.key===Object(x.P)("".concat(f,"_").concat(T.zb))}));f&&b(e||{}||O||{})}),[f]);var p=m.map((function(e){return Object(u.jsxs)("li",{className:"wrapper ".concat(l&&e.key===(null===l||void 0===l?void 0:l.key)?"wrapperactive":""),tabIndex:"0",children:[Object(u.jsx)("input",{id:e.value,type:"radio",name:"radio",value:e,checked:!(!l||e.key!==(null===l||void 0===l?void 0:l.key)),onChange:function(){b(e)},"aria-label":e.value}),Object(u.jsx)("span",{children:e.value})]},e.key)}));return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("form",{className:"form","data-testid":"language-form-component",children:Object(u.jsx)("section",{className:"form__section",children:Object(u.jsx)("ul",{className:"languageList",children:p})})}),Object(u.jsx)("div",{className:"languageConfirm",children:Object(u.jsx)(Za.a,{className:"button blackButton confirm-schedule-btn","data-testid":"apply-button-test","aria-label":Object(Ce.e)(r),onClickHandler:function(e){return a(e,l)},children:Object(Ce.e)(r)})})]})},ei=function(){var e=Object(i.useContext)(E.a).userOrderStateDispatch,t=Ja.contentData,n=void 0===t?{}:t,a=n.modalContent,c=void 0===a?{}:a,o=n.modalHeaderText,r=void 0===o?"":o,s=Object(N.c)((function(e){return e.appStateReducer.userStatus})),d=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),l=d.allowedLanguages,b=d.COUNTRY,v=Ae.a.LANGUAGE_SELECTOR,j=void 0===v?"":v,O=Ae.a.LANGUAGE_UPDATED,m=void 0===O?"":O,f=Object(N.b)(),p=function(t){t.stopPropagation(),t.preventDefault(),e({type:j,value:{showLanguageSelector:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&p(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var h=Object(u.jsx)($a,{modalContent:c,onLanguageMethodSubmit:function(t,n){t.stopPropagation(),t.preventDefault();var a=Object(x.P)("".concat(b,"_").concat(T.zb));Object(Ce.c)(l.find((function(e){return e.key===n.key})).key)?(b&&T.zb&&Object(x.fc)("".concat(b,"_").concat(T.zb),n.key),Object(Ce.b)(l.find((function(e){return e.key===n.key})).key),n.key!==a&&e({type:m,value:{languageUpdationHappened:n.key}})):Object(x.A)(l.find((function(e){return e.key===n.key})),s,f),e({type:j,value:{showLanguageSelector:!1}})}});return Object(u.jsx)(Xa,{handleClose:p,modalTitleId:"language_selector",languageSelectorModuleForm:h,headerText:Object(Ce.e)(r)})},ti=n(74),ni=Object(o.i)((function(e){var t=Object(N.b)(),n=Object(i.useContext)(E.a),c=n.userOrderState,o=n.userOrderStateDispatch,r=e.contentData,s=void 0===r?{}:r,d=e.history,l=e.tenantReducerData,b=Object(N.c)((function(e){var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),v=Object(i.useState)(Object(x.Ib)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(!1),h=Object(j.a)(p,2),g=h[0],I=h[1],C=Ae.a.LANGUAGE_SELECTOR,S=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),A=S.allowedLanguages,y=function(){var e=Object(x.Ib)(window.innerWidth);f(e)};Object(i.useEffect)((function(){window.addEventListener("resize",y)}),[m]);var D=function(){var e=Object(be.a)(ue.a.mark((function e(n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&Da({headerItemSelected:n}),m&&"Language Selector"!==n&&(Boolean(document.querySelector("#headermenu-id"))&&(document.querySelector("#headermenu-id").style.width="0px"),Boolean(document.querySelector("#startorder-container"))&&(document.querySelector("#startorder-container").style.display="block"),document.body.style.overflowY="auto"),"Menu"===n&&d.push({pathname:"/menu"}),"Account"===n&&d.push({pathname:"/account"}),"Deals"===n&&d.push({pathname:"/offers"}),n.name===Ae.a.ORDER_LOOKUP&&I(!0),"Cart"!==n){e.next=11;break}return e.next=9,ka.b.BindPhone();case 9:ka.b.googlePhoneToken&&t(Object(ti.b)({token:ka.b.googlePhoneToken})),(null===b||void 0===b?void 0:b.localized)?d.push({pathname:"/cart"}):o({type:Ae.a.DISPOSITION_DATA,value:{showDisposition:!0}});case 11:"Language Selector"===n&&A.length>1&&o({type:C,value:{showLanguageSelector:!0}}),setTimeout((function(){document.getElementById("language_selector")&&document.getElementById("language_selector").focus()}),0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:Object(x.mb)(m,"mobile header","desktop header"),"data-testid":"HeaderItems-component",role:"banner","data-id":T.o.HEADER_ATTR_DATA_ID,children:[(null===c||void 0===c?void 0:c.showLanguageSelector)&&Object(u.jsx)(ei,{}),Object(u.jsx)(Qa,Object(a.a)(Object(a.a)({contentData:s,isMobile:m,clickHandler:D,tenantReducerData:l,navigateHandler:function(){d.push({pathname:"/"})}},e),{},{"data-testid":"header-items",dataTestId:"headerItems"})),g&&Object(u.jsx)(pa,{isOpen:!0,handleClose:function(){return I(!1)},tenantReducerData:l})]})})),ai=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.clickHandler,i=void 0===a?null:a,c=n.buttonText,o=void 0===c?"":c,r=n.startOrderTitle,s=void 0===r?"":r,d=n.ariaLabel,l=void 0===d?"":d;return Object(u.jsx)("div",{className:window.location.href.includes("menu")?"headerBottom plpHeaderBottom":"headerBottom","data-testid":"start-order-items",children:Object(u.jsxs)("div",{className:"headBottomParent",children:[Object(u.jsx)("div",{className:"headBottomTxt",children:s}),Object(u.jsx)(Ot.a,{"data-testid":"start-order-button",className:"button redButton start-order-btn","aria-label":l||o,onClickHandler:i,id:"startOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:o})})]})})},ii=n(65),ci=function(e){var t=e.modalContent,n=e.onDispositionMethodSubmit,a=e.setRef,i=void 0===a?null:a,o=t.contentText,r=void 0===o?"":o,s=t.infoObject,d=void 0===s?null:s,l=t.orderTypes,b=(void 0===l?[]:l).map((function(e){var t;return Object(u.jsx)("li",{className:"".concat(e.selectDefault&&"default-selected"),children:Object(u.jsx)(Za.a,(t={className:"".concat(e.selectDefault&&"default-selected"),onClickHandler:function(t){n(t,e.type)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type)},Object(Re.a)(t,"className","button whiteButton order-type-button"),Object(Re.a)(t,"aria-label","order type ".concat(e.buttonText)),Object(Re.a)(t,"children",e.buttonText),t),e.type)},e.type)}));return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(u.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:r}),d&&Object(u.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(u.jsx)("span",{children:d.infoText})}),Object(u.jsx)("form",{className:"form",onSubmit:n,"data-testid":"form-component",children:Object(u.jsxs)("section",{className:"form__section",children:[Object(u.jsx)("div",{className:"order-button-section",children:Object(u.jsx)("ul",{className:"order-button-section-ul",children:b})}),Object(u.jsx)("div",{className:"clearfix"})]})})]})})},oi=function(e){var t=e.handleClose,n=e.DispositionModuleForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"DispositionModulePopup",role:"dialog",modalTitleId:o,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:n})})},ri=n(92),si=function(e,t){var n,a=[],i=Object(ve.a)(e);try{for(i.s();!(n=i.n()).done;){var c,o,r=n.value,s=null===r||void 0===r||null===(c=r.fields)||void 0===c||null===(o=c.name)||void 0===o?void 0:o.split("-"),d=s[s.length-1].trim().toUpperCase();if(!t||!(null===d||void 0===d?void 0:d.includes(ri.a.DISPOSITION_TYPE.TYPE_DELIVERY))){var l=r.fields,u=l.buttonText,b=void 0===u?"":u,v=l.selectDefault,j=void 0!==v&&v,O=l.name,m=l.showOption,f=void 0===m||m,p=l.id,h=void 0===p?"":p;a.push({buttonText:b,selectDefault:j,type:O,showOption:f,id:h})}}}catch(g){i.e(g)}finally{i.f()}return a},di=function(e){var t=e[0].fields||{},n=t.headline,a=void 0===n?"":n,i=t.subHeadline,c=void 0===i?"":i,o=t.subHeadlineType,r=void 0===o?"":o,s=t.title;return{modalHeaderText:void 0===s?"":s,contentText:a,infoObject:{type:r,infoText:c}}},li=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"orderType",dispositionSelected:t.selectedDispositionType}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ui=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.localisationStart.name,{"%event%":"localisationStart"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bi=function(e,t,n,a){var i,c=Ae.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,o=Ae.a.SHOW_CLEAR_CART_ALERT;(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length)&&!a?Object(x.Rb)(t,{},o,c,n):n()},vi=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a[t].name,{"%event%":t},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ji=function(){var e=Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push({event:"changeStore"}),e.next=4,je.a.registerEvent(void 0,{data:t[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oi=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(null===we.a||void 0===we.a||null===(n=we.a.localisationFinish)||void 0===n?void 0:n.name,{"%event%":"localisationFinish","%disposition%":t,"%postLocalisation%":"True"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgBtctBDQAgCAVQIxjBCEaxgRE0ghFsZgQjGAE5wObcQC6y/Qv/fed+HABkzMB4K+arLxwxi3A7i4IJVlzpOXkkYioDYR4lEQsjULEw0vE16prZA0KiodJlD34AAAAASUVORK5CYII=",fi=n(121),pi=n(49),hi=n(38),gi=Fn.a.QUANTITY_ACTION,Ni=Fn.a.TOAST_NOTIFICATION,xi=Fn.a.ANALYTICS_EVENTS,Ei=Fn.a.CART_ALERT,Ii=Ae.a.MINI_PDP_DATA,Ti=Ae.a.FROMFLAGEDIT,Ci=Ae.a.EDIT_CLICKED,Si=hi.a.RESET_MODGROUP_IDS_UPDATE;function Ai(e,t,n,a,i,c,o){var r=function(e){i({type:Ei,value:{showCartAlert:e}})};return{itemQuantityHandler:function(n,i){var o=n.quantity,r=n.foodLineId,s=e.cartId;o&&r&&s&&t&&(o=i===gi.Increase?o+1:i===gi.Decrease?o-1:o,c(Object(Ct.u)({params:{basketId:s,basketLineItemId:r},tenantId:t},{quantity:o})),c(Object(Ct.r)(new Date)));var d=i===gi.Increase?xi.ADD_TO_CART:xi.REMOVE,l=Object(fi.a)([n],a,"quantityModified");ot(d,l)},itemRemoveHandler:function(n){console.log("itemmmmmmmmm",n);var i=n.foodLineId,o=n.flag,r=void 0===o?"":o,s=e.cartId;i&&s&&t&&(c(Object(Ct.n)({tenantId:t,basketId:s,basketLineItemId:i})),"specialItems"!==r&&(Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(C.a,{srcFile:mi})," ",Object(u.jsx)("span",{className:"text",children:Object(Ce.e)(Ni.ITEM_REMOVED)})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),4e3)));var d=Object(fi.a)([n],a,"removeAllQty");ot(xi.REMOVE,d),c(Object(Ct.r)(new Date))},itemAllRemoveHandler:function(){r(!0)},itemAllRemoveAction:function(n){var i=e.cartId;i&&t&&c(Object(Ct.l)({basketId:i,tenantId:t})),r(!1);var o=Object(fi.a)(n,a,"removeAllQty");ot(xi.REMOVE,o),c(Object(Ct.r)(new Date))},addMoreMenuHandler:function(){o.push({pathname:"/menu"}),c(Object(Ct.r)(new Date))},itemEditHandler:function(a){var o=a.foodItemId,r=void 0===o?"":o,s=(a.customizable,a.quantity,a.foodLineId),d=(null===n||void 0===n||n.itemLocations.find((function(e){return e.itemid===r})),r.split("-")[0],e.catalog);i({type:Si}),i({type:Ci,value:{cartEditClicked:!0}}),i({type:Ii,value:{id:r,flag:Ti,foodLineId:s}}),c(Object(pi.c)({tenantId:t,catalogName:d,itemId:r})),Object(fi.d)(xi.EDIT),c(Object(Ct.r)(new Date))},showCartAlert:r,addToCartAnalyticsOnly:function(e,t){var n=t===gi.Increase?xi.ADD_TO_CART:xi.REMOVE,i=Object(fi.a)([e],a,"quantityModified");ot(n,i)}}}var yi=function(e){var t=e.contentMsg,n=void 0===t?"":t,a=e.title,c=void 0===a?"":a,o=e.splitTitle,r=e.imageSrc,s=e.altText,d=e.confirmButtonText,l=void 0===d?"":d,b=e.confirmHandler,v=e.cancelButtonText,j=void 0===v?"":v,O=e.cancelHandler,m=e.buttonContainerClass,f=void 0===m?"":m,p=e.imageClassName,h=void 0===p?"":p,g=Object(i.useContext)(E.a).userOrderStateDispatch;return Object(i.useEffect)((function(){o?it({popupTitle:Object(Ce.e)(o.MSGTXT1)+Object(Ce.e)(o.MSGTXT2)+Object(Ce.e)(o.MSGTXT3)}):n?it({popupTitle:n}):o||it({popupTitle:c})}),[c,n]),Object(i.useEffect)((function(){return function(){(0,Ai(void 0,void 0,void 0,void 0,g,void 0,void 0).showCartAlert)(!1)}}),[g]),Object(u.jsxs)("div",{className:"alert-model-view-root","data-testid":"alert-form",children:[r?Object(u.jsx)(C.a,{className:h,"data-testid":"alert-form-image",srcFile:r,alt:s}):null,o?Object(u.jsxs)("div",{className:"alert-title","data-testid":"split-msg",children:[Object(u.jsx)("span",{children:Object(Ce.e)(o.MSGTXT1)}),Object(u.jsx)("span",{className:"alert-red-text",children:Object(Ce.e)(o.MSGTXT2)}),Object(u.jsx)("span",{children:Object(Ce.e)(o.MSGTXT3)})]}):Object(u.jsx)("span",{className:"alert-title","data-testid":"alert-form-title",children:c}),n?Object(u.jsx)("span",{className:"alert-content","data-test-id":"alert-form-content",children:n}):null,Object(u.jsxs)("div",{className:"alert-action-container ".concat(f),children:[O&&Object(u.jsx)(Ot.a,{ariaLable:"","data-testid":"alert-cancel-button",className:"button whiteButton blackBorder alert-cancel",onClickHandler:O,children:j}),b&&Object(u.jsx)(Ot.a,{ariaLable:"","data-testid":"alert-confirm-button",className:"button blackButton blackBorder alert-confirm",onClickHandler:b,children:l})]})]})},Di=n(67),_i=n.n(Di),Ri=function(e){var t=e.handleClose,n=e.CartAlertForm,a=e.classNames;return _i.a.createPortal(Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"CartAlertopup",role:"dialog",show:!0,classNames:"alet-modal ".concat(a),showCloseBtn:!0,closeButtonHandler:t,closeDataTestId:"handler-close",autoFocus:!0,children:n})}),document.getElementById("modal-popups"))},wi=n(23),Pi=function(e){var t=Object(i.useContext)(E.a),n=t.userOrderState,c=t.userOrderStateDispatch,r=n.dispositionStateData.contentData,s=void 0===r?{}:r,d=n.deeplinkSelectedStoreId,l=n.deepLinkStoreMode,b=Object(x.Db)(s)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.disposition&&e.disposition.fields||{},a=n.headline,i=void 0===a?[]:a,c=n.supportedDispositions,o=void 0===c?[]:c,r={modalHeaderText:"",modalContent:{}};r.modalContent.orderTypes=si(o,t);var s=di(i),d=s.modalHeaderText,l=s.contentText,u=s.infoObject;return r.modalHeaderText=d,r.modalContent.contentText=l,r.modalContent.infoObject=u,r}(s,l),v=b.modalContent,O=void 0===v?{}:v,m=b.modalHeaderText,f=void 0===m?"":m,p=Ae.a.SEARCH_ORDER_DATA,h=Ae.a.MENU_URL,g=Ae.a.DISPOSITION_DATA,I=Ae.a.CURRENT_STORE_INFO,C=Ae.a.SCHEDULE_ORDER_TIME_DATA,S=Ae.a.SELECTED_TILE_DATA,A=Ae.a.DISPOSITION_METHOD,y=Ae.a.ADD_TO_CART_CLICK,D=Ae.a.SET_DISPOSITION,_=Ae.a.USER_LOCALIZED,R=Ae.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,w=ri.a.DISPOSITION_TYPE,P=w.TYPE_DINE_IN,L=w.TYPE_TAKE_WAY,k=w.TYPE_DELIVERY,M=ri.a.FIND_OPEN_KFC_TEXT,F=ri.a.INVALID_QR_TEXT,H=ri.a.CLOSED_STORE_MODAL_SUBTITLE,U=ri.a.TAKEAWAY_STORE_CLOSED_TEXT,B=ri.a.DINE_IN_STORE_CLOSED_TEXT,G=ri.a.SWITCH_TO_TAKEAWAY_TEXT,Y=ri.a.SWITCH_TO_DINEIN_TEXT,K=n&&n.dispositionStateData&&n.dispositionStateData.dispositionType?n.dispositionStateData.dispositionType:null,V="",W=Object(x.Cb)(n.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):n.dispositionNew,q=Object(N.b)(),z=Object(o.f)(),Q=Object(i.useState)(""),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(N.c)((function(e){return e.cartReducer})),ie=ae.cartData,ce=void 0===ie?{}:ie,oe=ae.qrCodeScanTime,re=Object(N.c)((function(e){return e.tenantReducer})),se=re.tenantId,de=Object(N.c)((function(e){return e.profileReducer})).customerId,le=void 0===de?"":de,ve=Object(N.c)((function(e){return e.appStateReducer.userStatus})),je=Object(N.c)((function(e){return Object(x.ub)(e.storesReducer)})),Oe=je.storesWithStatus,me=void 0===Oe?[]:Oe,fe=je.isStoreStatusLoading,pe=je.selectedStoreDetailsDL,he=void 0===pe?{}:pe,ge=ri.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;Object(i.useEffect)((function(){q(Object(ii.j)()),q(Object(ii.i)()),function(e,t){e&&(null===t||void 0===t||t.push({pathname:T.hb.HOME_PAGE}))}(l,z)}),[q]);var Ne=Object(i.useCallback)((function(e,t){e.stopPropagation();bi(ce,c,(function(){ne({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[ge,c,ce]);Object(i.useEffect)((function(){l&&q(Object(ii.f)({storeId:d,tenantId:se},null,(function(){ne({showError:!0,errMsg:Object(Ce.e)(F),errDesc:null,buttonText:Object(Ce.e)(M),buttonCTA:function(e){return Ne(e,!1)}})})))}),[M,F,l,d,q,se]);var xe=function(e,t,n){e.stopPropagation(),e.preventDefault();var i=t.split("-");if(-1!==(V=i[i.length-1].trim()).toLowerCase().indexOf("dine")&&(V=P),li({selectedDispositionType:V}),ui(),l){var o={data:[{storeId:d,channel:ka.b.channel,service:T.eb},{storeId:d,channel:ka.b.channel,service:T.v}],store:[Object(a.a)(Object(a.a)({},he),{},{service:T.eb}),Object(a.a)(Object(a.a)({},he),{},{service:T.v})],tenantId:se,setStatusFlag:!1,isFavoritePage:!1};bi(ce,c,(function(){Z(V),q(Object(ii.c)(o)),c({type:A,value:{dispositionType:V}})}),n)}else[P,L,k].includes(V.toUpperCase())&&(c({type:p,value:{showSearchStore:!0}}),c({type:g,value:{showDisposition:!1}}),c({type:A,value:{dispositionType:V}}))},Ee=function(e,t){var n=e||null;c({value:{selectedData:{}},type:S}),localStorage.setItem("currentStoreInfo",JSON.stringify(n)),c({value:n,type:I}),q(Object(Ha.a)(Object(a.a)(Object(a.a)({},ve),{},{localized:!0}))),c({value:{selectedDateTime:t},type:C}),c({type:R,value:{selectContentTime:"ASAP"}}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",K),localStorage.setItem("tenantReducer",JSON.stringify(re)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),z.push({pathname:"".concat(h)})},Ie=function(e){(null===e||void 0===e?void 0:e.toUpperCase())===P?ne({showError:!0,errMsg:Object(Ce.e)(B),errDesc:null,buttonText:Object(Ce.e)(G),buttonCTA:function(e){return xe(e,T.nb,!0)}}):(null===e||void 0===e?void 0:e.toUpperCase())===L&&ne({showError:!0,errMsg:Object(Ce.e)(U),errDesc:null,buttonText:Object(Ce.e)(Y),buttonCTA:function(e){return xe(e,T.w,!0)}})},Te=function(){var e=Object(be.a)(ue.a.mark((function e(t,a){var i,o,r,s,d,l,u,b,v,j,O;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(i=t.filter((function(e){return(null===e||void 0===e?void 0:e.service)===Object(x.H)(a)})))||void 0===i?void 0:i.length)){e.next=18;break}return j={time:"ASAP",interval:null===i||void 0===i||null===(o=i[0].summary.timings.scheduled.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"},e.next=5,Object(x.u)(q,!0,oe,null===i||void 0===i?void 0:i[0],Object(x.H)(a),le,j);case 5:O=e.sent,q(Object(Ct.e)({data:O,tenantId:se})),c({type:D,value:{oldvalue:W,newValue:{store:null===i||void 0===i?void 0:i[0],time:j.time,date:j.date,type:a,interval:j.interval,deliveryAddress:null===n||void 0===n||null===(r=n.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress,selectedTime:j.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(W)),localStorage.setItem("dispositionNew",JSON.stringify({type:a,store:null===i||void 0===i?void 0:i[0],date:j.date,time:j.time,selectedTime:j.selectedTime,interval:j.interval,deliveryAddress:null===n||void 0===n||null===(s=n.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(x.Pb)(null===i||void 0===i||null===(d=i[0])||void 0===d||null===(l=d.addresses)||void 0===l||null===(u=l[0])||void 0===u||null===(b=u.address)||void 0===b||null===(v=b.addressLines)||void 0===v?void 0:v[0],wi.a.ALREADY_SERACHED_LOCATIONS),Object(x.dc)(),Oi(a),c({type:g,value:{showSearchStore:!1}}),c({type:_,value:{isLocalized:!0}}),Ee(null===i||void 0===i?void 0:i[0],j),e.next=19;break;case 18:Ie(a);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e,t,n;me.length>0&&!fe&&X&&l&&function(e,t){(null===e||void 0===e?void 0:e.length)?Te(e,K):ne({showError:!0,errMsg:"".concat(Object(Ce.e)(Qe)," ").concat(t," ").concat(Object(Ce.e)(Je)),errDesc:Object(Ce.e)(H),buttonText:Object(Ce.e)(M),buttonCTA:function(e){return Ne(e,!0)}})}(null===me||void 0===me?void 0:me.filter((function(e){var t,n,a,i,c,o,r,s,d,l,u,b,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(o=c.menu)||void 0===o||null===(r=o.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(d=s.timings)||void 0===d||null===(l=d.operatingHours)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(b=u.timings)||void 0===b||null===(v=b.asap)||void 0===v?void 0:v.isAvailable)})),null===me||void 0===me||null===(e=me[0])||void 0===e||null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.value)}),[me,fe,l]);var Se=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),c({type:g,value:{showDisposition:!1}}),c({type:y,value:{addToCart:!1}}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&Se(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var ye=Object(u.jsx)(ci,{modalContent:O,onDispositionMethodSubmit:xe}),De=Object(u.jsx)(oi,{handleClose:Se,DispositionModuleForm:ye,headerText:f,modalTitleId:"dispostion_selector"});return Object(u.jsxs)(u.Fragment,{children:[(null===te||void 0===te?void 0:te.showError)&&Object(u.jsx)(Ri,{handleClose:null,CartAlertForm:Object(u.jsx)(yi,{title:null===te||void 0===te?void 0:te.errMsg,contentMsg:null===te||void 0===te?void 0:te.errDesc,confirmButtonText:null===te||void 0===te?void 0:te.buttonText,confirmHandler:null===te||void 0===te?void 0:te.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),De]})},Li=n.p+"static/media/GREEN_RIGHT_TICK.bcaaf321.svg",ki=n(60),Mi=n(35),Fi=n.p+"static/media/24x7.c266ec0d.svg",Hi=n.p+"static/media/birthday.73ee147e.svg",Ui=n.p+"static/media/breakfast.cefae5c5.svg",Bi=n.p+"static/media/contactless.f0be7f13.svg",Gi=n.p+"static/media/driveThru.88df113a.svg",Yi=n.p+"static/media/foodCourt.9e9b227b.svg",Ki=n.p+"static/media/freeWifi.1eefee0f.svg",Vi=n.p+"static/media/kiosks.816c5ee3.svg",Wi=n.p+"static/media/parking.c7314c7d.svg",qi=n.p+"static/media/playground.0bd2db1a.svg",zi=n.p+"static/media/refill.6c50cac4.svg",Qi=n.p+"static/media/terraces.8524d714.svg",Ji=n.p+"static/media/wheelchairAccess.930a1573.svg",Xi=[{key:Mi.c.roundTheClock,image:Fi,label:Object(Ce.e)("roundTheClock")},{key:Mi.c.birthday,image:Hi,label:Object(Ce.e)("birthday")},{key:Mi.c.breakfast,image:Ui,label:Object(Ce.e)("breakfast")},{key:Mi.c.contactless,image:Bi,label:Object(Ce.e)("contactless")},{key:Mi.c.driveThru,image:Gi,label:Object(Ce.e)("driveThru")},{key:Mi.c.foodCourt,image:Yi,label:Object(Ce.e)("foodCourt")},{key:Mi.c.wifi,image:Ki,label:Object(Ce.e)("freeWifi")},{key:Mi.c.kiosks,image:Vi,label:Object(Ce.e)("kiosks")},{key:Mi.c.parking,image:Wi,label:Object(Ce.e)("parking")},{key:Mi.c.playground,image:qi,label:Object(Ce.e)("playground")},{key:Mi.c.refill,image:zi,label:Object(Ce.e)("refill")},{key:Mi.c.terraces,image:Qi,label:Object(Ce.e)("terraces")},{key:Mi.c.phc,image:Ji,label:Object(Ce.e)("phcWheelChairAccess")}],Zi=function(e){return Xi.filter((function(t){var n,a;if(null===e||void 0===e||null===(n=e.amenities)||void 0===n?void 0:n.length)return(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},$i=n.p+"static/media/favorite-unfilled.41887538.svg",ec=n.p+"static/media/favorite-filled.e400bfd4.svg",tc=function(e,t){return null===t||void 0===t?void 0:t.find((function(t){return e>=t.from&&e<=t.to}))},nc=function(e,t,n,i,c,o){if(!e||!t)return!1;var r=[];if((null===o||void 0===o?void 0:o.length)>0)for(var s=0;s<(null===o||void 0===o?void 0:o.length);s++){var d=o[s],l=d.from,u=d.to;r.push({from:(new Date).setHours(Number(null===l||void 0===l?void 0:l.split(":")[0]),Number(null===l||void 0===l?void 0:l.split(":")[1]),0,0),to:(new Date).setHours(Number(null===u||void 0===u?void 0:u.split(":")[0]),Number(null===u||void 0===u?void 0:u.split(":")[1]),0,0)})}var b=[],v=(new Date).getTime(),j=(new Date).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0,0),O=(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0);c&&(O+=864e5);for(var m=(new Date).setHours(0,0,1)+(864e5-6e4*n),f=j;f<O;)(null===r||void 0===r?void 0:r.length)>0&&tc(f,r)||(f>m?b.push({timestr:new Date(f).getHours()+":"+new Date(f).getMinutes(),selectedDay:"Tomorrow"}):b.push({timestr:new Date(f).getHours()+":"+new Date(f).getMinutes(),selectedDay:"Today"})),f+=6e4*n;if(b=b.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{timestr:Object(ye.r)(e.timestr,"hh:mm","LT")})})),v>j){var p=b.findIndex((function(e){var t=Object(ye.r)(e.timestr,"hh:mm A","HH:mm");return("Today"===e.selectedDay?(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0):(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0)+864e5)>=v}));b=b.splice(p)}return i&&b.unshift({timestr:"ASAP",selectedDay:"Today"}),b},ac=function(e,t){var n,a;return"INDIA"===(null===t||void 0===t||null===(n=t.country)||void 0===n?void 0:n.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"},ic=Object(o.i)((function(e){var t,n,c=e.storeDistance,o=void 0===c?"":c,r=e.addresses,s=void 0===r?{}:r,d=e.isOpen,l=void 0!==d&&d,b=e.buttonData,v=void 0===b?{}:b,j=e.map,O=void 0===j?{}:j,m=e.storeName,f=void 0===m?"":m,p=e.currentMarket,h=e.storeInfo,g=void 0===h?{}:h,I=e.channels,T=void 0===I?[]:I,S=e.storeStatus,A=void 0===S?{}:S,y=e.onStoreSelectFinish,D=e.onClickMapHandler,_=e.isMapView,R=e.isMobile,w=e.isFavoriteStore,P=e.addToFavoriteHandler,L=e.removeFromFavoriteHandler,k=e.loggedIn,F=e.centerIndex,H=e.storeLength,U=Object(x.ub)(null===v||void 0===v?void 0:v.scheduleOrderButtonData),B=U.buttonText,G=void 0===B?"":B,Y=(U.display,Object(x.ub)(null===v||void 0===v?void 0:v.orderNowButtonData)),K=Y.buttonText,V=void 0===K?"":K,W=Y.display,q=void 0!==W&&W,z=Object(i.useContext)(E.a),Q=z.userOrderState,J=z.userOrderStateDispatch,X=Ae.a.SCHEDULE_ORDER_DATA,Z=void 0===X?"":X,$=Ae.a.SEARCH_ORDER_DATA,ee=void 0===$?"":$,te=Ae.a.SELECTED_TILE_DATA,ne=void 0===te?"":te,ae=Ae.a.SCHEDULE_ORDER_TIME_DATA,ie=void 0===ae?"":ae,ce=Ae.a.MENU_URL,oe=Ae.a.SET_DISPOSITION,re=Ae.a.USER_LOCALIZED,se=Ae.a.CURRENT_STORE_INFO,de=Ae.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,le=Ae.a.SET_FORCERELOAD,ve=wi.a.STORE_STATUS_CLOSED,je=O.mapText,Oe=void 0===je?"":je,me=en.timingsSampleData,fe=void 0===me?{}:me,pe=T&&Object(ki.f)(T),he=Object(x.tb)(pe[0]).services,ge=void 0===he?[]:he,Ne=((null===A||void 0===A||null===(t=A.timings)||void 0===t?void 0:t.operatingHours)?A.timings:[]).operatingHours,xe=void 0===Ne?[]:Ne,Ee=Object(ki.b)(l,xe),Ie=Object(N.b)(),Te=Object(N.c)((function(e){return e.profileReducer})),Se=Object(N.c)((function(e){return e.tenantReducer})),ye=Q.dispositionStateData.dispositionType,De=void 0===ye?localStorage.getItem("dispositionType"):ye,_e=Se.componentOptions.ScheduledDeliveryComponent.allowScheduleOrder,Re=Object(N.c)((function(e){return e.appStateReducer.userStatus})),we=Object(x.Cb)(Q.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Q.dispositionNew,Pe=function(t,n){var i=Object(x.mb)(t,t,null);J({type:ne,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),J({type:se,value:i}),Ie(Object(Ha.a)(Object(a.a)(Object(a.a)({},Re),{},{localized:!0}))),J({type:ie,value:{selectedDateTime:n}}),J({type:de,value:{selectContentTime:"ASAP"}}),J({type:le,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(Se)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",De),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),setTimeout((function(){!Q.fromPdpPage&&e.history.push({pathname:"".concat(ce)})}),500)},Le=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a,i,c,o,r,s,d,l,u,b,v,j,O,m,f,p,h,g,N;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(ki.k)(),d=Object(x.s)(null===n||void 0===n||null===(a=n.summary)||void 0===a?void 0:a.timings,fe),l=d.futureDates,u=d.scheduled,b=d.asap,v=Object(x.r)(null===u||void 0===u||null===(i=u.periods)||void 0===i?void 0:i.length,u.periods[0]),j=v.interval,O=void 0===j?0:j,m=v.startEndTime,p=(f=void 0===m?{}:m).from,h=f.to,nc(p,h,O,null===b||void 0===b?void 0:b.isAvailable,1===l.length&&"INDIA"===(null===Se||void 0===Se?void 0:Se.country)),g={time:"ASAP",interval:null===(c=n.summary.timings.scheduled.periods[0])||void 0===c?void 0:c.interval,date:new Date,selectedTime:"ASAP"},null!==we&&we.type===De&&we.store.id===n.id&&we.deliveryAddress===(null===Q||void 0===Q||null===(o=Q.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress)){e.next=14;break}return e.next=11,Object(x.g)(n,Object(x.H)(De),Te.customerId,g);case 11:N=e.sent,Ie(Object(Ct.j)("")),Ie(Object(Ct.e)({data:N,tenantId:Se.tenantId}));case 14:localStorage.setItem("renderComp",!0),J({type:oe,value:{oldvalue:we,newValue:{type:De,store:n,date:g.date,time:g.time,interval:g.interval,selectedTime:g.selectedTime,deliveryAddress:null===Q||void 0===Q||null===(r=Q.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(we)),localStorage.setItem("dispositionNew",JSON.stringify({type:De,store:n,date:g.date,time:g.time,selectedTime:g.selectedTime,interval:g.interval,deliveryAddress:null===Q||void 0===Q||null===(s=Q.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(x.dc)(),y(t,De),J({type:ee,value:{showSearchStore:!1}}),J({type:re,value:{isLocalized:!0}}),Pe(n,g);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(e,t){var n,a;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),J({type:re,value:{isLocalized:!0}}),J({type:Z,value:{showScheduleOrder:!0,selectedStoreInfo:t}}),J({type:ee,value:{showSearchStore:!1}});var i=Object(x.s)(null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,fe),c=i.futureDates,o=i.scheduled,r=i.asap,s=Object(x.r)(null===o||void 0===o||null===(a=o.periods)||void 0===a?void 0:a.length,o.periods[0]),d=s.interval,l=void 0===d?0:d,u=s.startEndTime,b=void 0===u?{}:u,v=b.from,j=b.to;nc(v,j,l,null===r||void 0===r?void 0:r.isAvailable,1===c.length&&"INDIA"===(null===Se||void 0===Se?void 0:Se.country)),Object(ki.j)(),function(e){var t=Object(x.mb)(e,e,null);J({type:ne,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),J({type:se,value:t})}(t)},Me=Zi(g),Fe=Object(u.jsxs)("div",{className:"store-card ".concat(Object(x.r)(_,!R)?"store-card-map-view":"store-card-mobile-view"),style:function(){if(_&&R)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}}(),"data-testid":"store-card",id:"map-store-card",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsxs)("div",{className:"store-dist-container ".concat(_&&"map-view"),children:[Object(u.jsx)("div",{className:"store-name-container",children:Object(u.jsx)("span",{className:"card-store-name",children:f})}),Object(u.jsx)("span",{className:"store-distance",children:ac(o,Se)})]}),_&&Object(u.jsx)("span",{className:"store-index",children:"".concat(F+1," of ").concat(H)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:(n=ge,!!Object(x.Db)(n)&&n.map((function(e,t){var n=wi.a.PICK_UP,a=wi.a.TAKE_AWAY;return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:Li,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:e===n?Object(Ce.e)(a):e})]},t)})))}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:Object(x.Q)(s)}),!_&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return D()},children:Object(u.jsx)(M,{className:"card-map-link",children:Oe})})]}),Object(u.jsxs)("div",{className:"info-timing ".concat(!l&&"info-timingClosed"),children:[l?"":Object(u.jsx)("span",{children:Object(Ce.e)(ve)}),Object(u.jsx)("span",{className:"".concat(!l&&"list-circle"),children:Ee})]}),Object(u.jsx)("div",{className:"facilities",children:Me&&Me.map((function(e){return Object(u.jsx)(C.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))})]}),Object(u.jsxs)("div",{className:"w-100 d-flex mt-2",children:[k?w?Object(u.jsx)(C.a,{"data-testid":"favorite-img",srcFile:ec,alt:"favorite",className:"favorite-img",onClick:function(){return L()}}):Object(u.jsx)(C.a,{"data-testid":"unfavorite-img",srcFile:$i,alt:"favorite",className:"favorite-img",onClick:function(){return P()}}):"",_e&&Object(u.jsx)(Ot.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(x.r)(_,!R)?"cardMapView":null),onClickHandler:function(e){return ke(e,g)},children:G}),q&&l&&Object(u.jsx)(Ot.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(_&&!R?"cardMapView":null),onClickHandler:function(e){return Le(e,g)},children:V})]})]});return p!==wi.a.COUNTRY_CODE_INDIA||l?Fe:null})),cc=wi.a.BROWSE_MENU,oc=wi.a.PICK_UP,rc=wi.a.TAKE_AWAY,sc=wi.a.STORE_STATUS_CLOSED_CAPS,dc=wi.a.STORE_STATUS_CLOSED,lc=wi.a.INDIA,uc=function(e){return e===oc?rc:e},bc=function(e,t){if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}},vc=Object(o.i)((function(e){var t,n,c,o,r,s,d,l,b,v,j,O,m,f,p,h,g,I=e.key,T=void 0===I?"":I,S=e.storeName,A=void 0===S?"":S,y=e.storeDistance,D=void 0===y?"":y,_=e.orderTypes,R=void 0===_?[]:_,w=e.addresses,P=void 0===w?{}:w,L=e.storeStatus,k=void 0===L?{}:L,F=e.onClickMapHandler,H=e.isMapView,U=e.isMobile,B=e.isFavoriteStore,G=e.addToFavoriteHandler,Y=e.removeFromFavoriteHandler,K=e.map,V=e.loggedIn,W=e.storeInfo,q=void 0===W?{}:W,z=e.centerIndex,Q=e.storeLength,J=e.onStoreSelectFinish,X=(null===(t=k.timings)||void 0===t||null===(n=t.operatingHours[0])||void 0===n||null===(c=n.availableHours)||void 0===c?void 0:c.from)||"",Z=null===k||void 0===k||null===(o=k.timings)||void 0===o||null===(r=o.scheduled)||void 0===r?void 0:r.unavailibilities,$=Object(x.ub)(K).mapText,ee=void 0===$?"":$,te=Ae.a.MENU_URL,ne=Ae.a.SEARCH_ORDER_DATA,ae=Ae.a.CURRENT_STORE_INFO,ie=Ae.a.DISPOSITION_DATA,ce=Ae.a.USER_LOCALIZED,oe=Ae.a.SCHEDULE_ORDER_DATA,re=void 0===oe?"":oe,se=Ae.a.SELECTED_TILE_DATA,de=void 0===se?"":se,le=Object(i.useContext)(E.a),ue=le.userOrderState,be=le.userOrderStateDispatch,ve=Object(N.c)((function(e){return e.appStateReducer.userStatus})),je=Object(N.c)((function(e){return e.tenantReducer})),Oe=Object(N.b)(),me=Object(x.ub)(null===q||void 0===q||null===(s=q.summary)||void 0===s?void 0:s.timings),fe=me.futureDates,pe=me.scheduled,he=me.asap,ge=Object(x.ub)(pe).unavailibilities,Ne=Object(x.ub)((null===pe||void 0===pe||null===(d=pe.periods)||void 0===d?void 0:d.length)&&(null===pe||void 0===pe?void 0:pe.periods[0])),xe=Ne.interval,Ee=void 0===xe?0:xe,Ie=Ne.startEndTime,Te=void 0===Ie?{}:Ie,Se=Object(x.ub)(Te),De=Se.from,_e=Se.to,Re=ue.dispositionStateData.dispositionType,we=void 0===Re?localStorage.getItem("dispositionType"):Re,Pe=Object(x.Cb)(ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ue.dispositionNew,Le=function(){var e;return nc(De,_e,Ee,null===he||void 0===he?void 0:he.isAvailable,1===fe.length&&(null===je||void 0===je||null===(e=je.country)||void 0===e?void 0:e.toUpperCase())===lc,ge)},ke=function(e,t){var n,a;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),be({type:ce,value:{isLocalized:!0}}),be({type:ne,value:{showSearchStore:!1}}),be({type:re,value:{showScheduleOrder:!0,selectedStoreInfo:t}});var i=null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,c=i.futureDates,o=i.scheduled,r=i.asap,s=(null===o||void 0===o||null===(a=o.periods)||void 0===a?void 0:a.length)&&(null===o||void 0===o?void 0:o.periods[0]),d=s.interval,l=void 0===d?0:d,u=s.startEndTime,b=void 0===u?{}:u,v=b.from,j=b.to;nc(v,j,l,null===r||void 0===r?void 0:r.isAvailable,1===c.length&&"INDIA"===(null===je||void 0===je?void 0:je.country)),Object(ki.j)(),function(e){var t=e||null;be({type:de,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),be({type:ae,value:t})}(t),J(e,we)},Me=Zi(q);return Object(u.jsxs)("div",{className:"store-card ".concat(H&&!U?"store-card-map-view":"store-card-mobile-view"),style:bc(H,U),"data-testid":"closed-card",id:"map-store-card",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsxs)("div",{className:"store-dist-container ".concat(H&&"map-view"),children:[Object(u.jsx)("div",{className:"store-name-container",children:Object(u.jsx)("span",{className:"card-store-name",children:A})}),Object(u.jsx)("span",{className:"store-distance",children:ac(D,je)})]}),H&&Object(u.jsx)("span",{className:"store-index",children:"".concat(z+1," of ").concat(Q)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:(g=R,g.map((function(e,t){return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:Li,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:uc(e)})]},t)})))}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:function(){var e;return"".concat(null===(e=P.addressLines)||void 0===e?void 0:e.join(" ")," ").concat(P.city," ").concat(P.state," ").concat(P.country," ").concat(P.pinCode)}()}),!H&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return F()},children:Object(u.jsx)(M,{className:"card-map-link",children:ee})})]}),Object(u.jsx)("div",{className:"info-timingClosed",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(x.s)((null===(l=k.status)||void 0===l?void 0:l.currentStatus)===sc,0===(null===k||void 0===k||null===(b=k.timings)||void 0===b||null===(v=b.scheduled)||void 0===v||null===(j=v.periods)||void 0===j?void 0:j.length))?Object(u.jsx)("span",{className:"closed-text",children:dc}):""}),Object(u.jsx)("li",{children:(null===Z||void 0===Z?void 0:Z.length)>0&&Object(ye.r)(null===(O=Z[0])||void 0===O?void 0:O.to,"HH MM","HH:MM")<=Object(ye.r)(_e,"HH MM","HH:MM")?"Open Today ".concat((null===(m=Z[0])||void 0===m?void 0:m.to)&&Object(ye.r)(null===(f=Z[0])||void 0===f?void 0:f.to,"hh mm","hh:mm a")):"Open ".concat((null===(p=k.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date,Le().length?"Today":"Tomorrow")," ").concat(X&&Object(ye.r)(X,"hh mm","hh:mm a"))})]})}),Object(u.jsx)("div",{className:"facilities",children:Me&&Me.map((function(e){return Object(u.jsx)(C.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))}),Object(u.jsxs)("div",{className:"w-100 d-flex mt-2",children:[V&&(B?Object(u.jsx)(C.a,{"data-testid":"favorite-img",srcFile:ec,alt:"favorite",className:"favorite-img",onClick:function(){return Y()}}):Object(u.jsx)(C.a,{"data-testid":"unfavorite-img",srcFile:$i,alt:"favorite",className:"favorite-img",onClick:function(){return G()}})),Le().length>0?Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn","data-testid":"schedule-order-closed-store",onClickHandler:function(e){return ke(e,q)},children:Object(Ce.e)("scheduleOrder")}):Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){Object(x.ec)(q,be,Pe,we),Oe(Object(Ha.a)(Object(a.a)(Object(a.a)({},ve),{},{localized:!0}))),Object(x.dc)(),be({type:ie,value:{showDisposition:!1}}),be({type:ne,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(te)})},children:Object(Ce.e)(cc)})]})]})]},T)})),jc=n.p+"static/media/Location.aa650ea9.svg",Oc=n.p+"static/media/Map.f2d99af8.svg",mc=n.p+"static/media/Union.f6d2afe2.svg",fc=n.p+"static/media/SuggestionItemSearchPin.9d2e9435.svg",pc=n.p+"static/media/Time_Clock.200bdc68.svg",hc=n.p+"static/media/successSign.9ca85326.svg",gc=n(116),Nc=n.n(gc),xc="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAPAA8DAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDzb9qf9qf9pP8A4Ku/tIeOvD3h/wAePb+GLa58QN+zv+zs2vatommeLNI0jVVi0jw54a0qKKTw34h+Meu+G/tHiO7ufE99pd74pvtPuvCvg+eXUZvBvgm5APUf2Bf+CjPxZ/4Jo/tB6p8I/iN8SW+MX7P1tZXejePvBOheKdR8U+GfCPjS38NS34/4Vrq+pRnTdP1jw141b/hCvF2oeFkvfBPi6C01K+0q98SWNt4T8SxACf8ABRn9gb9oD/gmh8XPiV8RfhFqFrbfs/fGKPxPoHgf4g6Tf+G4PGfhHw34q1ODU9c+G6pdzr4z8N63p2nRJ4Wv/F3hCK2t/FXgTVL7R7rVYbTxL4p8LQAHv/8AwTB/4Jg/Ff8Ab1+KiftbftbNp03wSksb22uri3ufCsPjD41eLIvCz+Gra8vYPC373T77TriWy8W+NfHHi+zbxR418Rxi5vV1/VNf1/xHp4AA/9k=",Ec=n.p+"static/media/RedMarkerNoText.131ca000.svg",Ic=n(176),Tc=function(e){var t,n,a=e.locationAlertProp,o=e.negativeScenarioAlertProp,r=e.isMobile,s=e.onPositionChangeHandler,d=e.centerIndex,l=e.isVisible,b=e.setShowCard,v=e.locationAlert,O=e.setStoreMarker,m=void 0===O?function(){}:O,f=e.passAddress,p=e.storeCardHeight,h=e.latLongValue,g=wi.a.PLACE_PIN,N=c.a.useContext(E.a).userOrderState.dispositionStateData,I=(void 0===N?{}:N).dispositionType,C=void 0===I?localStorage.getItem("dispositionType"):I,S=c.a.createRef(),A=Object(i.useState)(h),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(i.useState)(!1),w=Object(j.a)(R,2),P=w[0],L=w[1];Object(i.useEffect)((function(){t=k(D),n=M(D)}),[]),Object(i.useEffect)((function(){_(h),L(!1)}),[h]),Object(i.useEffect)((function(){k(D),n=M(D)}),[D,d,P]);var k=function(e){return new window.google.maps.Map(S.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[d]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!r,gestureHandling:"greedy"})},M=function(e){var a=new window.google.maps.Geocoder,i=e;t=k(i),l?P||(t.addListener("zoom_changed",(function(){b(!1),L(!0)})),t.addListener("drag",(function(){b(!1),L(!0)}))):(t.addListener("drag",(function(){i={lat:t.getCenter().lat(),lng:t.getCenter().lng()},n.setPosition(i)})),window.google.maps.event.addListener(t,"dragend",(function(){!function(e,t,n){e.geocode({location:n},(function(e,t){"OK"===t&&e[0]&&f(e[0].formatted_address)}))}(a,0,i)})));var c=Object(x.mb)(Array.isArray(i)&&i.length>0,i,[i]).map((function(e,n){var a=new window.google.maps.Marker({position:e,map:t,visible:!0,icon:Object(x.sb)(!l,!P&&l&&n===d)?(null===C||void 0===C?void 0:C.toUpperCase())===T.rb?Ec:ht:gt});return a.addListener("click",(function(e){m(e.latLng)})),a}));return Object(x.mb)(Array.isArray(i),c,c[0])};return Object(u.jsxs)(c.a.Fragment,{children:[!a&&((null===C||void 0===C?void 0:C.toUpperCase())!==T.rb||""!==o&&o?null:Object(u.jsx)("div",{className:"map-top-note ".concat(Object(x.mb)(v,"place-pin-off","")),children:Object(u.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(Ce.e)(g)})})),r&&!P&&Object(u.jsxs)("div",{className:"arrows",style:{bottom:"".concat(p+15,"px")},children:[Object(u.jsx)("span",{className:"map-arrow-left ".concat(Object(x.r)(0===d,"disableArrow")),"data-testid":"map-arrow-left",onClick:function(e){return Object(x.mb)(0===d,e.preventDefault(),s(0))},children:Object(u.jsx)(Ic.a,{srcFile:_e,alt:"map-arrow-left"})}),Object(u.jsx)("span",{className:"map-arrow-right ".concat(d===D.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:function(e){return d===D.length-1?e.preventDefault():s(1)},children:Object(u.jsx)(Ic.a,{srcFile:_e,alt:"map-arrow-right"})})]}),Object(u.jsx)("div",{id:"google-map",ref:S})]})},Cc=function(e){var t=e.errorMsgToShow,n=e.onClearTextHandler,a=e.dispositionType,o=e.onRetryClickHandler,r=e.onMapClickHandler,s=e.showMap,d=Object(i.useContext)(E.a).userOrderStateDispatch,l=Ae.a.DISPOSITION_METHOD,b=wi.a.DELIVERY_UNAVAILABLE_WITH_CTA,v=wi.a.TAKE_AWAY,j=wi.a.RETRY_TEXT,O=wi.a.CTA1_SEARCH_DIFF_ADDRESS,m=wi.a.CTA2_ORDER_TAKEAWAY,f=wi.a.CTA2_VIEW_MAP_BUTTON_TEXT,p=Object(St.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":s});return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===a?p:"error-alert-location-popup error-adjust",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),t!==b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"location-error-address",children:Object(Ce.e)(t)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return function(e){e.preventDefault(),n()}(e)},children:Object(Ce.e)(O)}),a.toLowerCase()!==v.toLowerCase()&&Object(u.jsx)(Ot.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){return function(e){e.preventDefault(),d({type:l,value:{dispositionType:v}})}(e)},children:Object(Ce.e)(m)})]})]}),t===b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"location-error-address",children:Object(Ce.e)(t)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:function(e){return o(e)},children:Object(Ce.e)(j)}),a!==v&&Object(u.jsx)(Ot.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:function(e){return r(e)},children:Object(Ce.e)(f)})]})]})]})})},Sc=n(742),Ac=n(741),yc=n(114),Dc=function(e){return!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC"},_c=function(e,t){return e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color"},Rc=function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0},wc=function(e){return e?mc:Oc},Pc=function(e){var t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},Lc=function(e,t,n){return!0===e?t():n()},kc=Object(o.i)((function(e){var t,n,o=e.formContent,r=void 0===o?{}:o,s=e.storeData,d=void 0===s?[]:s,l=e.eligibleStoreData,b=void 0===l?[]:l,v=e.favoriteStoreData,O=void 0===v?[]:v,m=e.userPositionHandler,f=e.singInClickhandler,p=e.currentMarket,h=e.storeCardLimit,g=void 0===h?1/0:h,I=e.onStoreSelectFinish,S=e.handleGoBack,A=e.noStoresList,y=e.favoriteStoreHandler,_=r.memberText,R=void 0===_?"":_,w=r.singInLink,P=void 0===w?{}:w,L=r.currentLocationText,k=void 0===L?"":L,F=r.addressBoxPlaceHolderForSearchStore,H=void 0===F?"":F,U=r.mapText,B=void 0===U?"":U,G=wi.a.MIN_SEARCH_CHARACTER_LIMIT,Y=wi.a.SUUGESTED_ITEMS_TEXT,K=wi.a.ALLOWED_SUGGESTION_LIST,V=wi.a.ALREADY_SERACHED_LOCATIONS,W=wi.a.COUNTRY_CODE,q=wi.a.SUGGESTION_ACTIVE_COLOR,z=wi.a.SUGGESTION_ACTIVE_OPACITY,Q=wi.a.BRAND_BLACK,J=wi.a.STORE_STATUS_OPEN,X=wi.a.LIST_TEXT,Z=wi.a.TYPE_TAKE_WAY,$=wi.a.STORE_STATUS_CLOSED_CAPS,ee=wi.a.BROWSE_MENU,te=wi.a.CTA1_SEARCH_DIFF_ADDRESS,ne=wi.a.DINEIN_UNAVAILABLE,ae=wi.a.CTA2_ORDER_TAKEAWAY,ie=wi.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,ce=wi.a.DINE_IN_SERVICE,oe=wi.a.DINE_IN,re=wi.a.TYPE_DELIVERY,se=wi.a.TAKE_AWAY,de=Ae.a.DISPOSITION_METHOD,le=Ae.a.MENU_URL,ve=Ae.a.SEARCH_ORDER_DATA,je=Ae.a.CURRENT_STORE_INFO,Oe=Ae.a.DISPOSITION_DATA,me=Ae.a.INDIA,fe=c.a.useContext(E.a).userOrderState,pe=fe.searchStoreData,he=void 0===pe?{}:pe,ge=fe.dispositionStateData,Ne=void 0===ge?{}:ge,xe=fe.scheduleOrderData,Ee=void 0===xe?{}:xe,Ie=Ne.dispositionType,Te=void 0===Ie?localStorage.getItem("dispositionType"):Ie,Se=c.a.useState(""),ye=Object(j.a)(Se,2),De=ye[0],_e=ye[1],Re=Object(i.useState)({}),we=Object(j.a)(Re,2),Pe=we[0],Le=we[1],ke=Object(i.useState)({}),Me=Object(j.a)(ke,2),Fe=Me[0],He=Me[1],Ue=Object(i.useState)(!1),Be=Object(j.a)(Ue,2),Ge=Be[0],Ye=Be[1],Ke=Object(i.useState)(!1),Ve=Object(j.a)(Ke,2),We=Ve[0],qe=Ve[1],ze=c.a.useState([]),Qe=Object(j.a)(ze,2),Je=Qe[0],Xe=Qe[1],Ze=c.a.useState(!1),$e=Object(j.a)(Ze,2),et=$e[0],tt=$e[1],nt=Object(i.useState)(null),at=Object(j.a)(nt,2),it=at[0],ct=at[1],ot=Object(i.useState)(Object(x.Ib)(window.innerWidth)),rt=Object(j.a)(ot,2),st=rt[0],dt=rt[1],lt=0,ut=Object(i.useState)(0),bt=Object(j.a)(ut,2),vt=bt[0],jt=bt[1],mt=Object(i.useState)(""),ft=Object(j.a)(mt,2),pt=ft[0],ht=ft[1],gt=c.a.useState(!1),Nt=Object(j.a)(gt,2),xt=Nt[0],Et=Nt[1],It=c.a.useState([]),Tt=Object(j.a)(It,2),Ct=Tt[0],St=Tt[1],At=c.a.useState([]),yt=Object(j.a)(At,2),Dt=yt[0],_t=yt[1],Rt=Object(i.useContext)(E.a).userOrderStateDispatch,wt=0,Pt=Object(N.b)(),Lt=Object(N.c)((function(e){return e.tenantReducer})),kt=(Lt||{}).tenantId,Mt=void 0===kt?{}:kt,Ft=0,Ht=c.a.useState(!1),Ut=Object(j.a)(Ht,2),Bt=Ut[0],Gt=Ut[1],Yt=c.a.useState(!1),Kt=Object(j.a)(Yt,2),Vt=Kt[0],Wt=Kt[1],qt=Object(N.c)((function(e){return e.appStateReducer})),zt=Object(N.c)((function(e){return Object(x.ub)(e.LoaderReducer)})).isLoading,Qt=qt.userStatus,Jt=(void 0===Qt?{}:Qt).loggedIn,Xt=void 0!==Jt&&Jt,Zt=c.a.useState([]),en=Object(j.a)(Zt,2),tn=en[0],an=en[1],cn=c.a.useState(!0),on=Object(j.a)(cn,2),rn=on[0],sn=on[1],dn=nn.a.getInstance().customerId,ln=Object(i.useState)(325),un=Object(j.a)(ln,2),bn=un[0],vn=un[1],jn=Object(i.useState)(!1),On=Object(j.a)(jn,2),mn=On[0],fn=On[1],pn=function(){var e=Object(x.Ib)(window.innerWidth);dt(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",pn),function(){window.removeEventListener("resize",pn)}}),[st]),Object(i.useEffect)((function(){return window.addEventListener("keydown",Pc),function(){window.removeEventListener("keydown",Pc)}}));var hn=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(i.useEffect)((function(){hn&&bn!==hn&&vn(hn)}),[hn]);var gn=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gc.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(gc.getLatLng)(n[0]);case 5:a=e.sent,Le(a),He(a),lt=0,En(t),_e(t),m({userLat:a.lat,userLong:a.lng}),tt(!1),i=Boolean(Object(x.r)(Object(x.sb)(De,t),Object(x.r)(0===lt,0===wt))),Et(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nn=function(){localStorage.setItem("currentStoreInfo",JSON.stringify(null)),Rt({type:je,value:null}),Rt({type:Oe,value:{showDisposition:!1}}),Rt({type:ve,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(le)})},xn=function(e,t,n){return Object(u.jsx)("div",{className:"store-card",children:Te.toUpperCase()===Z?Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:$t,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:e()}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Cn,children:Object(Ce.e)(n)})]}):Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:$t,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:e()}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Cn,children:Object(Ce.e)(n)}),Object(u.jsx)(Ot.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:function(e){return function(e){e.preventDefault(),Rt({type:de,value:{dispositionType:se}}),gn(De)}(e)},children:Object(Ce.e)(ae)})]})})};Object(i.useEffect)((function(){if(!(null===Ee||void 0===Ee?void 0:Ee.changeFlow)&&(null===he||void 0===he?void 0:he.searchedPlaceNonLocalized))gn(he.searchedPlaceNonLocalized);else if(localStorage.getItem("searchStoreByAttribute")){var e=localStorage.getItem("searchStoreByAttribute");_e(e),gn(e)}}),[]);Object(i.useEffect)((function(){if(De){var e=b.filter(Rc);if(e.length>0){var t=e.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===J&&(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)>0}));if(t.length>=g){var n=t.slice(0,g);Xe(n)}else if(t.length<g){var a=g-t.length,i=e.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)})).slice(0,a),c=t.concat(i);Xe(c)}}else lt=0,Xe([])}else Xe([]),an([]),St([]),Et(!1)}),[b,De]),Object(i.useEffect)((function(){if(b.length>0){y({userLat:Fe.lat,userLong:Fe.lng});var e=O.sort((function(e,t){return Object(ki.c)(e,t)})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus}));an(t)}}),[b,O.length]),Object(i.useEffect)((function(){et&&(_e(pt),En(pt),tt(!1)),localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==De&&(Xe([]),St([]),ct(""),an([]));var e=Object(x.c)(De,G);fn(e)}),[he,De,et,pt]);var En=function(e){Object(x.Pb)(e,V)},In=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.b.BindLocation();case 2:Object(ki.l)(),ka.b.coordinates&&(t=ka.b.coordinates,n=t.latitude,a=t.longitude,ka.b.addFeedback("Check coordinates ".concat(JSON.stringify(ka.b.coordinates))),ka.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),ka.b.addFeedback("Check address ".concat(ka.b.address)),lt=0,Le({lat:n,lng:a}),Ye(!1),m({userLat:n,userLong:a}),Et(!0),_e(ka.b.address),ht(ka.b.address),tt(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tn=function(e){return t=e,Object(x.tb)(JSON.parse(localStorage.getItem(V))).includes(t);var t},Cn=function(){_e(""),an([]),Xe([]),St([]),Et(!1),ct(""),Ye(!1)},Sn=Object(i.useCallback)(Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Je.map(function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,Le(t);case 4:case"end":return e.stop()}}),e)}))),[Je]),An=Object(i.useCallback)(Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(tn.map(function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,Le(t);case 4:case"end":return e.stop()}}),e)}))),[tn]),yn=function(){Object(ki.h)(Ge,Te),Ye(!Ge),qe(!Ge)},Dn=function(e,t){ct(e),jt(t)},_n=function(){Sn(),qe(!0),ct(Object(x.ub)(Je[vt]))},Rn=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An();case 2:qe(!0),ct(Object(x.ub)(tn[vt]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){!function(e,t,n,a){var i=a.TYPE_TAKE_WAY,c=a.DINE_IN,o=a.dispositionType,r=a.callSelectedStore,s=a.callSelectedFavStore;e?t.length&&[i,c].indexOf(o.toUpperCase())>-1&&r():n.length&&[i,c].indexOf(o.toUpperCase())>-1&&s()}(rn,Je,tn,{TYPE_TAKE_WAY:Z,DINE_IN:oe,dispositionType:Te,callSelectedStore:_n,callSelectedFavStore:Rn});var e=Je.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)})),t=Je.filter((function(e){var t,n,a,i,c,o,r,s,d,l="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),b=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(c=i.status)||void 0===c||null===(o=c.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN")),v=null===e||void 0===e||null===(r=e.summary)||void 0===r?void 0:r.timings,j=v.futureDates,O=v.scheduled,m=v.asap,f=O.unavailibilities,p=O&&(null===O||void 0===O||null===(s=O.periods)||void 0===s?void 0:s.length)&&(null===O||void 0===O?void 0:O.periods[0]),h=p.interval,g=void 0===h?0:h,N=p.startEndTime,x=void 0===N?{}:N,E=x.from,I=x.to,T=nc(E,I,g,null===m||void 0===m?void 0:m.isAvailable,1===j.length&&(null===Lt||void 0===Lt||null===(d=Lt.country)||void 0===d?void 0:d.toUpperCase())===me,f);return(!T||0===T.length)&&l&&(u||b)}));St(e),_t(t)}),[Je,vt,it,A,oe,$,Z,Te,Sn,rn,tn]);var wn=function(e){ct("");var t=e?vt+1:vt-1;jt(t),function(e,t,n,a,i){t(!0===e?Object(x.ub)(n[i]):null===a||void 0===a?void 0:a[i])}(rn,ct,Je,tn,t)},Pn=function(e){sn(e)},Ln=function(){localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},kn=function(e){Ln(),Pt(Object(ii.l)({data:{storeId:e.id},tenantId:Mt,customerId:dn,dispatch:"dispatch"})),Wt(!0)},Mn=function(e){Ln(),Pt(Object(ii.m)({tenantId:Mt,customerId:dn,storeId:Object(x.ub)(e.id),dispatch:"dispatch"})),Wt(!1)};Object(i.useEffect)((function(){Vt&&Gt(!0)}),[O.length]),Object(i.useEffect)((function(){0!==lt||0!==wt||!xt||A||zt||(Te.toUpperCase()===Z?Object(x.I)(Object(Ce.e)(yc.a.contentData.searchStoreHeaderText),Object(Ce.e)(ie)):Object(x.I)(Object(Ce.e)(yc.a.contentData.searchStoreHeaderText),Object(Ce.e)(ne)))}),[lt,wt,xt,A,zt]);var Fn=function(e,t){var n,i,o,r,s=(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===J,l=(e.availableServicesPerChannel&&Object(ki.f)(e.availableServicesPerChannel))[0].services,b=void 0===l?[]:l,v="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:s?Object(u.jsx)(ic,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(x.wb)(e.name[0].value),storeDistance:Object(x.sb)(null===e||void 0===e||null===(o=e.distance)||void 0===o?void 0:o.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(x.ub)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:p,isOpen:s,isMapView:!0,onStoreSelectFinish:I,isMobile:st,centerIndex:vt,storeLength:Object(x.mb)(rn,null===Je||void 0===Je?void 0:Je.length,null===tn||void 0===tn?void 0:tn.length)}),t):Object(u.jsx)(vc,Object(a.a)(Object(a.a)({orderTypes:b,storeName:Object(x.wb)(e.name[0].value),storeDistance:Object(x.sb)(null===e||void 0===e||null===(r=e.distance)||void 0===r?void 0:r.value,null===e||void 0===e?void 0:e.distance),addresses:Object(x.ub)(e.addresses[0].address),storeStatus:e.summary,onStoreSelectFinish:I,isMobile:st,isMapView:!0,storeInfo:e,mapText:B,onClick:function(){yn(),Sn()}},d[0]),{},{onPositionChangeHandler:wn,centerIndex:vt,storeLength:Object(x.mb)(rn,null===Je||void 0===Je?void 0:Je.length,null===tn||void 0===tn?void 0:tn.length)}),v)})},Hn=tn.map((function(e,t){var n,i,o,r;if((null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===J){var s,l,b=(null===(s=e.summary)||void 0===s||null===(l=s.status)||void 0===l?void 0:l.currentStatus)===J;return b&&Ft++,Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(ic,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(x.wb)(e.name[0].value),storeDistance:Object(x.wb)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(x.ub)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:p,isOpen:b,onStoreSelectFinish:I,isMobile:st,loggedIn:Xt,onClickMapHandler:function(){Dn(e,t),yn()},isFavoriteStore:!0,addToFavoriteHandler:function(){kn(e)},removeFromFavoriteHandler:function(){Mn(e)}}),t)})}if((null===(o=e.summary)||void 0===o||null===(r=o.status)||void 0===r?void 0:r.currentStatus)===$){Ft++;var v=(e.availableServicesPerChannel&&Object(ki.f)(e.availableServicesPerChannel))[0].services,j=void 0===v?[]:v,O="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(vc,Object(a.a)({storeName:Object(x.wb)(e.name[0].value),storeDistance:Object(x.wb)(e.distance.value),orderTypes:j,addresses:Object(x.ub)(e.addresses[0].address),storeStatus:e.summary,mapText:B,isMobile:st,loggedIn:Xt,onClickMapHandler:function(){Dn(e,t),yn()},isFavoriteStore:!0,addToFavoriteHandler:function(){kn(e)},removeFromFavoriteHandler:function(){Mn(e)},onStoreSelectFinish:I,storeInfo:e},d[0]),O)})}})),Un=Je.map((function(e,t){var n,i,o,r;if(De||Xe([]),lt>=g||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length))return null;var s,l,b=(null===(s=e.summary)||void 0===s||null===(l=s.status)||void 0===l?void 0:l.currentStatus)===J;return b&&lt++,Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(ic,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(x.wb)(e.name[0].value),storeDistance:Object(x.wb)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(x.ub)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:p,isOpen:b,onStoreSelectFinish:I,isMobile:st,loggedIn:Xt,onClickMapHandler:function(){Dn(e,t),yn()},isFavoriteStore:O.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){kn(e)},removeFromFavoriteHandler:function(){Mn(e)}}),t)})})),Bn=function(){var e=-1!==Te.toLowerCase().indexOf("dine")?ce:Te;if(n=Object(ki.a)(e,b))return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(Cc,{errorMsgToShow:n,onClearTextHandler:Cn,dispositionType:Te,handleGoBack:S})})},Gn=function(){if(Je.length===Dt.length&&Dt.length>0){var e=-1!==Te.toLowerCase().indexOf("dine")?ce:Te,t=Object(ki.a)(e,b);return Object(x.I)(Object(Ce.e)(yc.a.contentData.searchStoreHeaderText),Object(Ce.e)(t)),Bn()}if(Je.length===Ct.length&&Ct.length)return Yn;var a=-1!==Te.toLowerCase().indexOf("dine")?ce:Te;return Je.length&&(n=Object(ki.a)(a,Je))?Bn():(lt<5&&Un.push(Yn),Un)},Yn=Ct.map((function(e,t){var n=e.availableServicesPerChannel&&Object(ki.f)(e.availableServicesPerChannel),i=Object(x.tb)(n[0]).services,o=void 0===i?[]:i;if(De||Xe([]),wt>=g-lt)return null;wt++;var r="".concat(e.name[0].value,"_").concat(t),s=Je.findIndex((function(t){return t.id===e.id}));return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(vc,Object(a.a)({storeName:Object(x.wb)(e.name[0].value),storeDistance:Object(x.wb)(e.distance),orderTypes:o,addresses:Object(x.ub)(e.addresses[0].address),storeStatus:e.summary,mapText:B,isMobile:st,loggedIn:Xt,onClickMapHandler:function(){Dn(e,s),yn()},isFavoriteStore:O.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){kn(e)},removeFromFavoriteHandler:function(){Mn(e)},onStoreSelectFinish:I,storeInfo:e},d[0]),r)})})),Kn=function(){switch(Te.split("-").join(" ").toUpperCase()){case Z:return Object(Ce.e)(ie);case oe:return Object(Ce.e)(ne);default:return null}};return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"store-count",children:[Object(u.jsx)("span",{className:"member-signin",children:!Xt&&Object(u.jsxs)("div",{"data-id":T.o.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(Ce.e)(R),Object(u.jsx)("span",{onClick:f,children:Object(u.jsx)(M,{className:"store-signin-link",targettype:P.targetType,href:P.linkUrl,"data-testid":"store-signin-link",children:Object(Ce.e)(P.linkText)})})]})}),Object(u.jsx)("span",{children:Object(u.jsxs)(M,{onClickHandler:In,className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:jc,alt:"location",className:"location-img"}),Object(Ce.e)(k)]})})]}),Object(u.jsx)("div",{className:"search-address",children:Object(u.jsx)("div",{className:"input-address",children:Object(u.jsx)(Nc.a,{"data-testid":"handle-select",value:De,onChange:function(e){e||Cn(),_e(e),Object(x.ab)(e)<3&&fn(!1)},onSelect:gn,searchOptions:{componentRestrictions:{country:W}},shouldFetchSuggestions:!0,onError:function(e,t){t()},children:function(e){var t=e.getInputProps,i=e.suggestions,o=e.getSuggestionItemProps;e.loading;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"".concat(n||0===lt&&0===wt&&xt&&A&&!Je.length?"search-container-data error-border":"search-container-data"),children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:D,alt:"googleMapLocation",className:"google-location-img"}),Object(u.jsx)("input",Object(a.a)({"data-testid":"store-search-input",className:"store-search-input t-2"},t({placeholder:Object(Ce.e)(H)}))),De&&Object(u.jsx)("img",{"data-testid":"clear-text-icon",src:xc,className:"clearTextIcon",onClick:function(){return Cn()}})]}),!!Object(x.r)(Object(x.ab)(i),mn)&&Object(u.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:i.map((function(e,t){var n;if(null===e||void 0===e||null===(n=e.types)||void 0===n?void 0:n.some((function(e){return K.includes(e)}))){var i=e.active?{backgroundColor:q,opacity:z}:{backgroundColor:Q};return Object(u.jsxs)(c.a.Fragment,{children:[0===t&&Object(u.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(Ce.e)(Y)}),Object(u.jsx)("div",{style:i,children:Object(u.jsx)("div",Object(a.a)(Object(a.a)({"data-testid":"suggestion-item-".concat(t)},o(e,{className:"suggestion-items",id:"suggestion-items"})),{},{children:Object(u.jsxs)("div",{className:"suggested-address-alignment",children:[Object(u.jsx)("div",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:Tn(e.description)?pc:fc,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(u.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))})]})}})})})]}),Object(u.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),Mc(De,Ge,X,yn,Sn),Object(u.jsxs)("form",{className:"form",children:[Object(u.jsxs)("div",{className:"store-count",children:[!!lt&&Object(u.jsx)("span",{"data-testid":"tab-open-store",className:_c(Xt,rn),onClick:function(){jt(0),Pn(!0)},children:Xt?Object(u.jsxs)("span",{children:[" ","".concat(Object(Ce.e)("nearYou"))," (",lt+wt,")"]}):Object(u.jsxs)("span",{children:[lt+wt," ","".concat(Object(Ce.e)("nearYou"))]})}),!!wt&&Je.length===Ct.length&&Je.length!==Dt.length&&Object(u.jsx)("span",{"data-testid":"tab-closed-store",className:_c(Xt,rn),onClick:function(){jt(0),Pn(!0)},children:"".concat(Object(Ce.e)("nearYou")," (").concat(wt,")")}),0===lt&&0===wt&&xt&&A&&Object(u.jsx)("span",{className:"store-count-title",children:"".concat(Object(Ce.e)("nearYou")," (").concat(lt,")")}),Fc(lt,wt,Xt,Ft,{firstTab:rn,setCenterIndex:jt,handleTabChange:Pn}),(!!lt||!!wt)&&Je.length!==Dt.length&&Object(u.jsx)("div",{"data-testid":"togglemap-id",onClick:function(){jt(0),yn(),Lc(rn,Sn,An)},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:wc(Ge),alt:"map",className:"map-img"})}),Ge?Object(Ce.e)(X):B]})}),0===lt&&0===wt&&xt&&A&&Object(u.jsx)("div",{"data-testid":"show-map-div",onClick:function(){jt(0),yn(),Lc(rn,Sn,An)},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:wc(Ge),alt:"map",className:"map-img"})}),Ge?Object(Ce.e)(X):Object(Ce.e)(B)]})})]}),Ge?Object(u.jsx)("div",{className:"order-button-section",children:0===lt&&0===wt&&xt&&A&&Object(u.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:$t,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:Kn()}),Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Nn,children:Object(Ce.e)(ee)})]})})}):Object(u.jsxs)(u.Fragment,{children:[Object(x.r)(!zt,Object(x.r)(rn,0!==lt||0!==wt||!xt||A||Je.length?Gn():xn(Kn,Nn,te))),Xt&&!rn&&Object(u.jsx)("div",{className:"order-button-section",children:Hn})]}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsx)(Sc.a,{open:Bt,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e3,onClose:function(){Gt(!1)},children:Object(u.jsxs)(Ac.a,{children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:hc,alt:"success",className:"success-img"}),"Saved to your favorite store"]})})]})]}),Ge&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"".concat((null===Te||void 0===Te?void 0:Te.toUpperCase())!==re&&"takeawayDineInMap"," delivery-map"),children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Tc,{latLongValue:Pe,loadingElement:Object(u.jsx)("div",{style:{height:"100%"}}),containerElement:Object(u.jsx)("div",{style:{height:"400px"}}),mapElement:Object(u.jsx)("div",{style:{height:"100%"}}),passAddress:function(e){_e(e)},isVisible:Te.toUpperCase()===Z||Te.toUpperCase()===oe,isMobile:st,centerIndex:vt,onPositionChangeHandler:wn,setShowCard:qe,setStoreMarker:Object(x.mb)(rn,(function(e){var t=Je.findIndex((function(t){return t.location.latitude===e.lat()&&t.location.longitude===e.lng()}));t>-1&&(vt===t&&_n(),jt(t))}),(function(e){!function(e,t,n,a,i){var c=e.findIndex((function(e){return e.location.latitude===a.lat()&&e.location.longitude===a.lng()}));c>-1&&(i===c&&t(),n(c))}(tn,Rn,jt,e,vt)})),storeCardHeight:bn}),We&&it&&st?!n&&Fn(it,"Selected-Card"):null]}),We&&it&&!st?Object(x.r)(Je.length===Ct.length,rn)?!n&&function(e,t){var n=e.availableServicesPerChannel&&Object(ki.f)(e.availableServicesPerChannel),i=Object(x.tb)(n[0]).services,o=void 0===i?[]:i,r="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(vc,Object(a.a)(Object(a.a)({storeName:Object(x.wb)(e.name[0].value),storeDistance:Object(x.wb)(e.distance),orderTypes:o,addresses:Object(x.ub)(e.addresses[0].address),storeStatus:e.summary,mapText:B,isMobile:st,isMapView:!0,onStoreSelectFinish:I,onClick:function(){yn(),Sn()},storeInfo:e},d[0]),{},{centerIndex:vt,storeLength:Object(x.mb)(rn,null===Je||void 0===Je?void 0:Je.length,null===tn||void 0===tn?void 0:tn.length)}),r)})}(it,"Selected-Card"):Fn(it,"Selected-Card"):""]})})]})}));function Mc(e,t,n,a,i){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(u.jsxs)("div",{className:"enter-your-address-section",children:[Object(u.jsx)("span",{className:"search-store-text",children:Object(Ce.e)("pleaseEnterLocation")}),Object(u.jsx)("div",{"data-testid":"show-list-map",className:Object(x.mb)(t,"store-count","show-map-div"),onClick:function(){t&&a(),i()},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:wc(t),alt:"map",className:"map-img"})}),Object(x.mb)(t,Object(Ce.e)(n),Object(Ce.e)("map"))]})})]})})}function Fc(e,t,n,a,i){var c=i.firstTab,o=i.setCenterIndex,r=i.handleTabChange;return Object(u.jsx)(u.Fragment,{children:(!!e||!!t)&&n&&Object(u.jsx)("span",{"data-testid":"tab-favorite-store",className:Dc(c),onClick:function(){o(0),r(!1)},children:"".concat(Object(Ce.e)("savedkfc")," (").concat(a,")")})})}var Hc=function(e){return!0===e.includes(",")?e.replace(",",", "):e},Uc=function(e){var t,n,a=e.onMapClickHandler,i=e.startOrderFormSavedAddress,o=wi.a.SAVED_ADDRESS,r=wi.a.START_ORDER_TEXT,s=Object(N.c)((function(e){return e.profileReducer})).savedAddresses,d=null===(t=s.filter((function(e){return e.isPrimary}))[0])||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.join(" ");return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"savedAddress-store-count",children:[Object(u.jsx)("span",{className:"saved-address-count-title",children:"".concat(Object(Ce.e)(o)).concat(s.length>1?"es  ":""," (").concat(s.length,")")}),Object(u.jsx)("div",{"data-testid":"saved-map-link",onClick:function(e){return a(e,"",d)},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:Oc,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((function(e){return Object(u.jsx)("div",{className:"savedAddress-module-card",children:Object(u.jsxs)("div",{className:"inside-card",children:[Object(u.jsxs)("div",{className:"address-section",children:[Object(u.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(u.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(u.jsxs)("span",{children:[" ",Hc(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(u.jsxs)("span",{children:[" ",Hc(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(Ot.a,{className:"button redButton search-store-card-btn",onClickHandler:function(t){return function(e,t){var n,a=t.location,c={userLat:a.latitude,userLong:a.longitude},o=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.reduce((function(e,t){return e+" "+t})))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(o,c)}(0,e)},"data-testid":"savedaddress-click-test",children:Object(Ce.e)(r)})})]})})}))]})})},Bc=wi.a.MIN_SEARCH_CHARACTER_LIMIT,Gc=wi.a.SUUGESTED_ITEMS_TEXT,Yc=wi.a.ALLOWED_SUGGESTION_LIST,Kc=wi.a.ALREADY_SERACHED_LOCATIONS,Vc=wi.a.COUNTRY_CODE,Wc=wi.a.SUGGESTION_ACTIVE_COLOR,qc=wi.a.SUGGESTION_ACTIVE_OPACITY,zc=wi.a.BRAND_BLACK,Qc=(wi.a.COLOR_BLACK,wi.a.CONFIRM_BUTTON_TEXT),Jc=wi.a.LOCATION_WARNING_MESSAGE,Xc=wi.a.RETRY_TEXT,Zc=wi.a.USE_THIS_ADDRESS_TEXT,$c=wi.a.DELIVERY_UNAVAILABLE,eo=wi.a.DELIVERY_UNAVAILABLE_WITH_CTA,to=wi.a.NOTAVAILABLE,no=wi.a.CTA1_SEARCH_DIFF_ADDRESS,ao=wi.a.TAKE_AWAY,io=wi.a.CTA2_ORDER_TAKEAWAY,co=function(e,t){t()},oo=function(e){var t,n,a=e.eligibleStoreData,i=e.suggestedAddress,c=e.setNegativeScenarioAlert,o=e.getNegativeView,r=null===a||void 0===a?void 0:a.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0})),s=r.filter((function(e){var t,n,a,i,c,o,r="CLOSED"===e.summary.status.currentStatus,s=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),d=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(c=i.status)||void 0===c||null===(o=c.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN"));return r&&(s||d)})),d=Object(ki.a)("delivery",r);return Object(x.sb)(d,Object(x.sb)(!(null===(t=i[0])||void 0===t?void 0:t.description),(null===s||void 0===s?void 0:s.length)===r.length))?(Object(x.r)((null===s||void 0===s?void 0:s.length)===(null===r||void 0===r?void 0:r.length),null===r||void 0===r?void 0:r.length)?d=$c:(null===(n=i[0])||void 0===n?void 0:n.description)||(d=eo),c(d),Object(x.I)(Object(Ce.e)(yc.a.contentData.deliveryHeaderText),Object(Ce.e)(d)),o(d)):void 0},ro=function(e){var t,n=e.formContent,o=void 0===n?{}:n,r=e.userPositionHandler,s=e.singInClickhandler,d=e.eligibleStoreData,l=o.memberText,b=void 0===l?"":l,v=o.singInLink,O=void 0===v?{}:v,m=o.currentLocationText,f=void 0===m?"":m,p=o.addressBoxPlaceHolderForDelivery,h=void 0===p?"":p,g=T.S.RETAIN_ADDRESS,I=Ae.a.SCHEDULE_ORDER_DATA,S=Ae.a.DISPOSITION_METHOD,A=Object(N.c)((function(e){return e.appStateReducer.userStatus})),y=Object(x.ub)(A).loggedIn,_=Object(i.useContext)(E.a),R=_.userOrderState,w=_.userOrderStateDispatch,P=R.searchStoreData,L=void 0===P?{}:P,k=R.dispositionStateData,F=void 0===k?{}:k,H=Object(i.useState)(""),U=Object(j.a)(H,2),B=U[0],G=U[1],Y=Object(i.useState)(!1),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(!1),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(!1),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)({lat:28.7,lng:77.1}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)(!1),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useState)(!1),le=Object(j.a)(de,2),ve=le[0],je=le[1],Oe=Object(i.useState)([]),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=Object(i.useState)(""),ge=Object(j.a)(he,2),Ne=ge[0],xe=ge[1],Ee=Object(i.useRef)(null),Ie=Object(i.useState)(""),Te=Object(j.a)(Ie,2),Se=Te[0],ye=Te[1],De=Object(i.useState)(""),_e=Object(j.a)(De,2),Re=_e[0],we=_e[1],Pe=Object(i.useState)(!1),Le=Object(j.a)(Pe,2),ke=Le[0],Me=Le[1],Fe=Object(i.useState)(!1),He=Object(j.a)(Fe,2),Ue=He[0],Be=He[1],Ge=Object(i.useState)(!1),Ye=Object(j.a)(Ge,2),Ke=Ye[0],Ve=Ye[1],We=Object(i.useState)(""),qe=Object(j.a)(We,2),ze=qe[0],Qe=qe[1],Je=Object(i.useState)(!1),Xe=Object(j.a)(Je,2),Ze=Xe[0],$e=Xe[1],et=F.dispositionType,tt=void 0===et?localStorage.getItem("dispositionType"):et,nt=Object(i.useState)({}),at=Object(j.a)(nt,2),it=at[0],ct=at[1],ot=Object(N.c)((function(e){var t,n,a,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(i.useEffect)((function(){Object(ki.d)(ve,Re,yc.a)}),[ve,Re]);var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(Cc,{errorMsgToShow:Object(x.sb)(Re,e),onClearTextHandler:mt,onRetryClickHandler:dt,onMapClickHandler:st,dispositionType:tt,showMap:$})})},st=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(ki.h)($,tt),ee(!0),we(!1),t&&!B&&ut(t)},dt=function(e){Ee.current.select(),W(!1),se(!1),we(!1),je(!1)},lt=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=oo({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt}),!(B.length>0&&ve&&a||!d[0]&&a)){e.next=3;break}return e.abrupt("return");case 3:(null===(n=fe[0])||void 0===n?void 0:n.description)&&w({type:I,value:{deliveryAddress:Ne,showScheduleOrder:!0,selectedStoreInfo:Object(x.ub)(d[0])}}),se(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a){var i,c,o,s,d=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>3&&void 0!==d[3]&&d[3],$e(!1),Qe(""),Object(x.r)(null===n,null===a)&&(null===(i=fe[0])||void 0===i?void 0:i.description)&&je(!0),Me(!0),se(!0),e.next=9,Object(gc.geocodeByAddress)(t);case 9:return o=e.sent,e.next=12,Object(gc.getLatLng)(o[0]);case 12:s=e.sent,ie(s),bt(t),G(t),c||W(!0),r({userLat:s.lat,userLong:s.lng}),J(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem(g);pe([{description:t}]),ut(t,{},{})}),[]),Object(i.useEffect)((function(){var e=null===d||void 0===d?void 0:d.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n?void 0:n.catalogs[0])!==to})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)}));Ze&&ze&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ve(!1),w({type:I,value:{deliveryAddress:ze,showScheduleOrder:!0,selectedStoreInfo:t[0]}})):ze&&Ve(!0)}),[d,ze,Ze]),Object(i.useEffect)((function(){}),[ae]);Object(i.useEffect)((function(){(null===B||void 0===B?void 0:B.length)>2?W(!ve):(W(!1),je(!1),we(""));var e=Object(x.c)(B,Bc);Be(e)}),[B]),Object(i.useEffect)((function(){Q&&(G(Se),bt(Se),J(!1))}),[L]);var bt=function(e){Object(x.Pb)(e,Kc)},vt=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.b.BindLocation();case 2:Object(ki.l)(),pe([]),ka.b.coordinates&&(t=ka.b.coordinates,n=t.latitude,a=t.longitude,ka.b.addFeedback("Check coordinates ".concat(JSON.stringify(ka.b.coordinates))),ka.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),ka.b.addFeedback("Check address ".concat(ka.b.address)),r({userLat:n,userLong:a}),ye(ka.b.address),G(ka.b.address),ut(ka.b.address),J(!0),pe([{description:ka.b.address}]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(e){return t=e,Object(x.tb)(JSON.parse(localStorage.getItem(Kc))).includes(t);var t},mt=function(){G(""),W(!1),we(""),pe(""),Ve(!1)},ft=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie({lat:n.userLat,lng:n.userLong}),$e(!0),G(t),ct(n),bt(t),Qe(t),r(n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"login-section",children:[Object(u.jsx)("span",{className:"delivery-member-signin",children:!y&&uo(b,s,O)}),Object(u.jsx)("span",{children:Object(u.jsxs)(M,{onClickHandler:vt,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:jc,alt:" ",className:"location-img"}),Object(Ce.e)(f)]})})]}),Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)("div",{className:"search-delivery-address",children:Object(u.jsx)("div",{className:"input-delivery-address",children:Object(u.jsx)(Nc.a,{value:B,onChange:function(e){Me(!1),se(!1),G(e),function(e,t,n){(null===e||void 0===e?void 0:e.length)<3&&(t(""),n(!1))}(e,pe,Be),$e(!1),Qe(""),Ve(!1)},onSelect:ut,searchOptions:{componentRestrictions:{country:Vc}},shouldFetchSuggestions:!0,onError:co,children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(u.jsxs)("div",{children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:D,alt:" ",className:"google-location-img"}),Object(u.jsx)("input",Object(a.a)({"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(x.mb)(Object(x.sb)(ve,Re),"store-search-input error-border mt-2","store-search-input mt-2"))},t({placeholder:Object(Ce.e)(h),ref:Ee}))),B&&Object(u.jsx)("img",{src:xc,className:"clearTextIcon",onClick:mt}),Object(x.r)(Object(x.ab)(n),Ue)?Object(u.jsx)("div",{className:"suggestion-list",children:n.map((function(e,t){var o;if(null===e||void 0===e||null===(o=e.types)||void 0===o?void 0:o.some((function(e){return Yc.includes(e)}))){pe(n);var r=Object(x.mb)(e.active,{backgroundColor:Wc,opacity:qc},{backgroundColor:zc});return Object(u.jsxs)(c.a.Fragment,{children:[0===t&&Object(u.jsx)("div",{className:"suggestion-items suggest-text",children:Object(Ce.e)(Gc)}),Object(u.jsx)("div",{style:r,children:Object(u.jsx)("div",Object(a.a)(Object(a.a)({},i(e,{className:"suggestion-items"})),{},{children:Object(u.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(u.jsx)("div",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:Object(x.mb)(jt(e.description),pc,fc),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(u.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))}):null]})}})})}),Object(u.jsx)("form",{children:Object(u.jsx)(Ot.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!V,onClick:function(e){var t;if(e.preventDefault(),Ze)return Ke&&W(!1),void ft(B,it);if(!(ke&&oo({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt})||!(null===(t=fe[0])||void 0===t?void 0:t.description)&&oo({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt}))){if(we(""),!re){var n,a,i=null===(n=fe[0])||void 0===n?void 0:n.description;return xe(i),(null===(a=fe[0])||void 0===a?void 0:a.description)&&je(!0),W(!1),void ut(i,null===fe||void 0===fe?void 0:fe.placeId,fe,!0)}d[0]&&(se(!1),w({type:I,value:{deliveryAddress:B,showScheduleOrder:!0,selectedStoreInfo:d[0]}}))}},children:Object(Ce.e)(Qc)})})]})]}),Ke&&!ot&&Object(u.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-address",children:Object(Ce.e)($c)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return Ve(!1)},children:Object(Ce.e)(no)}),Object(u.jsx)(Ot.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){e.preventDefault(),w({type:S,value:{dispositionType:ao}})},children:Object(Ce.e)(io)})]})]}),!$&&Object(u.jsx)("div",{className:"my-3 store-form-separation"}),$||y||ve||Re?null:lo(st),!ve&&y&&!Re&&!$&&!Ke&&Object(u.jsx)(Uc,{userPositionHandler:r,startOrderFormSavedAddress:ft,allowOrderNow:Ke,onMapClickHandler:st})]}),B.length>0&&Object(x.r)(ve,!Re)?Object(u.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-message",children:Object(Ce.e)(Jc)}),Object(u.jsx)("div",{className:"location-error-address",children:Object(x.sb)(null===(t=fe[0])||void 0===t?void 0:t.description,B)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:dt,children:Object(Ce.e)(Xc)}),Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:lt,children:Object(Ce.e)(Zc)})]})]}):Re&&rt(),$?so(ve,ae,(function(e){G(e)}),Re):null]})};function so(e,t,n,a){return Object(u.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(x.mb)(e,"pointer-disabled","")),children:Object(u.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(u.jsx)(Tc,{"data-testid":"map-comp",latLongValue:t,passAddress:n,locationAlertProp:e,negativeScenarioAlertProp:a,locationAlert:e})})})}function lo(e){return Object(u.jsx)("div",{className:"map-button-form",children:Object(u.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(u.jsx)("span",{className:"delivery-map-text",children:Object(Ce.e)("pleaseEnterLocation")}),Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:Oc,alt:" ",className:"map-img"})}),Object(Ce.e)("map")]})]})})}function uo(e,t,n){return Object(u.jsxs)("div",{"data-id":T.o.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(Ce.e)(e),Object(u.jsx)("span",{onClick:t,children:Object(u.jsx)(M,{targetType:n.targetType,href:n.linkUrl,className:"delivery-signin-link",children:Object(Ce.e)(n.linkText)})})]})}var bo,vo,jo=function(e){var t=e.handleClose,n=e.handleGoBack,a=e.orderModeTypeItem,i=e.headerText,o=e.modalTitleId,r=void 0===o?"":o;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:n,modalTitle:i,autoFocus:!0,children:a})})},Oo=n(26),mo=[],fo="",po=function(e,t){var n,i;i=e&&e.rows&&e.rows[0].elements.map((function(e){return e}));var c=e&&e.originAddresses&&e.originAddresses[0]||"";n=mo.map((function(e,t){return Object(a.a)(Object(a.a)({},e),i[t])})),vo(n,c)},ho=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(Oo.a)(e).slice(0,24),destinations:Object(Oo.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},go),bo=n},go=function(e,t){if(t===wi.a.OK_STATUS){var n,a=e&&e.rows&&e.rows.map((function(e){return e}));n=null===a||void 0===a?void 0:a.map((function(e){return e.elements[0]})),fo=e&&e.originAddresses||[],bo({allStoreDistance:n,originAddressText:fo})}},No=n(136),xo=n(276),Eo=function(e){var t=e.contentData,n=void 0===t?{}:t,o=e.onStoreSelectFinish,r=Ae.a.SEARCH_ORDER_DATA,s=Ae.a.DISPOSITION_DATA,d=Ae.a.ANALYTICS_LOCALISATION_SIGNIN,l=Object(N.b)(),b=wi.a.COUNTRY_CODE,v=wi.a.STORE_CARD_LIMIT,O=wi.a.TYPE_TAKE_WAY,m=wi.a.PICK_UP,f=wi.a.TENANT_ID,p=wi.a.TENATNT_SESSION_ID,h=wi.a.TYPE_DELIVERY,g=Object(i.useContext)(E.a),I=g.userOrderState,T=g.userOrderStateDispatch,C=I.dispositionStateData,S=I.searchStoreData,A=Object(x.wb)(C).dispositionType,y=void 0===A?localStorage.getItem("dispositionType"):A,D=S.currentMarket,_=void 0===D?b:D,R=S.storeCardLimit,w=void 0===R?v:R,P=S.storeStatusUrl,L=void 0===P?"".concat(Object(Lt.a)(Ht.O),"v1/stores/{storeid}/{channel}/{service}/status"):P,k=S.tenantID,M=void 0===k?f:k,F=S.tenantSessionID,H=void 0===F?p:F,U=n.searchStoreHeaderText,B=void 0===U?"":U,G=n.deliveryHeaderText,Y=void 0===G?"":G,K=n.searchStoreModalContent,V=void 0===K?{}:K,W=V.formContent,q=void 0===W?{}:W,z=V.locationsContent.storeData,Q=void 0===z?[]:z,J=c.a.useState([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=c.a.useState({}),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=c.a.useState([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=c.a.useState([]),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(N.c)((function(e){return Object(x.ub)(e.tenantReducer)})),ve=be.storeSearch,je=void 0===ve?{}:ve,Oe=be.tenantId,me=Object(N.c)((function(e){return Object(x.ub)(e.storesReducer)})),fe=me.allStores,pe=void 0===fe?[]:fe,he=me.storesWithStatus,ge=void 0===he?[]:he,Ne=me.isStoreStatusLoading,xe=void 0!==Ne&&Ne,Ee=je.maxDriveTimeMins,Ie=je.distanceMetrics,Te=je.maxDeliveryDistanceMtrs,Se=je.maxPickupDistanceMtrs,ye=je.geohashprecision,De=je.boundingBoxSizeMeters,_e=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),T({type:s,value:{showDisposition:!1}}),T({type:r,value:{showSearchStore:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&_e(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var Re=function(e){e.stopPropagation(),e.preventDefault(),T({type:s,value:{showDisposition:!0}}),T({type:r,value:{showSearchStore:!1}})},we=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem(d,JSON.stringify(!0)),Object(ki.i)(),setTimeout((function(){on()}),500)},Pe=Object(N.c)((function(e){return e.profileReducer.favouriteStores}));Object(i.useEffect)((function(){Le({userLat:ne.userLat,userLong:ne.userLong})}),[Pe.length]),Object(i.useEffect)((function(){pe.length>0&&Ue(pe)}),[pe]),Object(i.useEffect)((function(){ge.length>0&&Ve(ge)}),[ge]),Object(i.useEffect)((function(){(null===y||void 0===y?void 0:y.toUpperCase())===h&&Be(le)}),[le]);var Le=function(e){!function(e,t,n,a){if(e,t,vo=a,(mo=n).length>0){var i=mo.map((function(e){var t=e&&e.storeBasic.location;return{lat:t.latitude,lng:t.longitude}})),c=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[].concat(c).slice(0,24),destinations:Object(Oo.a)(i).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},po)}else vo([],"")}(e.userLat,e.userLong,Pe,ke)},ke=function(e,t){var n=Object(x.mb)((null===y||void 0===y?void 0:y.toUpperCase())===O,m,y),a=L.replace("{channel}",ka.b.channel).replace("{service}",n).replace(" ","-"),i=Object(Pt.a)();Object(ki.g)(e,a.toLowerCase(),M,H||Object(Pt.a)(),i,Me)},Me=function(e){var t=e.map((function(e){var t=e.storeBasic,n=t.additionalProperties,i=void 0===n?[]:n,c=t.address,o=t.amenities,r=t.dname,s=t.id,d=t.location;return Object(a.a)(Object(a.a)({},e),{},{id:s,location:d,name:r,amenities:o,addresses:c,additionalAttributes:i,storeBasic:{}})}));re(t)},Fe=function(e){l(Object(xo.b)()),ae({userLat:e.userLat,userLong:e.userLong}),Z&&$([]),He(e.userLat,e.userLong),setTimeout((function(){l(Object(xo.a)())}),2e3)},He=function(e,t){var n={lat:e,lon:t,distanceFromCurrentLoc:De/1e3,geohashprecision:ye},a=No.a.calculateGH(n);l(Object(ii.k)(null===a||void 0===a?void 0:a.length))},Ue=function(e){var t=Object(x.H)(y.toUpperCase()),n=e.filter((function(e){var t,n;return Object(x.Lb)(e.id)&&Object(x.Lb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(x.Lb)(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)})),a={stores:n,disposition:t,distanceMetrics:Ie,driveTime:Ee,distanceInMtrs:Object(x.mb)(y.toUpperCase()===h,Te,Se),noOfStores:Object(x.mb)(y.toUpperCase()===h,2,n.length)},i=No.a.checkAndProceed(a);ue(i),y.toUpperCase()===h?Be(i):Ke(i,t)},Be=function(e){var t=[];null===e||void 0===e||e.forEach((function(e){var n,a;t.push({lat:null===(n=e.location)||void 0===n?void 0:n.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),ho(t,[{lat:ne.userLat,lng:ne.userLong}],Ge)},Ge=function(e){var t=e.allStoreDistance,n=(e.originAddressText,Object(x.H)(y.toUpperCase())),a={stores:Ye(t,le),numberOfStores:2,disposition:n,distanceMetrics:Ie,driveTime:Ee,distanceInMtrs:Object(x.mb)((null===y||void 0===y?void 0:y.toUpperCase())===h,Te,Se)},i=No.a.getSortedNearbyStores(a);(null===i||void 0===i?void 0:i.length)>0&&Ke(i,n)},Ye=function(e,t){return null===t||void 0===t?void 0:t.map((function(t,n){return Object(a.a)(Object(a.a)({},t),{},{distance:e[n]})}))},Ke=function(e,t){var n={data:null===e||void 0===e?void 0:e.map((function(e){return{storeId:e.id,channel:ka.b.channel,service:t}})),store:e,tenantId:Oe,setStatusFlag:!1,isFavoritePage:!1};l(Object(ii.c)(n))},Ve=function(e){var t=e.filter((function(e){var t,n,a,i,c,o,r,s,d,l,u,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(o=c.menu)||void 0===o||null===(r=o.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(d=s.timings)||void 0===d||null===(l=d.operatingHours)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(b=u.timings)||void 0===b?void 0:b.asap)}));$(t)},We=(null===y||void 0===y?void 0:y.toUpperCase())===h?Object(u.jsx)(ro,{singInClickhandler:we,formContent:q,storeData:Q,onStoreSelectFinish:o,eligibleStoreData:Z,storeCardLimit:w,userPositionHandler:Fe,currentMarket:_}):Object(u.jsx)(kc,{singInClickhandler:we,formContent:q,storeData:Q,eligibleStoreData:Z,noStoresList:xe,storeCardLimit:w,userPositionHandler:Fe,currentMarket:_,onStoreSelectFinish:o,handleGoBack:Re,favoriteStoreData:oe,favoriteStoreHandler:Le});return Object(u.jsx)(jo,{handleClose:_e,orderModeTypeItem:We,headerText:Object(x.mb)((null===y||void 0===y?void 0:y.toUpperCase())===h,Object(Ce.e)(Y),Object(Ce.e)(B)),handleGoBack:Re,modalTitleId:"search-store"})};Eo.defaultProps=yc.a;var Io=Eo,To=n.p+"static/media/clock.264bac4c.svg",Co={contentData:{contentText:"HOW WOULD YOU LIKE TO RECEIVE YOUR ORDER ?",infoObject:{type:"info",infoText:"Manu availability and pricing may vary between order types."},desktopImages:{alt:"",src:""},orderTypes:[{buttonText:"Delivery",selectDefault:!1,type:"delivery",showOption:!0},{buttonText:"Take Away",selectDefault:!1,type:"takeAway",showOption:!0},{buttonText:"Dine In",selectDefault:!1,type:"dineIn",showOption:!0}],storeSection:{storeName:"Takeaway from: KFC Fort Street",orderTimeStart:"4:00",orderTimeEnd:"4:30pm",buttonText:"Change"}}},So="CLOSED",Ao={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"},yo=function(e,t,n){var a,i,c,o,r,s=(null===t||void 0===t||null===(a=t.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)||So,d=Object(x.ub)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),l=d.futureDates,u=d.scheduled,b=d.asap,v=Object(x.ub)(u).unavailibilities,j=Object(x.ub)((null===u||void 0===u||null===(o=u.periods)||void 0===o?void 0:o.length)&&(null===u||void 0===u?void 0:u.periods[0])),O=j.interval,m=void 0===O?0:O,f=j.startEndTime,p=void 0===f?{}:f,h=Object(x.ub)(p),g=h.from,N=h.to,E=nc(g,N,m,null===b||void 0===b?void 0:b.isAvailable,1===(null===l||void 0===l?void 0:l.length)&&"INDIA"===(null===n||void 0===n||null===(r=n.country)||void 0===r?void 0:r.toUpperCase()),v);if(s===So&&!E.length)return Object(Ce.e)("outOfService");var I=e.time,T=e.interval,C="object"==typeof e.date?e.date:new Date(e.date),S=Object(ye.q)(Object(ye.e)(C,"YYYY-MM-DD")+" "+I,"YYYY-MM-DD hh:mm A"),A=Object(ye.a)(S,T,"minutes"),y=Object(ye.f)(A,"LT");return"ASAP"===I?"".concat(I):"".concat(I," - ").concat(y)},Do=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"orderType",dispositionSelected:t}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_o=function(e){var t,n=e.contentData,a=void 0===n?{}:n,r=e.clickHandler,s=void 0===r?null:r,d=e.dispositionChange,l=e.activeDisposition,b=e.selectedInfo,v=void 0===b?{}:b,O=e.showBlackStripeContent,m=void 0===O||O,f=e.headerTrackOrder,p=a.headline,h=void 0===p?"":p,g=a.subHeadline,E=void 0===g?null:g,I=a.supportedDispositionsData,T=void 0===I?[]:I,S=a.src,A=void 0===S?"":S,y=a.alt,_=a.ariaLabel,R=void 0===_?"":_,w=Object(N.c)((function(e){return e.tenantReducer})),P=Object(o.g)(),L=Co.contentData.storeSection,k=Ao.ORDER_TYPE_STORE_INFO_FROM,M=Ao.ORDER_TYPE_STORE_INFO_TO,F=Ao.ORDER_TYPE_STORE_INFO_AT,H=Ao.HOMEPATHSELECT,U=Ao.HOMEPATH,B=L.buttonText,G=Object(x.Cb)(v.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):v.dispositionNew,Y=G?G.type:"",K=G?G.store:{},V=G?G.date:"",W=G?G.time:"",q=G?G.interval:0,z=Object(x.ub)(null===G||void 0===G?void 0:G.store),Q={date:V,time:W,interval:q},J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee="Delivery"===Y?M:"Pickup"===Y?k:F;return Object(i.useEffect)((function(){(null===P||void 0===P?void 0:P.pathname)===U||(null===P||void 0===P?void 0:P.pathname)===H?$(!0):$(!1)}),[P,U,H]),Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(K)&&m&&Object(u.jsx)("div",{className:"headerBottom content-ribbon","data-testid":"select-start-order-items",children:Object(u.jsxs)("div",{className:"headBottomParent content-parent",children:[Object(u.jsxs)("div",{className:"headBottomTxt content-text",children:[Object(u.jsxs)("div",{className:"store-location",children:[Object(u.jsx)("div",{children:Object(u.jsx)(C.a,{srcFile:D,alt:y||"location-icon",className:"content-location-img"})}),Object(u.jsx)("div",{className:"content-stroe-wrap",children:Object(u.jsxs)("span",{className:"content-store address",children:[Object(x.G)(Y)," ",ee,":"," ","delivery"===Y.toLowerCase()?null===G||void 0===G?void 0:G.deliveryAddress:null===K||void 0===K||null===(t=K.summary)||void 0===t?void 0:t.name]})})]}),Object(u.jsxs)("div",{className:"content-time",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{srcFile:To,alt:y||"location-icon",className:"content-clock-img"})}),Object(u.jsxs)("span",{className:"content-store",children:[" ",Q&&yo(Q,z,w)]})]})]}),Object(u.jsx)(Ot.a,{className:"button transparent-btn white-border change-store-btn","aria-label":R||B,onClickHandler:function(e){return s(e,K)},id:"changeOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:B})})]})}),f&&f(),Z?Object(u.jsxs)("div",{className:"select-content-disposition",children:[Object(u.jsx)("div",{className:"stripes",children:Object(u.jsx)(C.a,{srcFile:A,alt:y||""})}),Object(u.jsx)("div",{className:"disposition-headline",children:h}),Object(u.jsx)("div",{role:"alert",className:"disposition-info-text",children:Object(u.jsx)("span",{children:E})}),Object(u.jsx)("div",{className:"disposition-btns mb-2",children:T.map((function(e){var t;return Object(u.jsx)(Ot.a,{className:l===(null===e||void 0===e||null===(t=e.dispositionType)||void 0===t?void 0:t.toUpperCase())?"button grayButton active-disposition":"button grayButton",onClickHandler:function(t){var n;d(t,null===e||void 0===e||null===(n=e.dispositionType)||void 0===n?void 0:n.toUpperCase())},"aria-label":e.buttonText,children:e.buttonText},e.buttonText)}))})]}):null]})},Ro=n(372),wo=n.n(Ro),Po=(n(616),n.p+"static/media/dropdownArrowBlack.38def97e.svg"),Lo=n.p+"static/media/Calendar.a9e4b392.svg",ko=function(e,t,n){return-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(n))},Mo=function(e){return"ASAP"!==e&&"-"!==e?e:Object(ye.r)(Object(ye.g)(),wi.a.HHMM,wi.a.LT)},Fo=function(e,t){var n={};return"-"!==e&&"ASAP"!==e?n={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(n={isForNow:!0,futureDateTime:0}),n},Ho=function(e,t,n){var a=JSON.parse(localStorage.getItem("dispositionNew"));return e&&a?Object(x.G)(a.type):t?T.B.PICKUP:Object(x.G)(n)},Uo=Object(o.i)((function(e){var t,n,o,r,s,d,l,b,v,O,m,f=Object(i.useRef)(null),p=Object(i.useRef)(null),h=e.formContent,g=e.location,I=e.onStoreSelectFinish,S=h.orderTypeTitle,A=void 0===S?"":S,y=h.dateTitle,D=void 0===y?"":y,_=h.timeTitle,R=void 0===_?"":_,w=h.editTitle,P=void 0===w?"":w,L=h.restaurantTitle,k=void 0===L?"":L,F=h.yourLocationTitle,H=void 0===F?"":F,U=h.scheduleDateTitle,B=void 0===U?"":U,G=h.buttonText,Y=void 0===G?"":G,K=Ae.a.SEARCH_ORDER_DATA,V=Ae.a.SCHEDULE_ORDER_DATA,W=Ae.a.DISPOSITION_DATA,q=Ae.a.SCHEDULE_ORDER_TIME_DATA,z=Ae.a.CLOSED,Q=Ae.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,J=Ae.a.MENU_URL,X=Ae.a.PDP_URL,Z=Ae.a.SELECTED_TILE_DATA,$=Ae.a.DISPOSITION_METHOD,ee=Ae.a.SET_DISPOSITION,te=Ae.a.USER_LOCALIZED,ne=Ae.a.SHOW_CLEAR_CART_ALERT,ae=Ae.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,ie=Ae.a.clearCartChangeFlag,ce=Ae.a.orderTypeAlertTitle,oe=Ae.a.searchStoreAlertTitle,re=Ae.a.CURRENT_STORE_INFO,se=Ae.a.SET_FORCERELOAD,de=en.contentData,le=en.timingsSampleData,ve=Object(N.c)((function(e){return e.profileReducer})),je=Object(i.useContext)(E.a),Oe=je.userOrderState,me=je.userOrderStateDispatch,fe=Oe.dispositionStateData,pe=void 0===fe?{}:fe,he=Oe.scheduleOrderData,ge=void 0===he?{}:he,Ne=ge.changeFlow,xe=void 0!==Ne&&Ne,Ee=ge.isAddressFlow,Ie=void 0!==Ee&&Ee,Te=ge&&Object(x.Db)(ge.storeInfo)?ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),Se=pe.dispositionType,De=void 0===Se?"":Se,_e=De||localStorage.getItem("dispositionType"),Re=(ge&&ge.storeInfo&&ge.storeInfo.name&&ge.storeInfo.name[0]||{value:""}).value,we=void 0===Re?"":Re,Pe=(ge&&(null===(t=ge.selectedDateTimeInfo)||void 0===t||null===(n=t.date)||void 0===n?void 0:n.length)>0?ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""}).date,Le=void 0===Pe?"":Pe,ke=ge&&(null===(o=ge.selectContentData)||void 0===o||null===(r=o.savedTime)||void 0===r?void 0:r.length)>0?null===(s=ge.selectContentData)||void 0===s?void 0:s.savedTime:localStorage.getItem("savedTimeOrder"),Me=(null===(d=ge.storeInfo)||void 0===d||null===(l=d.summary)||void 0===l?void 0:l.timings)||le,Fe=Me.futureDates,He=Me.scheduled,Ue=Me.asap,Be=Object(x.Cb)(Oe.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Oe.dispositionNew,Ge=He.unavailibilities,Ye=He&&He.periods.length&&He.periods[0],Ke=Ye.interval,Ve=void 0===Ke?0:Ke,We=Ye.startEndTime,qe=void 0===We?{}:We,ze=qe.from,Qe=qe.to,Je=Object(N.c)((function(e){return e.appStateReducer.userStatus})),Xe=Object(N.b)(),Ze=Object(N.c)((function(e){return e.tenantReducer})),$e=Object(N.c)((function(e){return e.storesReducer})),et=Object(N.c)((function(e){return e.cartReducer})).cartData,tt=$e.storesAvilableTimeSlots,nt=$e.storesTimeSlots,at=Object(i.useState)(!1),it=Object(j.a)(at,2),ct=it[0],ot=it[1],rt=de.errorMessageInactive,st=void 0===rt?"":rt,dt=de.errorMessageClosed,lt=void 0===dt?"":dt,ut=de.SWITCH_TO_TAKEAWAY,bt=de.DELIVERY_NA_WARNING_MESSAGE,vt=de.DELIVERY_PICKUP_NA_MESSAGE,jt=de.scheduleOrderHeaderText,Ot=de.changeScheduleOrderHeaderText,mt=Object(i.useState)({error:!1,errormessage:""}),ft=Object(j.a)(mt,2),pt=ft[0],ht=ft[1],gt=Object(i.useState)({from:ze,to:Qe,interval:Ve}),Nt=Object(j.a)(gt,2),xt=Nt[0],Et=Nt[1],It=function(){var e;return xe?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===wi.a.TYPE_DELIVERY:!Ie&&(null===_e||void 0===_e?void 0:_e.toUpperCase())===wi.a.TYPE_DELIVERY},Tt=new i.useState(He&&He.date?new Date(He.date.toString()):new Date),St=Object(j.a)(Tt,2),At=St[0],yt=St[1],Dt=new i.useState(Ue&&Ue.isAvailable?"ASAP":Object(ye.r)(null===qe||void 0===qe?void 0:qe.from,"hh:mm","LT")),_t=Object(j.a)(Dt,2),wt=_t[0],Pt=_t[1],Lt=Object(i.useState)([]),kt=Object(j.a)(Lt,2),Mt=kt[0],Ft=kt[1],Ht=Object(i.useState)(!1),Ut=Object(j.a)(Ht,2),Bt=Ut[0],Gt=Ut[1],Yt=Object(i.useState)(!1),Kt=Object(j.a)(Yt,2),Vt=Kt[0],Wt=Kt[1],qt=Object(i.useState)(Object(x.Ib)(window.innerWidth)),zt=Object(j.a)(qt,2),Qt=zt[0],Jt=zt[1],Xt=function(){Jt(Object(x.Ib)(window.innerWidth))};Object(i.useEffect)((function(){window.addEventListener("resize",Xt)}),[Qt]),Object(i.useEffect)((function(){if(1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country)){var e={storeid:ge&&ge.storeInfo&&ge.storeInfo.id,channel:ka.b.channel,service:Object(x.H)(mn()).toString().toLowerCase(),date:""};Xe(Object(ii.b)({data:e,tenantId:Ze.tenantId}))}var t=nc(ze,Qe,Ve,Ue&&Ue.isAvailable,1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);return Ft(t),function(){Xe(Object(ii.a)())}}),[]);var Zt=function(e){var t;if("INDIA"!==(null===Ze||void 0===Ze?void 0:Ze.country)){var n=Object(ye.e)(e,"YYYY-MM-DD");if(He.date===n){var i=nc(ze,Qe,Ve,Ue&&Ue.isAvailable,1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);return Ft(i),Pt(i[0].timestr),Et({from:ze,to:Qe,interval:Ve}),yt(e),ht(Object(a.a)(Object(a.a)({},pt),{},{error:!1,errormessage:""})),Gt(!1),void Wt(!1)}var c={storeid:ge&&ge.storeInfo&&ge.storeInfo.id,channel:ka.b.channel,service:Object(x.H)(mn()).toString().toLowerCase(),date:n};if(Xe(Object(ii.b)({data:c,tenantId:Ze.tenantId})),yt(e),(null===tt||void 0===tt||null===(t=tt.periods)||void 0===t?void 0:t.length)>0){var o=tt.periods[0],r=o.startEndTime,s=o.interval,d=r.from,l=r.to,u=nc(d,l,s,Ue&&Ue.isAvailable,1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);Et({from:d,to:l,interval:s}),Ft(u)}ht(Object(a.a)(Object(a.a)({},pt),{},{error:!1,errormessage:""}))}},tn=function(e){var t=new Date,n=new Date(e.split("T")[0]);return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()},nn=function(e){var t;Pt("ASAP"===e?"ASAP":(null===(t=e)||void 0===t?void 0:t.timestr)?null===t||void 0===t?void 0:t.timestr:t);var n,i="ASAP"===(n=(null===e||void 0===e?void 0:e.selectedDay)?e:{timestr:e,selectedDay:tn(Le)?"Today":"Tomorrow"})||"Today"===(null===n||void 0===n?void 0:n.selectedDay)?new Date:new Date((new Date).getTime()+864e5);yt(i),Gt(!1),Wt(!1),ht(Object(a.a)(Object(a.a)({},pt),{},{error:!1,errormessage:""}))};Object(i.useEffect)((function(){var e=ke;Le&&Zt(new Date(Le)),function(e,t,n,a,i,c){if(e&&t){var o=Object(ye.r)(t,"h:mm A","HH:mm");new Date(a).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)<(new Date).setHours(Number(null===n||void 0===n?void 0:n.split(":")[0]),Number(null===n||void 0===n?void 0:n.split(":")[1]),0)?c(i):c(t)}}(xe,e,ze,Le,ke,nn),function(e,t,n,a,i){if(1!==e.length){var c,o={storeid:null===t||void 0===t||null===(c=t.storeInfo)||void 0===c?void 0:c.id,channel:ka.b.channel,service:Object(x.H)(n()).toString().toLowerCase(),date:""};a(Object(ii.b)({data:o,tenantId:null===i||void 0===i?void 0:i.tenantId}))}}(Fe,ge,mn,Xe,Ze)}),[]),Object(i.useEffect)((function(){var e=Object(x.mb)(xe,Object(Ce.e)(Ot),Object(Ce.e)(jt));if(Object(x.Db)(nt)&&ct)if(nt&&nt.status&&nt.status.currentStatus===z)ht(Object(a.a)(Object(a.a)({},pt),{},{error:!0,errormessage:Object(Ce.e)(lt)})),Object(x.I)(e,Object(Ce.e)(lt));else{var t=new Date;if(new Date(At).setHours(0,0,0,0)===t.setHours(0,0,0,0)){var n=Object(ye.g)().add(Ue.promiseTime,"minutes").format("LT");Object(ye.b)(n,wt,"h:mm A")?(ht(Object(a.a)(Object(a.a)({},pt),{},{error:!0,errormessage:Object(Ce.e)(st)})),Object(x.I)(e,Object(Ce.e)(st))):ko(g,J,X)?an():cn()}else ko(g,J,X)?an():cn()}}),[nt,ve]);var an=function(){me({type:Z,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(Ze)),localStorage.setItem("selectedTile",JSON.stringify({})),cn(),setTimeout((function(){e.history.push({pathname:"".concat(J)})}),500)},cn=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,i,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me({type:V,value:{showScheduleOrder:!1,selectedStoreInfo:ge&&ge.storeInfo,changeFlow:!0}}),me({type:$,value:{dispositionType:_e}}),localStorage.setItem("dispositionType",mn()),localStorage.setItem("storeInfo",ge&&ge.storeInfo?JSON.stringify(ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",ge&&ge.storeInfo?JSON.stringify(ge.storeInfo):JSON.stringify({})),me({type:re,value:Object(x.ub)(null===ge||void 0===ge?void 0:ge.storeInfo)}),me({type:K,value:{showSearchStore:!1}}),t="",n="","ASAP"===wt||"-"===wt?(t="ASAP",n="ASAP"):(t=wt,n=wt),me({type:se,value:{forceReload:!0}}),i={time:t,interval:xt.interval,date:At,selectedTime:wt},null!==Be&&Be.type===mn()&&Be.store.id===Te.id&&Be.deliveryAddress===ge.deliveryAddress){e.next=17;break}return e.next=14,Object(x.g)(Te,Object(x.H)(_e),ve.customerId,i,null===ge||void 0===ge?void 0:ge.deliveryAddress);case 14:c=e.sent,Xe(Object(Ct.j)("")),Xe(Object(Ct.e)({data:c,tenantId:Ze.tenantId}));case 17:Xe(Object(Ha.a)(Object(a.a)(Object(a.a)({},Je),{},{localized:!0}))),me({type:ee,value:{oldvalue:Be,newValue:{type:mn(),store:Te,date:i.date,time:i.time,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:null===ge||void 0===ge?void 0:ge.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(Be)),localStorage.setItem("dispositionNew",JSON.stringify({type:mn(),store:Te,date:i.date,time:i.time,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:null===ge||void 0===ge?void 0:ge.deliveryAddress})),Object(x.dc)(),me({type:q,value:{selectedDateTime:i}}),me({type:Q,value:{selectContentTime:n}}),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder",n);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(tt||{}).length){var t,n,a,i,c=Object(x.sb)(null===(t=tt[0])||void 0===t?void 0:t.periods[0],e),o=c.startEndTime,r=c.interval,s=Object(x.sb)(null===(n=tt[1])||void 0===n?void 0:n.periods[0],e).startEndTime,d=o.from,l=s.to,u=nc(d,l,r,Ue&&Ue.isAvailable,1===Fe.length&&new Date(null===(a=tt[0])||void 0===a?void 0:a.date).setHours(0,0,0,0)<new Date(null===Fe||void 0===Fe?void 0:Fe[0]).setHours(0,0,0,0)&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);if(Et({from:d,to:l,interval:r}),Ft(u),Bo(u,ke,nn),!tt.find((function(e){return e.date===Le.split("T")[0]})))yt(new Date(null===(i=tt[0])||void 0===i?void 0:i.date))}else if(Object.keys(tt||{}).length){var b,v,j,O=Object(x.sb)(null===(b=tt[0])||void 0===b?void 0:b.periods[0],e),m=O.startEndTime,f=O.interval,p=m.from,h=m.to,g=nc(p,h,f,Ue&&Ue.isAvailable,"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country)&&1===Fe.length&&new Date(null===(v=tt[0])||void 0===v?void 0:v.date).setHours(0,0,0,0)<new Date(null===Fe||void 0===Fe?void 0:Fe[0]).setHours(0,0,0,0),Ge);if(Et({from:p,to:h,interval:f}),Ft(g),Bo(g,ke,nn),!tt.find((function(e){return e.date===Le.split("T")[0]})))yt(new Date(null===(j=tt[0])||void 0===j?void 0:j.date))}}),[JSON.stringify(tt)]);var on=function(e){var t,n;(null===f||void 0===f||null===(t=f.current)||void 0===t?void 0:t.contains(e.target))||(null===p||void 0===p||null===(n=p.current)||void 0===n?void 0:n.contains(e.target))||(Gt(!1),Wt(!1))};Object(i.useEffect)((function(){return document.addEventListener("mousedown",on),function(){document.removeEventListener("mousedown",on)}}),[]);var rn=function(){me({type:K,value:{showSearchStore:!0}}),me({type:V,value:{showDisposition:!1}}),me({type:$,value:{dispositionType:"Pickup"}})},sn=null===ge||void 0===ge||null===(b=ge.storeInfo)||void 0===b||null===(v=b.availableServicesPerChannel)||void 0===v||null===(O=v.find((function(e){return"web"===e.channel})))||void 0===O?void 0:O.services,dn=null===sn||void 0===sn?void 0:sn.includes("delivery"),ln=(null===sn||void 0===sn||sn.includes("pickup"),Object(x.r)(It(),!dn)),un=function(){var e=Object(Ce.e)(vt),t=!1;return dn&&(e=Object(Ce.e)(bt),t=!0),{showTakeWayButton:t,message:e}},bn=un().message;Object(i.useEffect)((function(){!function(e,t){var n=e?Object(Ce.e)(On):Object(Ce.e)(jn);t&&Object(x.I)(n,t)}(xe,bn)}),[bn]);var vn=function(){var e=un(),t=e.message,n=e.showTakeWayButton;return Object(u.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(n?"":"alert-without-action-button"),children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-message",children:t}),Object(u.jsx)("div",{className:"location-error-button-section",children:n&&Object(u.jsx)(Za.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:rn,children:Object(Ce.e)(ut)})})]})},mn=function(){var e=JSON.parse(localStorage.getItem("dispositionNew"));return xe&&e?e.type:Ie?"Pickup":_e},fn=xe?null===(m=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===m?void 0:m.deliveryAddress:ge.deliveryAddress;return Object(u.jsxs)("div",{className:"scheduleOrder-form",children:[Object(u.jsx)("h3",{className:"order-type",children:Object(Ce.e)(A)}),Object(u.jsxs)("div",{className:"ordertype-input-div",children:[Object(u.jsx)(Rt,{value:Ho(xe,Ie,_e),className:"w-100"}),Object(u.jsx)("div",{className:"edit-input",children:Object(u.jsx)(M,{"aria-label":"Edit order type",onClickHandler:function(){var e;if(et&&(null===et||void 0===et||null===(e=et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ie,onConfirm:ce};Object(x.Rb)(me,t,ne,ae)}else me({type:W,value:{showDisposition:!0}});me({type:V,value:{showScheduleOrder:!1}}),me({type:K,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(Ce.e)(P)})})]}),pt&&pt.error&&Object(u.jsxs)("div",{className:"error-container",children:[Object(u.jsx)("span",{className:"error-img"}),pt.errormessage]}),Qt&&ln&&Object(u.jsx)(vn,{}),Object(u.jsx)("h3",{className:"order-type",children:It()?Object(Ce.e)(H):Object(Ce.e)(k)}),Object(u.jsxs)("div",{className:"ordertype-input-div",children:[Object(u.jsx)(Rt,{value:It()?fn:we||"",className:"w-100"}),Object(u.jsx)("div",{className:"edit-input",children:It()?Object(u.jsx)(M,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if(me({type:$,value:{dispositionType:xe?JSON.parse(localStorage.getItem("dispositionNew")).type:_e}}),et&&(null===et||void 0===et||null===(e=et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ie,onConfirm:oe};Object(x.Rb)(me,t,ne,ae)}else me({type:K,value:{showSearchStore:!0}});me({type:V,value:{showScheduleOrder:!1}})},"data-testid":"edit-location-test",children:Object(Ce.e)(P)}):Object(u.jsx)(M,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if((null===et||void 0===et||null===(e=et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ie,onConfirm:oe};Object(x.Rb)(me,t,ne,ae)}else{var n=JSON.parse(localStorage.getItem("seachedLocations"));if(Ie)me({type:K,value:{showSearchStore:!0,searchedPlaceNonLocalized:ge.storeInfo.name[0].value}});else if(n){var a=n[n.length-1];me({type:K,value:{showSearchStore:!0,searchedPlaceNonLocalized:a}})}}me({type:V,value:{showScheduleOrder:!1,changeFlow:Boolean(xe)}}),me({type:$,value:{dispositionType:mn()}})},"data-testid":"edit-store-test",children:Object(Ce.e)(P)})})]}),!Qt&&ln&&Object(u.jsx)(vn,{}),Object(u.jsx)("h3",{className:"order-type",children:Object(Ce.e)(B)}),Object(u.jsxs)("div",{className:"schedule-date-time",children:[Object(u.jsxs)("div",{className:"schedule-date",children:[Object(u.jsx)("div",{className:"dateTitleDatePicker",children:Object(Ce.e)(D)}),Fe&&Fe.length>0&&He&&He.date&&"INDIA"!==(null===Ze||void 0===Ze?void 0:Ze.country)?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{ref:f,onClick:function(){return Wt(!Vt)},"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(u.jsx)(wo.a,{selected:At,showPopperArrow:!1,onChange:function(e){return Zt(e)},minDate:new Date(He.date.toString()),maxDate:new Date(Fe[Fe.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Vt,readOnly:!0}),Object(u.jsx)("img",{src:Lo,className:"date-icon",id:"datePickerIcon"})]}),Object(u.jsx)("span",{className:"dropdown-img"})]}):Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)("div",{className:"time-input time-input-container",children:Object(ye.e)(At,"YYYYMMDD")===Object(ye.c)("YYYYMMDD")?Object(Ce.e)("today"):Object(Ce.e)("tomorrow")})})]}),Object(u.jsxs)("div",{className:"schedule-time",children:[Object(u.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(Ce.e)(R)}),Object(u.jsxs)("div",{className:Go(Mt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:function(){return 0!==He.periods.length&&Gt(!Bt)},onClick:function(){return 0!==He.periods.length&&Gt(!Bt)},children:[Object(u.jsx)("div",{className:"time-input asap-default",children:wt}),Object(u.jsx)("img",{src:Po,alt:" ",className:"downarrow-time-list"})]}),Bt&&Object(u.jsx)("div",{ref:p,className:"schedule-time-list-container",children:Object(u.jsx)("ul",{children:!!(null===Mt||void 0===Mt?void 0:Mt.length)&&Mt.map((function(e){return Object(u.jsx)("li",{tabIndex:"0",onClick:function(){return nn(e)},onKeyPress:function(){return nn(e)},children:e.timestr})}))})})]})]}),Object(u.jsx)("div",{className:"text-center schedule-btn-div",children:Object(u.jsx)(Za.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(Ce.e)(Y),onClickHandler:function(e){I(e,_e),ot(!0);var t=Mo(wt),n=Object(ye.k)(Object(ye.e)(At,"YYYY-MM-DD")+" "+t,"YYYY-MM-DD hh:mm A"),a={storeid:ge&&ge.storeInfo&&ge.storeInfo.id,channel:ka.b.channel,service:Object(x.H)(mn()).toString().toLowerCase(),futureDateTimeInEpochFormat:n,asap:wt===T.c};Xe(Object(ii.g)({data:a,tenantId:Ze.tenantId})),(null===et||void 0===et?void 0:et.id)&&Xe(Object(ii.h)({params:{basketId:null===et||void 0===et?void 0:et.id},tenantId:Ze.tenantId,postBody:Fo(wt,n)})),me({type:te,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===He.periods.length,children:Object(Ce.e)(Y)})})]})}));function Bo(e,t,n){var a;e?e.find((function(e){return(null===e||void 0===e?void 0:e.timestr)===t}))||n(null===(a=e[0])||void 0===a?void 0:a.timestr):n("-")}var Go=function(e){return"time-input-container time-inputbox ".concat((null===e||void 0===e?void 0:e.length)?"":"disable-time-dropdown")},Yo=function(e){var t=e.handleClose,n=e.ScheduleOrderForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i,r=e.handleGoBack;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:o,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:r,children:n})})},Ko=function(e){var t=e.onStoreSelectFinish,n=Object(i.useContext)(E.a),a=n.userOrderState,c=n.userOrderStateDispatch,o=en.contentData,r=o.scheduleOrderHeaderText,s=o.scheduleOrderModalContent,d=o.changeScheduleOrderHeaderText,l=s.formContent,b=Ae.a.SEARCH_ORDER_DATA,v=Ae.a.SCHEDULE_ORDER_DATA,j=a.scheduleOrderData.changeFlow,O=void 0!==j&&j,m=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),c({type:v,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrder:!1}}),c({type:b,value:{showSearchStore:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&m(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var f=Object(u.jsx)(Uo,{formContent:l,onStoreSelectFinish:t});return Object(u.jsx)(Yo,{handleGoBack:function(){c({type:b,value:{showSearchStore:!0}}),c({type:v,value:{showScheduleOrder:!1}})},handleClose:m,ScheduleOrderForm:f,modalTitleId:"schedule-order",headerText:O?Object(Ce.e)(d):Object(Ce.e)(r)})},Vo=n(343),Wo=function(e){var t,n,r=e.userParams,s=e.contentData,d=e.showHeader,l=void 0===d||d,b=Ae.a.DISPOSITION_DATA,v=Ae.a.SCHEDULE_ORDER_DATA,O=Ae.a.SEARCH_ORDER_DATA,m=Ae.a.DISPOSITION_METHOD,f=Ae.a.SHOW_CLEAR_CART_ALERT,p=Ae.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,h=Ae.a.clearCartExposedFlag,g=Ae.a.searchStoreAlertTitle,I=s.segmentedHomePageData,C=void 0===I?[]:I,S=C.headline,A=void 0===S?[]:S,y=C.supportedDispositions,D=void 0===y?[]:y,_=e.contentData&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(e&&e[0]&&e[0].fields||"").headline,a=(t&&t[0]&&t[0].fields||"").buttonText;return{startOrderTitle:n,buttonText:a}}(A,D)||{},R=e.contentData&&e.contentData.contentDispositionData&&Object(x.Db)(e.contentData.contentDispositionData)&&function(e){var t,n=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields&&e.headline[0].fields.desktopImage.fields.file||{}).url,a=void 0===n?"":n,i=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields||{}).title,c=void 0===i?"":i,o=e.headline&&(null===(t=e.headline[1])||void 0===t?void 0:t.fields)||{},r=o.headline,s=void 0===r?"":r,d=o.subHeadline,l=void 0===d?"":d,u=e.supportedDispositions;return{headline:s,subHeadline:l,supportedDispositionsData:(void 0===u?[]:u).map((function(e){return e.fields})),src:a,alt:c}}(e.contentData.contentDispositionData)||{},w=Object(i.useContext)(E.a)||{},P=w.userOrderState,L=w.userOrderStateDispatch,k=localStorage.getItem(T.S.SERVICE_TYPE),M=k&&k.toUpperCase(),F=Object(i.useState)(M),H=Object(j.a)(F,2),U=H[0],B=H[1],G=Object(N.c)((function(e){return e.cartReducer})).cartData,Y=void 0===G?{}:G,K=Object(i.useState)(l),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(o.g)();Object(i.useEffect)((function(){B(M)}),[M]);var Q=function(e,t){e.stopPropagation(),e.preventDefault(),Oi(t)},J=Object(u.jsx)(ai,{contentData:_,clickHandler:function(){vi("startOrder"),L({type:b,value:{showDisposition:!0}})}}),X=function(){return r.loggedIn&&((null===z||void 0===z?void 0:z.pathname)===T.hb.HOME||(null===z||void 0===z?void 0:z.pathname)===T.hb.HOME_PAGE||(null===z||void 0===z?void 0:z.pathname)===T.hb.ACCOUNT)},Z=function(){if(X())return Object(u.jsx)(Vo.a,Object(a.a)(Object(a.a)({},e),{},{testId:"HeaderTrackOrderComponent",importPath:"HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:q,isHeaderTrackOrderEnabled:X}))},$=Object(u.jsx)(_o,{contentData:R,clickHandler:function(e,t){e.preventDefault(),e.stopPropagation(),L({type:v,value:{showScheduleOrder:!0,selectedStoreInfo:t,changeFlow:!0}}),ji()},dispositionChange:function(e,t){var n,a="";if(e.stopPropagation(),e.preventDefault(),Do(t),a=t.trim(),null===T.z||void 0===T.z?void 0:T.z.includes(a.toUpperCase()))if(L({type:m,value:{dispositionType:a}}),(null===Y||void 0===Y||null===(n=Y.foodLines)||void 0===n?void 0:n.length)>0){var i={flag:h,onConfirm:g};Object(x.Rb)(L,i,f,p)}else L({type:O,value:{showSearchStore:!0}})},activeDisposition:U,selectedInfo:P,showBlackStripeContent:W,headerTrackOrder:Z});return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[l&&function(){var e=J;return X()&&(e=W?Object(u.jsxs)("div",{children:[J," ",Z()]}):Z()),Object(x.Db)(R)&&r.localized&&(e=$),e}(),(null===P||void 0===P||null===(t=P.dispositionStateData)||void 0===t?void 0:t.showDisposition)&&Object(u.jsx)(Pi,{}),(null===P||void 0===P||null===(n=P.searchStoreData)||void 0===n?void 0:n.showSearchStore)&&Object(u.jsx)(Io,{onStoreSelectFinish:Q}),(null===P||void 0===P?void 0:P.scheduleOrderData.showScheduleOrder)&&Object(u.jsx)(Ko,{onStoreSelectFinish:Q})]})})},qo=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.className,i=void 0===a?"":a,c=e.clickHandler,o=void 0===c?null:c,r=n.src,s=void 0===r?"":r,d=n.alt,l=void 0===d?"":d,b=n.cardText,v=void 0===b?"":b,j=n.showButton,O=void 0===j||j,m=n.buttonText,f=void 0===m?"":m,p=n.buttonItem,h=void 0===p?"":p,g="".concat(f," on ").concat(v);return Object(u.jsxs)("div",{className:"communication-card ".concat(i),children:[Object(u.jsx)(C.a,{"data-testid":"image-component",srcFile:s||"",alt:l,className:"communicationCard-background"}),Object(u.jsxs)("div",{className:"communicationCard-content",children:[Object(u.jsxs)("div",{className:"communicationCard-text",children:[" ",v," "]}),O&&f&&Object(u.jsx)(Za.a,{"data-testid":"button-component-".concat(f),id:"communicationCard_".concat(h),className:"button whiteButton card-button communicationCard-button",type:"submit",onClickHandler:function(){o(h)},"aria-label":g,children:f})]})]})},zo=function(e){var t=e.contentData.routingContent,n=void 0===t?null:t,a=n&&function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.fields,n=t.headline,a=void 0===n?"":n,i=t.displayButton,c=void 0!==i&&i,o=e.fields.button&&e.fields.button.fields||{},r=o.buttonText,s=void 0===r?"":r,d=o.name,l=void 0===d?"":d,u=o.url,b=void 0===u?"":u,v=e.fields.desktopImage&&e.fields.desktopImage.fields&&e.fields.desktopImage.fields.file||{},j=v.url,O=void 0===j?"":j,m=v.alt;return{cardText:a,showButton:c,buttonText:s,buttonItem:l,buttonUrl:b,src:O,alt:void 0===m?"":m}}))}(n)||[],i=function(e){console.log("item selected",e)},c=function(e,t){return e.length%2!==0&&e.indexOf(t)===e.length-1},o=a.map((function(e,t,n){return Object(u.jsx)(qo,{"data-testid":"communicationItem-click",contentData:e,className:"".concat(c(n,e)?"communicationCard-full":""),clickHandler:i},e.buttonItem)}));return Object(u.jsx)("div",{className:"communication_container",children:o})},Qo=n(374),Jo=n.n(Qo),Xo=(n(682),n(683),function(e){var t=e.settings,n=e.carousalRef;return Object(u.jsx)(Jo.a,Object(a.a)(Object(a.a)({},t),{},{ref:n,children:e.children}))});Xo.defaultProps={settings:null,carousalRef:null};var Zo=Xo,$o={YES_CONSTANT:"YES",NO_CONSTANT:"NO",SLIDE_CHANGE_INTERVAL:5e3,LIGHT:"LIGHT",BLACK_COLOR:"#202124",WHITE_COLOR:"#ffffff",CAROUSEL_IMAGE_CLICK:"carouselImgClick",daysOfTheWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],localizedUserSampleData:{type:"",store:{id:"",name:[{value:""}]}}},er=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={valuesIndex:0},e.progressInterval=null,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.progressInterval=setInterval((function(){e.setState({valuesIndex:e.state.valuesIndex+1})}),this.props.interval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.progressInterval)}},{key:"render",value:function(){return this.props.children(this.props.values[this.state.valuesIndex])}}]),n}(c.a.Component);er.defaultProps={interval:1e3};var tr=er,nr=n(279),ar=(n(684),function(e){var t=$o.SLIDE_CHANGE_INTERVAL,n=$o.LIGHT,a=$o.BLACK_COLOR,o=$o.WHITE_COLOR,r=e.contentData,s=void 0===r?[]:r,d=e.animationSpeed,l=void 0===d?t:d,b=e.clickHandler,v=e.clickImageAnalytics,O=e.isMobile,m=void 0!==O&&O,f=0,p=function(){var e;return(null===s||void 0===s||null===(e=s[0])||void 0===e?void 0:e.textColor.toUpperCase())===n?"white-color":"black-color"}(),h={dots:!0,infinite:!0,autoplaySpeed:1e3*l,slidesToShow:1,slidesToScroll:1,arrows:!1,adaptiveHeight:!0,autoplay:!0,accessibility:!0,beforeChange:function(e,t){f=t!==(null===s||void 0===s?void 0:s.length)?t:0,p=p=(null===s||void 0===s?void 0:s[f].textColor.toUpperCase())===n?"white-color":"black-color"},customPaging:function(e){var t=(e+1).toLocaleString("en-US",{minimumIntegerDigits:2}),n="white-color"===p?o:a;return e===f?Object(u.jsx)(tr,{values:[0,33,66,100],children:function(e){return Object(u.jsx)(nr.a,{value:e,text:t,styles:Object(nr.b)({pathTransitionDuration:2.5,textColor:n,pathColor:n}),tabIndex:"0"})}}):Object(u.jsx)("div",{className:"".concat(p," carausel-paging"),"data-testid":"carausel-paging-handler-".concat(e),onClick:function(){return f=e},"aria-label":"Slide ".concat(t),tabIndex:"0",role:"button",children:Object(u.jsx)("span",{className:"carausel-pagingNo",children:t})})}},g=Object(i.useState)(window.innerHeight>window.innerWidth),N=Object(j.a)(g,2),E=N[0],I=N[1];Object(i.useEffect)((function(){if("onorientationchange"in window)return window.addEventListener("orientationchange",T),function(){window.removeEventListener("orientationchange",T)}}),[]);var T=function(){I(window.innerHeight<window.innerWidth)};return Object(u.jsx)(Xo,{settings:h,children:s.map((function(e,t){var a=e||{},i=a.smallText,o=a.largeText,r=a.buttonText,s=a.showButton,d=a.desktopSrc,l=a.mobileSrc,j=a.alt,O=a.textColor,f=a.analyticsData,p=s.toUpperCase()===$o.YES_CONSTANT,h=E||m?l:d,g="".concat(r," for ").concat(o);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:Object(x.mb)(p,"removePointer","marketing-hero-img-div"),tabIndex:"0",role:"clickable image","data-testid":"click-image-analytics-".concat(t),onClick:p?function(e){return e.preventDefault()}:function(){return v(f,t,e)},children:[Object(u.jsx)(C.a,{"data-testid":"image-component",srcFile:h,isContentfulImage:!0,alt:j,className:"carausel-image"}),i&&Object(u.jsx)("div",{className:"".concat(O.toUpperCase()===n?"color-white":"color-black"," smallTxtHero"),children:i}),o&&Object(u.jsx)("div",{className:"".concat(O.toUpperCase()===n?"color-white":"color-black"," largeTextHero"),children:o}),p&&r&&Object(u.jsx)(Ot.a,{className:"button redButton carauselOrderNow ","aria-label":Object(x.wb)(g),"data-testid":"click-handler-".concat(t),onClickHandler:function(){return b(f,t,null,e)},children:Object(u.jsx)("span",{children:r})})]},t)},t)}))})});ar.defaultProps={};var ir=ar,cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.fields,n=t.headline,a=void 0===n?"":n,i=t.subHeadline,c=t.altText,o=void 0===c?"":c,r=t.showButton,s=void 0===r?"":r,d=t.buttonType,l=void 0===d?"":d,u=t.background,b=void 0===u?"":u,v=t.onClick,j=t.name,O=(e.fields.analyticsData||{}).fields,m=void 0===O?{}:O;return{smallText:a,largeText:i,alt:o,desktopSrc:(e.fields.desktopImage&&e.fields.desktopImage.fields&&e.fields.desktopImage.fields.file).url,mobileSrc:(e.fields.mobileImage&&e.fields.mobileImage.fields&&e.fields.mobileImage.fields.file).url,buttonText:l,showButton:s,textColor:b,analyticsData:m,linkTo:v,name:j}}))},or=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.orderNow.name,{"%event%":"orderNow"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rr=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return or(),(a=[]).push({event:"homepageBannerCTA",bannerContent:t.item_name,bannerContentIndex:n},{event:"select_promotion",ecommerce:{items:[{item_name:t.item_name,item_id:t.item_id,item_category:t.item_category,promotion_id:t.promotion_id,promotion_name:t.promotion_name,creative_name:t.creative_name,location_id:t.location_id,index:n,price:t.price}]}}),e.next=5,je.a.registerEvent(void 0,{data:a[0]},x.D);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sr=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push({event:"select_promotion",ecommerce:{items:[{item_name:t.item_name,item_id:t.item_id,item_category:t.item_category,promotion_id:t.promotion_id,promotion_name:t.promotion_name,creative_name:t.creative_name,location_id:t.location_id,index:n,price:t.price}]}},{event:"homepageBannerCTA",bannerContent:t.item_name,bannerContentIndex:n}),e.next=4,je.a.registerEvent(void 0,{data:a[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dr=function(e,t,n,a){var i=e.filter((function(e){return function(e,t){var n=(new Date).getTime(),a=new Date(e).getTime(),i=new Date(t).getTime();return n>a&&n<i}(e.fields.startDate,e.fields.endDate)})).filter((function(e){return!e.fields.applicableDays||function(e){var t=$o.daysOfTheWeek[(new Date).getDay()];return e.find((function(e){return e.toLowerCase()===t.toLowerCase()}))}(e.fields.applicableDays)})).filter((function(e){return""===t||""===n||""===a?!(e.fields.disposition&&e.fields.disposition.length>0||e.fields.includeTheseStoresOnly&&e.fields.includeTheseStoresOnly.length>0):function(e,t,n,a,i){return void 0===e&&void 0===t||0===e.length&&0===t.length||((null===e||void 0===e?void 0:e.length)>0&&(null===t||void 0===t?void 0:t.length)>0?e&&e.find((function(e){return e.toLowerCase()===n.toLowerCase()}))&&t&&t.find((function(e){return e.fields.storeId===a&&e.fields.storeName===i})):e&&e.find((function(e){return e.toLowerCase()===n.toLowerCase()}))||t&&t.find((function(e){return e.fields.storeId===a&&e.fields.storeName===i})))}(e.fields.disposition,e.fields.includeTheseStoresOnly,t,n,a)}));return i},lr=function(e){var t,n=e.contentData,a=void 0===n?{}:n,c=e.history,o=a.carousalContent,r=void 0===o?"":o,s=a.animationSpeed,d=$o.CAROUSEL_IMAGE_CLICK,l=Ae.a.SELECTED_TILE_DATA,b=JSON.parse(localStorage.getItem(T.S.DISPOSITION_NEW)),v=localStorage.getItem(T.S.SERVICE_TYPE),O=(b||$o.localizedUserSampleData).store,m=O.id,f=void 0===m?"":m,p=O.name[0].value,h=null!==(t=r&&dr(r,v,f,void 0===p?"":p))&&void 0!==t?t:[],g=h&&cr(h),I=Object(i.useContext)(E.a).userOrderStateDispatch,C=Object(N.c)((function(e){return e.tenantReducer})),S=Object(i.useState)(Object(x.Ib)(window.innerWidth)),A=Object(j.a)(S,2),y=A[0],D=A[1],_=function(){var e=Object(x.Ib)(window.innerWidth);D(e)};Object(i.useEffect)((function(){window.addEventListener("resize",_)}),[y]);var R=function(e,t,n,a){n!==d&&sr(e,t),rr(e,t),I({type:l,value:{selectedData:{name:a.name}}}),localStorage.setItem("selectedTile",JSON.stringify({name:a.name})),localStorage.setItem("tenantReducer",JSON.stringify(C)),c.push({pathname:"".concat(a.linkTo)})};return Object(u.jsx)("div",{className:"market-hero",children:g&&Object(u.jsx)(ir,{contentData:g,animationSpeed:s,clickHandler:R,clickImageAnalytics:function(e,t,n){sr(e,t),R(e,t,d,n)},isMobile:y})})};lr.defaultProps={history:{}};var ur={NINE_TILES:9,FIVE_TILES:5,SIX_TILES:6,SEVEN_TILES:7,BROWSE_CATEGORIES:"browsecategory",VIEW_ALL_MENU:"viewAllMenu",MENU:"/menu",ADD_TO_CART:"addToCart",ITEM_QUANTITY:1},br=n.p+"static/media/finger_lickin.fc21c805.svg",vr=n.p+"static/media/black_right_arrow.a801582c.svg",jr=n(375),Or=n.n(jr),mr=function(e){var t=e.item,n=e.tenantReducer,a=e.classNames,i=e.navigateToPLP,c=e.children;return Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:function(){return i(t)},tabIndex:"0",to:"menu/".concat(t.url),children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:Object(x.R)(t.imageName,n,!1,!0),defaultPath:Object(x.R)(null,n,!0),className:a}),c]},t.name)},fr=Object(o.i)((function(e){var t,n=Ae.a.SELECTED_TILE_DATA,a=void 0===n?"":n,o=e.isMobile,r=ur.FIVE_TILES,s=ur.SIX_TILES,d=ur.SEVEN_TILES,l=ur.VIEW_ALL_MENU,b=ur.MENU,v=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,j=(v=void 0===v?{}:v).categories,O=void 0===j?{}:j,m=Or()(O,(function(e){return"Menu"===e.name||e.isHidden})),f=m.length,p=Object(i.useContext)(E.a).userOrderStateDispatch,h=Object(N.c)((function(e){return e.tenantReducer})),g=function(e){var t={name:e.name};0===Object.keys(e).length&&(t={}),p({type:a,value:{selectedData:t}}),localStorage.setItem("selectedTile",JSON.stringify(t)),localStorage.setItem("tenantReducer",JSON.stringify(h))};return o||f!==r?o||f!==s?!o&&f>=d?function(){var e,t=JSON.parse(JSON.stringify(m)).slice(0,7).map((function(e,t){return Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:function(){return g(e)},tabIndex:"0",to:"menu/".concat(e.url),children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:Object(x.R)(e.imageName,h,!1,!0),defaultPath:Object(x.R)(null,h,!0),className:""}),Object(u.jsxs)("section",{className:"menu-text",children:[" ",e.name," "]})]},e.name)}));return e=Object(u.jsxs)(L.b,{className:"single-lickin-card menu-cards","data-testid":"tiles-click-seven",onClick:function(){return g({})},tabIndex:"0",to:b,children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:"".concat(br)||"",alt:"",className:"single-img"}),Object(u.jsxs)("section",{className:"all-menu-text",children:[" ",Object(Ce.e)(l),Object(u.jsx)("span",{className:"menu-arrow-span",children:Object(u.jsx)(C.a,{srcFile:vr,alt:"",className:"more-arrow-img"})})]})]}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():o?function(){var e,t=m.map((function(e,t){return Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:function(){return g(e)},to:"menu/".concat(e.url),children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:Object(x.R)(e.imageName,h,!1,!0),defaultPath:Object(x.R)(null,h,!0),className:""}),Object(u.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})]},e.name)}));return e=Object(u.jsx)("div",{className:"single-lickin-card menu-cards",children:Object(u.jsxs)(L.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:function(){return g({})},tabIndex:"0",to:b,children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:"".concat(br)||"",alt:Object(Ce.e)(l),className:"mobile-single-img"}),Object(u.jsxs)("div",{className:"all-menu-text",children:[" ",Object(Ce.e)(l),Object(u.jsx)(C.a,{srcFile:vr,alt:Object(Ce.e)(l),className:"more-arrow-img"})]})]})}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():null:function(){var e;console.log("drawTilesSixdrawTilesSix");var t=m.map((function(e,t){return Object(u.jsx)(mr,{item:e,tenantReducer:h,classNames:"",navigateToPLP:g,children:Object(u.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})},e.name)}));return e=Object(u.jsxs)(L.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:function(){return g({})},tabIndex:"0",to:b,children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:"".concat(br)||"",alt:Object(Ce.e)(l),className:"double-img"}),Object(u.jsxs)("div",{className:"all-menu-text",children:[" ",Object(Ce.e)(l),Object(u.jsx)("span",{className:"menu-arrow-span",children:Object(u.jsx)(C.a,{srcFile:vr,alt:Object(Ce.e)(l),className:"more-arrow-img"})})]})]}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():function(){var e=JSON.parse(JSON.stringify(m)),t=e.shift();return Object(u.jsxs)("div",{className:"d-flex","data-testid":"menu-five-tiles",tabIndex:"0",children:[Object(u.jsx)("div",{className:"first-of-five",children:Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:function(){return g(t)},tabIndex:"0",to:"menu/".concat(t.url),children:[Object(u.jsx)(C.a,{"data-testid":"",srcFile:Object(x.R)(t.imageName,h,!1,!0),defaultPath:Object(x.R)(null,h,!0),alt:t.name||"menu",className:"w-100"}),Object(u.jsxs)("div",{className:"menu-text",children:[t.name," "]})]},t.name)}),Object(u.jsx)("div",{className:"rest-of-five",children:e.map((function(e,t){return Object(u.jsx)("div",{className:"small-four",children:Object(u.jsx)(mr,{item:e,tenantReducer:h,classNames:"w-100 small-four-img",navigateToPLP:g,children:Object(u.jsxs)("div",{className:"menu-text",children:[e.name," "]})})},e.name)}))})]})}()})),pr=function(){var e=Object(i.useState)(Object(x.Ib)(window.innerWidth)),t=Object(j.a)(e,2),n=t[0],a=t[1],c=ur.BROWSE_CATEGORIES,o=function(){var e=Object(x.Ib)(window.innerWidth);a(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",o)}),[n]),Object(u.jsxs)("div",{className:"general-menu-container","data-testid":"generic-component",children:[Object(u.jsxs)("div",{className:"browse-parent d-flex mx-2",children:[Object(u.jsx)("h2",{className:"browse",children:Object(Ce.e)(c)}),Object(u.jsx)("div",{className:"horizontal-line"})]}),Object(u.jsx)(fr,{className:"",isMobile:n})]})},hr="/images/offers/lg/",gr="/images/items/no-image.jpg",Nr="offerApplied",xr=4,Er=9,Ir="Valid to",Tr={SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},Cr={VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},Sr={OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},Ar=hr,yr=".jpg",Dr=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_r=function(e){var t=e.className,n=e.clickNextCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},onKeyPress:function(){a()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})},Rr=function(e){var t=e.className,n=e.clickPrevCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})},wr=n.p+"static/media/TimerRibbon.c063bffb.svg",Pr=n.p+"static/media/RedFilled_Ribbon.a9720417.svg",Lr=n.p+"static/media/ViewDetailsArrow.53c29b5a.svg",kr=n(48),Mr=function(e){var t=e.isDealModalOpen,n=e.handleClose,o=e.data,r=void 0===o?{}:o,s=e.couponApplyHandler,d=Object(i.useState)(Object(x.Ib)(window.innerWidth)),l=Object(j.a)(d,2),b=l[0],v=l[1],O=b?{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Ce.e)(kr.m),autoFocus:!0}:{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Ce.e)(kr.l),autoFocus:!0};Object(i.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}));var m=function(){v(Object(x.Ib)(window.innerWidth))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},O),{},{"data-testid":"offers-deals-modal-testid",children:Object(u.jsxs)("div",{className:"offers-coupon-mid-box",children:[Object(u.jsx)("h4",{className:"offers-modal-mid-header",children:null===r||void 0===r?void 0:r.heading}),(null===r||void 0===r?void 0:r.endTime)&&Object(u.jsx)("h5",{className:"offers-deals-product-valid",children:"".concat(Object(Ce.e)(kr.t)," ").concat(Object(wt.e)(null===r||void 0===r?void 0:r.endTime))}),Object(u.jsx)("p",{className:"offers-modal-mid-desc",children:null===r||void 0===r?void 0:r.description}),Object(u.jsx)("div",{className:"offers-modal-deals-footer",children:Object(u.jsx)(Ot.a,{"data-testid":"redeem-btn-testid",disabled:null===r||void 0===r?void 0:r.isApplied,onClick:function(){return e=null===r||void 0===r?void 0:r.discountCode,n(),void s(e);var e},className:"redeem-btn",children:Object(u.jsx)("span",{className:"btn-text",children:(null===r||void 0===r?void 0:r.isApplied)?Object(Ce.e)(kr.p):Object(Ce.e)(kr.q)})})})]})}))})},Fr=function(e){var t=Object(i.useState)(0),n=Object(j.a)(t,2),a=n[0],o=n[1],r=Object(i.useState)({}),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],N=Object(i.useState)(0),x=Object(j.a)(N,2),E=x[0],I=x[1],T=c.a.useRef(null),S=e.contentData,A=void 0===S?[]:S,y=e.onOffersViewAll,D=void 0===y?null:y,_=e.onRedeem,R=void 0===_?null:_,w=e.tenantId,P=void 0===w?"":w,L=void 0===Tr?{}:Tr,k=void 0===Cr?{}:Cr,M=void 0===Sr?{}:Sr,F=void 0===xr?null:xr,H=void 0===Ir?"":Ir,U=void 0===Er?null:Er,B=gr,G=Nr,Y=L.SPEED,K=void 0===Y?null:Y,V=L.SLIDES_TO_SHOW,W=void 0===V?null:V,q=L.SLIDES_TO_SCROLL,z=void 0===q?null:q,Q=k.VIEW_DETAILS,J=void 0===Q?"":Q,X=k.REDEEM,Z=void 0===X?"":X,$=M.OFFERS_AND_DEALS,ee=void 0===$?"":$,te=M.VIEW_ALL_DEALS,ne=void 0===te?"":te,ae=function(e){var t=Object(wt.j)(e);l(t),g(!0),nt({offerTitle:e.titleValue})},ie={dots:!1,infinite:!1,speed:K,slidesToShow:W,slidesToScroll:z,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(_r,{clickNextCard:function(){var e;a<A.length-1&&(e=a+z>A.length-W-1?A.length-W:a+z,o(e),T.current.slickGoTo(e))}}),prevArrow:Object(u.jsx)(Rr,{clickPrevCard:function(){a>0&&(o(a-z),T.current.slickGoTo(a-z))}}),beforeChange:function(e,t){return m(t)},variableWidth:!0,accessibility:!0,responsive:[{breakpoint:1950,settings:{slidesToShow:4,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]},ce=function(e,t,n,a,i){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(C.a,{srcFile:"".concat(Object(Lt.a)(Ht.M)).concat(P).concat(a),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.M)).concat(P).concat(B),className:"offersImageText-background"}),Object(u.jsxs)("div",{className:"offersCard-content",children:[Object(u.jsx)("div",{className:"offersImageTextCard-title",children:Object(wt.k)(n)}),Object(u.jsx)("div",{className:"offersCard-text",children:Object(wt.k)(t)}),Object(u.jsxs)("div",{className:"offersButton-item",children:[Object(u.jsx)(Ot.a,{"data-testid":"view-details-btn-img-txt",onClick:function(){return ae(i)},className:"offersView-details","aria-label":"".concat(Object(Ce.e)(J)," ").concat(n),children:Object(Ce.e)(J)}),Object(u.jsx)(Ot.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===i||void 0===i?void 0:i.isApplied,"data-testid":"offer-and-promtion-image-text-button","aria-label":"".concat(Object(Ce.e)(Z)," ").concat(n),children:(null===i||void 0===i?void 0:i.isApplied)?Object(Ce.e)(G):Object(Ce.e)(Z)})]})]})]})},oe=function(e,t,n){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(C.a,{srcFile:"".concat(Object(Lt.a)(Ht.M)).concat(P).concat(t),className:"offersOnlyImage-background",alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.M)).concat(P).concat(B)}),Object(u.jsx)("div",{className:"offersCard-content offersFullImageCard-content",children:Object(u.jsxs)("div",{className:"offersButton-item fullImageCardButton-item",children:[Object(u.jsx)(Ot.a,{"data-testid":"view-details-btn-img",onClick:function(){return ae(n)},className:"offersView-details","aria-label":"imageCard_".concat(Object(Ce.e)(J)),children:Object(Ce.e)(J)}),Object(u.jsx)(Ot.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===n||void 0===n?void 0:n.isApplied,"data-testid":"offer-and-promtion-image-button","aria-label":"imageCard_".concat(Object(Ce.e)(Z)),children:(null===n||void 0===n?void 0:n.isApplied)?Object(Ce.e)(G):Object(Ce.e)(Z)})]})})]})},re=function(e,t,n,a,i){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("section",{className:"offersCard-content",children:[Object(u.jsx)("section",{className:"offersOnlyTextCard-title",children:n}),Object(u.jsx)("section",{className:"offersOnlyTextCard-text",children:t}),Object(u.jsxs)("section",{className:"validity",children:[H," ",Object(u.jsx)("span",{children:Object(ye.e)(Object(ye.p)(a),"DD/MM/YY")})]}),Object(u.jsxs)("section",{className:"offersButton-item",children:[Object(u.jsx)(Ot.a,{"data-testid":"view-details-btn-txt",onClick:function(){return ae(i)},className:"offersView-details","aria-label":"".concat(Object(Ce.e)(J),"_textCard"),children:Object(Ce.e)(J)}),Object(u.jsx)(Ot.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===i||void 0===i?void 0:i.isApplied,"data-testid":"offer-and-promtion-text-button","aria-label":"".concat(Object(Ce.e)(Z),"_textCard"),children:(null===i||void 0===i?void 0:i.isApplied)?Object(Ce.e)(G):Object(Ce.e)(Z)})]})]})})},se=function(e){if((null===e||void 0===e?void 0:e.showTimer)&&Object(wt.g)(null===e||void 0===e?void 0:e.validityEndTime)){var t=Object(u.jsxs)("span",{className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"offers-timer",src:kt}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Pa.a,{src:wr,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"offersTimer-text",children:t})]})}if(null===e||void 0===e?void 0:e.header){var n=null===e||void 0===e?void 0:e.header;return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Pa.a,{src:Pr,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"ribbon-text",children:n})]})}};return Object(i.useLayoutEffect)((function(){var e=function(){var e=window.innerWidth>1023?[347,.1*window.innerWidth]:[287,20],t=Object(j.a)(e,2),n=t[0],a=t[1],i=window.innerWidth-a,c=Math.ceil(i/n);return 1===c&&(c+=1),c},t=function(){return I(e())};window.addEventListener("resize",t),t()}),[]),Object(u.jsxs)("div",{className:"offersCard-container","data-testid":"offersCard-container-test",children:[Object(u.jsx)("div",{className:"offers-Icon",children:Object(u.jsx)(Pa.a,{src:La})}),Object(u.jsxs)("div",{className:"offersContainerHeader-items",children:[Object(u.jsx)("h2",{className:"offersContainer-header",children:Object(Ce.e)(ee)}),Object(u.jsxs)("div",{className:"view-all-text",children:[Object(u.jsx)("a",{className:"offersViewAll-link",onClick:D,"data-testid":"view-all-deals-handler",tabIndex:"0",children:Object(Ce.e)(ne)}),Object(u.jsx)(Pa.a,{className:"offersViewAlldeals-arrow",src:Lr})]})]}),Object(u.jsxs)("div",{className:"offersCard-list",children:[Object(u.jsx)("div",{className:"offersCarousal-list",children:Object(u.jsx)(Zo,{settings:ie,carousalRef:T,children:A.map((function(e,t){var n=e||{},i=n.cardType,c=n.couponCode,o=n.smallText,r=n.titleValue,s=n.imageSrc,d=n.validityEndTime;return t<U&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"offers-card ".concat(t===a+E-1&&"offersCard-fade lastOffersCard-fade"),children:[se(e),"image-text"===i&&ce(c,o,r,s,e),"image"===i&&oe(c,s,e),"text"===i&&re(c,o,r,d,e)]})},t)}))})}),A.length>F&&Object(u.jsx)("div",{className:"offers-slideContainer",children:Object(u.jsx)("input",{className:"offers-slider",type:"range",min:"0",max:A.length-W,value:O,id:"myRange",onChange:function(e){m(e.target.value),T.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),h&&Object(u.jsx)(Mr,{"data-testid":"deals-modal",data:d,couponApplyHandler:R,isDealModalOpen:h,handleClose:function(){return g(!1)}})]})},Hr=function(e){var t,n=Object(i.useState)([]),c=Object(j.a)(n,2),o=c[0],r=c[1],s=Object(N.c)((function(e){return e.appStateReducer})).userStatus,d=void 0===s?{}:s,l=d.localized,b=void 0!==l&&l,v=d.loggedIn,O=void 0!==v&&v,m=Ae.a.DISPOSITION_DATA,f=Object(i.useContext)(E.a).userOrderStateDispatch,p=Object(N.c)((function(e){return e.tenantReducer})),h=Object(N.c)((function(e){return e.profileReducer})),g=p.tenantId,I=void 0===g?"":g,T=Object(N.c)((function(e){return e.cartReducer})),C=T.applicableCoupons,S=void 0===C?[]:C,A=T.cartData,y=void 0===A?{}:A,D=Object(N.b)();Object(i.useEffect)((function(){if(S.length>0){var e=function(e){return e.map((function(e){var t,n,i,c,o,r,s,d,l,u,b,v,j,O,m;return Object(a.a)({couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(t=e.promotionDetails)||void 0===t?void 0:t.title)&&(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.title.length)&&Object(wt.c)(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i||null===(c=i.title[0])||void 0===c?void 0:c.value),smallText:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.description)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r?void 0:r.description.length)&&(null===e||void 0===e||null===(s=e.promotionDetails)||void 0===s||null===(d=s.description[0])||void 0===d?void 0:d.value),imageSrc:(null===e||void 0===e||null===(l=e.promotionDetails)||void 0===l?void 0:l.image)&&(null===e||void 0===e||null===(u=e.promotionDetails)||void 0===u?void 0:u.image.length)&&Ar+(null===e||void 0===e||null===(b=e.promotionDetails)||void 0===b||null===(v=b.image[0])||void 0===v?void 0:v.value)+yr,validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:Object(wt.a)(null===e||void 0===e||null===(j=e.promotionDetails)||void 0===j?void 0:j.conditions),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(O=e.promotionDetails)||void 0===O?void 0:O.cardType},Object(wt.h)(null===e||void 0===e||null===(m=e.promotionDetails)||void 0===m?void 0:m.customProperties))}))}(Object(x.n)(S));r(e)}}),[S]);Object(i.useEffect)((function(){I&&function(){var e;b&&(null===y||void 0===y?void 0:y.id)?nn.a.getInstance().customerId===(null===y||void 0===y||null===(e=y.customer)||void 0===e?void 0:e.id)&&D(Object(Ct.g)({basketId:null===y||void 0===y?void 0:y.id,tenantId:I})):O?(null===h||void 0===h?void 0:h.customerId)&&D(Object(Ct.h)({tenantId:I,userId:null===h||void 0===h?void 0:h.customerId})):D(Object(Ct.i)({tenantId:I}))}()}),[b,O,I,null===y||void 0===y||null===(t=y.customer)||void 0===t?void 0:t.id,h]);var _=function(e){navigator&&navigator.clipboard&&navigator.clipboard.writeText(e),f({type:kr.r})},R=function(t){b?(_(t),Object(x.yb)(e.history)):(f({type:m,value:{showDisposition:!0}}),_(t))};return Object(u.jsx)("div",{className:"offers-container","data-testid":"offer-container",children:Object(u.jsx)(Fr,{"data-testid":"offer-items",contentData:o,onOffersViewAll:function(){e.history.push({pathname:"/offers"}),Dr({event:"viewAllDeals"})},onRedeem:function(e){Dr({event:"redeemOffer",offerTitle:e}),R(e)},tenantId:I})})},Ur={DESKTOP_MAX_WIDTH:"(max-width: 1023px)"},Br=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.clickHandler,c=Object(i.useState)(""),o=Object(j.a)(c,2),r=o[0],s=o[1],d=n.email,l=void 0===d?"":d,b=n.headline,v=void 0===b?"":b,O=n.subHeadline,m=void 0===O?"":O,f=n.mobileSrc,p=void 0===f?"":f,h=n.desktopSrc,g=void 0===h?"":h,N=n.buttonText,x=void 0===N?"":N;return Object(u.jsxs)("div",{className:"loyalty-crm",children:[Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:Ur.DESKTOP_MAX_WIDTH,srcSet:p,alt:"",className:"loyalty-img"}),Object(u.jsx)("img",{src:g,alt:"",className:"loyalty-img"})]}),Object(u.jsxs)("div",{className:"loyalty-content",children:[Object(u.jsx)("div",{className:"loyalty-headline",children:v}),Object(u.jsx)("div",{className:"loyalty-subheadline",children:m}),Object(u.jsxs)("form",{className:"loyalty-email",onSubmit:function(e){e.preventDefault(),a(r)},children:[Object(u.jsx)("div",{className:"loyalty-mailbox",children:Object(u.jsx)(Rt,{placeholder:l,onChange:function(e){s(e.target.value)},value:r,"data-testid":"loyalty-input"})}),Object(u.jsx)(Za.a,{className:"button blackButton loyalty-button","data-testid":"loyalty-submit","aria-label":x,children:x})]})]})]})},Gr=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yr=function(e){var t=e.contentData,n=t&&function(e){var t=e.DesktopImage,n=e.button,a=e.email,i=void 0===a?"":a,c=e.headline,o=void 0===c?"":c,r=e.subHeadline,s=void 0===r?"":r,d=e.mobileImage,l=(t&&t.fields&&t.fields.file).url,u=void 0===l?"":l,b=(d&&d.fields&&d.fields.file).url,v=void 0===b?"":b,j=n&&n.fields,O=j.buttonText,m=void 0===O?"":O,f=j.name,p=void 0===f?"":f,h=j.url;return{desktopSrc:u,mobileSrc:v,email:i,headline:o,subHeadline:s,buttonText:m,buttonItem:p,buttonUrl:void 0===h?"":h}}(t);return Object(u.jsx)(Br,{contentData:n,clickHandler:function(e){e&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?Gr({event:"subscribeToLoyalty",subscribe:"Successful"}):Gr({event:"subscribeToLoyalty",subscribe:"Unsuccessful"})}})},Kr=n(215),Vr=n(184),Wr=n(85),qr=function(e,t){if(e&&t){var n={};e.replace(/%(.*?)%/g,(function(e,t){n[e]=t})),Object.entries(n).forEach((function(n){var a,i=Object(j.a)(n,2),c=i[0],o=i[1],r=null!==(a=t[o])&&void 0!==a?a:"N/A",s=new RegExp(c,"ig");e=e.replace(s,r)}))}return e},zr=function(e){var t=e.page,n=e.seoObj,a=Object(i.useState)(null),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useState)(""),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(N.c)((function(e){var t,n,a;return{seoContent:null!==(t=null===e||void 0===e||null===(n=e.contentReducer)||void 0===n||null===(a=n.response)||void 0===a?void 0:a.seoStructureData)&&void 0!==t?t:null}})).seoContent;return Object(i.useEffect)((function(){if(!Object(O.isEmpty)(v)&&!Object(O.isEmpty)(t)){var e,a=null!==v&&void 0!==v?v:{},i=a.template,c=void 0===i?{}:i,o=a.seo,s=void 0===o?[]:o,d=(null!==(e=null===s||void 0===s?void 0:s.find((function(e){var n;return(null===(n=e.fields)||void 0===n?void 0:n.title)===t})))&&void 0!==e?e:{}).fields,l=(d=void 0===d?{}:d).templateData,u=void 0===l?{}:l,j=d.data,m=void 0===j?{}:j,f=Object(Wr.documentToHtmlString)(c);if(!Object(O.isEmpty)(f)){var p=Object(Vr.a)(f.replace(/<p>|<\/p>/gi,""));p=qr(p,u),p=qr(p,n);var h=Object(Vr.a)(p);b(h)}if(!Object(O.isEmpty)(m)){var g=JSON.stringify(m);g=qr(g,n),r(g)}}}),[t,qr,v,n]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(Kr.a,{children:[l,Object(u.jsx)("script",{type:"application/ld+json",children:o})]})})};zr.defaultProps={page:null,seoObj:null};var Qr="We Think You\u2019ll Love These",Jr=4,Xr=1024,Zr=3,$r=1,es={SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},ts={PDP_SPEED:200,PDP_SLIDES_TO_SHOW:4,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:5},ns=function(e){var t=e.className,n=e.clickNextCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler"})},as=function(e){var t=e.className,n=e.clickPrevCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler"})},is=n.p+"static/media/heartIcon_inactive.5590264f.svg",cs=n.p+"static/media/heartIcon_active_white.3039e363.svg",os=n.p+"static/media/heartIcon_activeFavourite.531db664.svg",rs=n.p+"static/media/heartIcon_inactiveFavourite.179b2734.svg",ss=function(e){var t=e.itemQuantity,n=e.itemCount,a=e.updateItemQuantity,i=e.quantityAction,c=e.item,o=e.itemName,r=e.cartItemCount,s=e.maxItemCountPerLineItem,d=e.hideChild,l=void 0!==d&&d,b="Decreases quantity by 1 item for ".concat(o),v="Increases quantity by 1 item for ".concat(o);return Object(u.jsxs)("div",{className:"cart-food-quantity-change",children:[n===t?Object(u.jsx)(Za.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!l&&Object(u.jsx)("span",{children:"-"})}):Object(u.jsx)(Za.a,{className:"button quantity-decrease",ariaLable:b,onClickHandler:function(e){return a(c,i.Decrease,e)},"data-testid":"quantity-minus",children:!l&&Object(u.jsx)("span",{children:"-"})}),Object(u.jsx)("span",{className:"cart-food-quantity",children:n}),Object(u.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(n)}),Object(u.jsx)(Za.a,{className:".transparent-btn button quantity-increase",ariaLable:v,"data-testid":"quantity-plus",onClickHandler:function(e){return a(c,i.Increase,e)},disabled:0!==s&&r+n>s,children:!l&&Object(u.jsx)("span",{children:"+"})})]})},ds=n(82),ls=n(21),us=n(69),bs=n.n(us),vs=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.menuNavigation.name,{"%event%":"menuNavigation","%menuNavigationLink%":t,"%menuIndex%":n},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),js=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push(Object(Re.a)({event:t.eventType},n,t.selectedData)),console.log(a),e.next=5,je.a.registerEvent(void 0,{data:a[0]},x.D);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Os=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a){var i,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=[]).push((i={event:t.eventType},Object(Re.a)(i,n,t.selectedData[n]),Object(Re.a)(i,a,t.selectedData[a]),i)),console.log(c),e.next=5,je.a.registerEvent(void 0,{data:c[0]},x.D);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ms=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a,i){var c,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=[]).push((c={event:t.eventType},Object(Re.a)(c,n,t.selectedData[n]),Object(Re.a)(c,a,t.selectedData[a]),Object(Re.a)(c,i,t.selectedData[i]),c)),console.log(o),e.next=5,je.a.registerEvent(void 0,{data:o[0]},x.D);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),fs=function(e,t){var n=JSON.parse(JSON.stringify(e)),a=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((function(e){var t=null===n||void 0===n?void 0:n.find((function(t){var n=t.isHidden,a=void 0!==n&&n,i=t.items;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&a.push(t)})),a},ps=function(e,t,n,a,i,c){var o;return(null===e||void 0===e?void 0:e.categories)&&0===(null===e||void 0===e||null===(o=e.products)||void 0===o?void 0:o.length)&&0==Object.keys(t).length?hs(e.categories[0],n,a,i):Object.keys(t).length>0?hs(t,n,a,i):hs(e,n,a,i)},hs=function(e,t,n,a){var i,c={};return null===e||void 0===e||null===(i=e.products)||void 0===i?void 0:i.map((function(e){return e.items.forEach((function(e,i){var o=Object(x.fb)(e.availability[0],a).toFixed(2);o=o?parseFloat(o):"NA",c={item_name:e.name,item_id:e.id,price:o,item_category:t,item_list_name:t,item_list_id:n,index:i,quantity:"1"}})),c}))},gs=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.viewItemListPlp.name,{data:{event:"view_item_list",ecommerce:{item_list:{items:t}}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ns=function(e,t){var n={},a=e.find((function(e){return e.name.trim()===t}))||{};return 0===Object.keys(a).length&&(a=e.find((function(e){var a;if((null===(a=e.categories)||void 0===a?void 0:a.length)>0)for(var i in e.categories)if(e.categories[i].id===t)return n=e.categories[i],!0;return!1}))),{selectedCategory:a,selectedSubcategory:n}},xs=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null===e||void 0===e?void 0:e.find((function(e){var n=e.url,a=e.isHidden,i=e.categories,c=!a&&(null===n||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase());return c||(c=i.find((function(e){var n=e.url;return!e.isHidden&&(null===n||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))),c}));if(c)ds.scroller.scrollTo(c.name.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-150:-100});else if(t&&(n("category"),a(!0)),!bs()(e)){var o=null===e||void 0===e?void 0:e.find((function(e){return!e.isHidden}));o&&ds.scroller.scrollTo(o.name.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-140:-100})}return!!c},Es=function(e){return null===e||void 0===e?void 0:e.isStoreClosed},Is=function(e){var t=ls.d.ADD_TO_CART_OCCASSION,n=ls.d.STORE_CLOSED_BUTTON_TEXT,a=Object(Ce.e)(t),i=Object(Ce.e)(n);return(null===e||void 0===e?void 0:e.isStoreClosed)&&(a=i),{btnText:a}},Ts=n.p+"static/media/Single_Arrow_Edit.538cdcff.svg",Cs=function(e){var t=e.basketLineItemId,n=e.customizableFoodItemsList,a=e.SetCustomizableFoodItemsList,c=e.calculateTotalAmountHandler,o=e.isEditSelection,r=(e.handleClose,Object(N.b)()),s=hi.a.RESET_MODGROUP_IDS_UPDATE,d=Object(i.useContext)(E.a),l=d.userOrderState,b=d.userOrderStateDispatch,v=Ae.a.MINI_PDP_DATA,O=Ae.a.FROMFLAGEDIT,m=Ae.a.EDIT_CLICKED,f=Fn.a.QUANTITY_ACTION,p=n[t],h=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails})),g=Object(i.useState)(!1),I=Object(j.a)(g,2),T=I[0],C=I[1],S=Object(i.useState)(!1),A=Object(j.a)(S,2),y=(A[0],A[1]),D=function(e,i){p.quantity=i===f.Increase?(null===p||void 0===p?void 0:p.quantity)+1:(null===p||void 0===p?void 0:p.quantity)-1;var o=n;o[t]=p,a(o),c()};Object(i.useEffect)((function(){var e,t=!0;null===p||void 0===p||null===(e=p.modGrps)||void 0===e||e.map((function(e){t*=e.modifiers[0].isDefault})),y(t)}),[p.modGrps]),Object(i.useEffect)((function(){Object(x.bb)(h,p,l,T,r,Ct.s),C(!1)}),[h,T]);return Object(u.jsxs)(u.Fragment,{children:[o?Object(u.jsx)("div",{className:"EditItemsCard",onClick:function(){return function(){var e,n;b({type:v,value:{id:null===p||void 0===p||null===(e=p.foodItems)||void 0===e?void 0:e.id,flag:O,foodLineId:t}}),b({type:s}),b({type:m,value:{cartEditClicked:!1}}),r(Object(pi.c)({tenantId:null===p||void 0===p?void 0:p.tenantId,catalogName:null===p||void 0===p?void 0:p.catalog,itemId:null===p||void 0===p||null===(n=p.foodItems)||void 0===n?void 0:n.id})),C(!0)}()},children:Object(u.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"DisplayNameFont",children:null===p||void 0===p?void 0:p.displayName}),Object(u.jsx)("div",{className:"customizableProducts-Default",children:Object(x.cb)(p.modGrps)})]}),Object(u.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:Ts})]})}):Object(u.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"DisplayNameFont",children:null===p||void 0===p?void 0:p.displayName}),Object(u.jsx)("div",{className:"customizableProducts-Default",children:Object(x.cb)(p.modGrps)})]}),Object(u.jsx)("div",{className:"PlusAndMinus",children:Object(u.jsx)(ss,{itemCount:null===p||void 0===p?void 0:p.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:D,quantityAction:f,maxItemCountPerLineItem:null===p||void 0===p?void 0:p.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(u.jsx)("div",{className:"LineSeparator"})]})},Ss="addNewProduct",As="updateCart",ys=function(e){var t=e.addNewProductHandler,n=e.currencySymbol,a=(e.currencyConversionFactor,e.updateCartHandler),i=e.customizableFoodItemsList,c=e.SetCustomizableFoodItemsList,o=e.totalAmount,r=e.calculateTotalAmountHandler,s=e.isEditSelection,d=e.handleClose,l=Ss,b=As,v=Object.keys(i).length;return Object(u.jsxs)("div",{children:[Object.keys(i).map((function(e){return Object(u.jsx)(Cs,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:i,SetCustomizableFoodItemsList:c,calculateTotalAmountHandler:r,isEditSelection:s,handleClose:d})})),s?Object(u.jsx)("div",{className:"editSelectionsItem",children:Object(u.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:function(){return t()},children:Object(Ce.e)(l)})}):Object(u.jsxs)("div",{className:v<2?"FinalButton":"FinalDivButtons",children:[Object(u.jsx)("div",{className:"AddNew",children:Object(u.jsx)("span",{className:"addNewItem",onClick:t,children:Object(Ce.e)(l)})}),Object(u.jsx)("div",{className:"ButtonAndPopupLink",children:Object(u.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:function(){return a()},children:[Object(u.jsx)("span",{className:"TextInButton",children:Object(Ce.e)(b)+" "}),Object(u.jsx)("span",{children:n+o})]})})]})]})},Ds=function(e){var t=e.filteredPreviousData,n=e.tenantData,c=e.dname,o=e.cardId,r=e.categoryId,s=e.itemCount,d=e.availability,l=e.imageName,b=e.itemFoodlineId,v=e.customizable,O=e.product,m=void 0===O?{}:O,f=e.isFavouriteMenu,p=void 0!==f&&f,h=e.cartData,g=e.clickHandler,E=e.handleClose,I=e.foodId,T=e.isEditSelection,C=e.headerText,S=e.pricewithouttax,A=Object(N.b)(),y=n.tenantId,D=Object(i.useState)({}),_=Object(j.a)(D,2),R=_[0],w=_[1],P=Object(i.useState)(0),L=Object(j.a)(P,2),k=L[0],M=L[1],F=n.currencyConversionFactor,H=n.currencySymbol,U=n.componentOptions,B=(null!==U&&void 0!==U?U:{}).web,G=(B=void 0===B?{}:B).global,Y=(G=void 0===G?{}:G).showPriceWithTax,K=void 0!==Y&&Y,V={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:E,modalTitle:C},W=Object(i.useState)(-1),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=function(){Q(-1),E&&E()},te=function(){0===Z.length&&0===z?ee():Z&&(null===Z||void 0===Z?void 0:Z.length)&&z<=Z.length&&(!function(){var e,t;A(Object(Ct.u)({params:{basketId:null===h||void 0===h?void 0:h.id,basketLineItemId:null===(e=Z[z])||void 0===e?void 0:e.basketLineItemId},tenantId:y},{quantity:null===(t=Z[z])||void 0===t?void 0:t.quantity}))}(),Q(z+1))};Object(i.useEffect)((function(){te()}),[Z]),Object(i.useEffect)((function(){if(-1===z){var e,t=Object(a.a)({},R);null===h||void 0===h||null===(e=h.foodLines)||void 0===e||e.forEach((function(e){var a,i;if((null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.customizable)&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id)===I){var c,o,s=Object(x.pb)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:y,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:s,displayName:null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.displayName,modGrps:null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.modGrps,maxItemCountPerLineItem:null===n||void 0===n?void 0:n.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===h||void 0===h?void 0:h.catalog,categorySelected:r}}})),w(t),Q(0)}else z===Z.length?(ee(),A(Object(Ct.r)(new Date))):te()}),[null===h||void 0===h?void 0:h.foodLines]),Object(i.useEffect)((function(){ne()}),[R]);var ne=function(){var e=0;Object.values(R).forEach((function(t){var n=K?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*n})),M((e/F).toFixed(2))},ae=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},V),{},{children:Object(u.jsx)(ys,Object(a.a)(Object(a.a)({},e),{},{"data-testid":"ModalTemplate",filteredPreviousData:t,addNewProductHandler:function(e){p?g(e,m,{productName:c,productImage:l,productPrice:Object(x.gb)(d[0],S,F,K)}):g(e,o,v,r,s,{productName:c,productImage:l,productPrice:Object(x.gb)(d[0],S,F,K)},b),E&&E()},currencySymbol:H,currencyConversionFactor:F,updateCartHandler:function(){if((null===h||void 0===h?void 0:h.id)&&y){var e=Object.values(R).filter((function(e){return(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e}));$(e)}},customizableFoodItemsList:R,SetCustomizableFoodItemsList:w,totalAmount:k,calculateTotalAmountHandler:ne,isEditSelection:T,handleClose:E}))}));return _i.a.createPortal(ae,document.getElementById("modal-popups"))},_s=n.p+"static/media/Non_veg_dot_Icon.1b0fc8fd.svg",Rs=n.p+"static/media/Veg_dot_Icon.2636651d.svg",ws=n.p+"static/media/Product_Card_Icon.6391b56a.svg",Ps=n.p+"static/media/ribbonRedOutlined.36f99748.svg",Ls=n.p+"static/media/heartIcon_active_red.2738ae06.svg",ks=n(151),Ms=n.p+"static/media/Takeaway_Inprogress.bb877163.svg",Fs=n.p+"static/media/Call-white.06c542e3.svg",Hs=n.p+"static/media/Strips.4f336307.svg",Us={Non_veg_dot_Icon:_s,Veg_dot_Icon:Rs,Product_Card_Icon:ws,ribbonRedOutlined:Ps,TimerIcon:kt,heartIcon_inactive:is,heartIcon_active:cs,heartIcon_active_red:Ls,heartIcon_inactive_red:rs,BucketIcon:ks.a,ConfirmedImg:Kn,TakeAwayImg:Ms,TakeawayCompleted:Yn,phoneImg:ft,Direction:pt,CallIcon:Fs,ArrowIcon:_e,HeaderLogo:Ra,Strips:Hs},Bs=function(e,t,n,a,i){return Object(x.mb)(e||t||n||a||i,Us.ribbonRedOutlined,null)};var Gs=function(e){var t,n,a,c=e.getCardTypeName,o=e.cardType,r=e.allowClickOnProductCard,s=e.discount,d=e.specials,l=e.exclusive,b=e.timer,v=e.cardId,O=e.customizable,m=e.getProductImageClassName,f=e.tenantData,p=e.imageName,h=e.onCardClickHandler,g=e.categoryId,I=e.dname,S=e.availability,A=e.newitem,y=e.topseller,D=e.customlabelfield,_=e.getSpecificRibbonBanner,R=e.userParams,w=e.favouriteItems,P=e.item,L=e.classFavouriteIconActive,k=e.getCardName,M=e.favouriteButtonClickHandler,F=e.itemCount,H=e.classFavouriteIconInActive,U=e.getMenuProductHeader,B=e.veg,G=e.servingCount,Y=e.getVegNonvegClassName,K=e.menuProductPriceClassName,V=e.checkForBasePriceInMenu,W=e.baseprice,q=e.cardCat,z=e.displayPrice,Q=e.getPriceClassName,J=e.menuProductDescriptionClassName,X=e.longDescription,Z=e.updateItemQuantity,$=e.configureOptions,ee=e.storeClosedData,te=e.classesCardButton,ne=e.classEnableAddToCart,ae=e.enableAddToCartButton,ie=e.checkLoading,ce=e.menuCardBtnText,oe=e.clickHandler,re=e.itemFoodlineId,se=e.openCostomizedModal,de=e.setOpenCostomizedModal,le=e.filteredPreviousData,ue=e.cartData,be=e.CARD_TYPE,ve=e.setShowTopScrollBtn,je=(e.FoodId,e.pricewithouttax),Oe=Object(N.b)(),me=hi.a.RESET_MODGROUP_IDS_UPDATE,fe=Ae.a.MINI_PDP_DATA,pe=Ae.a.FROMFLAGEDIT,he=Ae.a.EDIT_CLICKED,ge=Object(i.useContext)(E.a),Ne=(ge.userOrderState,ge.userOrderStateDispatch),xe=Object(i.useState)(!1),Ee=Object(j.a)(xe,2),Ie=Ee[0],Te=Ee[1],Se=Object(i.useState)(Object(x.Ib)(window.innerWidth)),ye=Object(j.a)(Se,2),De=ye[0],_e=ye[1],Re=ur.ITEM_QUANTITY,we=Fn.a.QUANTITY_ACTION,Pe=Object(x.mb)(null===R||void 0===R?void 0:R.loggedIn,T.Eb,""),Le=$.allowAddToCartButton,ke=void 0===Le||Le,Fe=(null!==(a=null===f||void 0===f?void 0:f.componentOptions)&&void 0!==a?a:{}).web,He=(Fe=void 0===Fe?{}:Fe).global,Ye=(He=void 0===He?{}:He).showPriceWithTax,Ke=void 0!==Ye&&Ye,Ve=Us.Non_veg_dot_Icon,We=Us.Veg_dot_Icon,qe=Us.Product_Card_Icon,ze=Us.TimerIcon,Qe=Us.heartIcon_inactive,Je=Us.heartIcon_active,Xe=Us.heartIcon_active_red,Ze=Us.heartIcon_inactive_red;Object(i.useEffect)((function(){window.addEventListener("resize",$e)}),[De]);var $e=function(){_e(Object(x.Ib)(window.innerWidth))},et=function(){return Object(u.jsxs)("div",{className:K(o),children:[Object(x.r)(V(W,q),z(W,null===f||void 0===f?void 0:f.currencyConversionFactor)),Object(u.jsxs)("span",{className:Q(W,q),children:[Me.CURRENCY,Object(x.gb)(S[0],je,null===f||void 0===f?void 0:f.currencyConversionFactor,Ke).toFixed(2)]})]})},tt=function(){return Object(u.jsxs)("div",{className:Y(o),children:[Object(x.mb)(!B,Object(Ce.e)(Me.NON_VEG),Object(Ce.e)(Me.VEG)),Object(x.r)(G,Object(u.jsx)("div",{className:"Dot"})),Me.SERVES,G]})},nt=function(){if(null===R||void 0===R?void 0:R.loggedIn)return Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(x.mb)("small-menu-product-card"===k,Object(x.mb)(Array.isArray(w)&&w.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===P||void 0===P?void 0:P.id)})),L(o),H(o)),Object(x.mb)(Array.isArray(w)&&w.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===P||void 0===P?void 0:P.id)})),Xe,Ze)),alt:"",className:"menu-product-save ".concat(Pe),"data-testid":"fav-item-source",onClick:function(){return M()}}),Object(u.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(x.mb)(Array.isArray(w)&&w.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===P||void 0===P?void 0:P.id)})),Je,Qe),alt:"",className:"menu-product-save ".concat(Pe),"data-testid":"fav-item-largeScreen",onClick:function(){return M()}}),Object(u.jsx)("img",{src:Object(x.r)(Array.isArray(w),null===w||void 0===w?void 0:w.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===P||void 0===P?void 0:P.id)})))?Je:Qe,alt:"",className:"menu-product-save ".concat(Pe),"data-testid":"save-product-".concat(v),onClick:function(){return M()}})]})},at=function(){return Object(u.jsx)(C.a,{"data-testid":"product-image",className:m(o),defaultPath:Object(x.R)(null,f,!0),srcFile:Object(x.R)(p,f),onClick:function(e){return Object(x.nc)(r,h,[e,v,O,g,{productName:I,productImage:p,productPrice:Object(x.gb)(S[0],je,null===f||void 0===f?void 0:f.currencyConversionFactor,Ke)}])},alt:""})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:c(o,r,s,d,l,b),"data-testid":"click-allow-on-product-".concat(v),id:v,children:[Object(x.Fb)()&&O&&Object(u.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),o!==be.SMALL&&at(),Object(u.jsx)(Pa.a,{src:Object(x.mb)(d,qe,Bs(D,s,l,A,y)),className:Object(x.mb)(d,"specials-product-ribbon",Object(x.mb)(Object(x.s)(l,D),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(u.jsx)("span",{className:Object(x.mb)(d,"specials-ribbon-text","discount-ribbon-text"),children:b?Object(u.jsxs)("div",{children:[Object(u.jsx)(Pa.a,{src:ze,className:"product-timer"}),Object(u.jsx)("span",{className:"product-timer-text",children:Object(Ce.e)(Me.TIMER)})]}):_(d,s,l,A,y,D)}),Object(x.r)(!De,nt()),Object(u.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:function(e){return r&&h(e,v,O,g,{productName:I,productImage:p,productPrice:Object(x.gb)(S[0],je,null===f||void 0===f?void 0:f.currencyConversionFactor,Ke)})},children:[Object(u.jsx)("div",{className:U(o,s,d,l,{timer:b,newitem:A,topseller:y,customlabelfield:D}),children:null===I||void 0===I?void 0:I[0].value}),De?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"description-and-image",children:[Object(u.jsx)("div",{className:J(o),id:"longDescription",children:X[0].value}),o===be.SMALL&&at()]}),Object(u.jsxs)("div",{className:"PriceVegNonveg",children:[et(),tt(),Object(u.jsx)("div",{className:"hearticonDiv",children:nt()})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(x.mb)(!B,Ve,We)}),tt(),et(),Object(u.jsx)("div",{className:J(o),id:"longDescription",children:X[0].value})]})]}),Object(u.jsxs)("div",{className:"quantityAddtocart ".concat(F?"cardwithQuantity "+Pe:"cardwithNoquantity"),children:[!!F&&function(e,t,n,a){return Object(u.jsx)(ss,{itemCount:e,itemQuantity:Re,updateItemQuantity:t,quantityAction:we,item:void 0,itemName:n,maxItemCountPerLineItem:a,cartItemCount:1,hideChild:!0})}(F,Z,I[0].value,null===f||void 0===f?void 0:f.maxItemCountPerLineItem),ke&&ee&&Object(u.jsx)("div",{className:te(F,Pe),children:F<1?Object(u.jsxs)(Za.a,{tabIndex:"0",className:ne(ae,o,ie,ee),"data-testid":"add-to-cart-".concat(v),disabled:Es(ee),onClickHandler:function(e){var t;(null===(t=ce(ee))||void 0===t?void 0:t.enabled)&&F<=0&&oe(e,v,O,g,F,{productName:I,productImage:p,productPrice:Object(x.gb)(S[0],je,null===f||void 0===f?void 0:f.currencyConversionFactor,Ke)},re),e.preventDefault(),e.stopPropagation()},"aria-label":(null===(t=ce(ee))||void 0===t?void 0:t.btnText)+(null===I||void 0===I?void 0:I[0].value),children:[null===(n=ce(ee))||void 0===n?void 0:n.btnText,Object(x.j)(ee.isStoreClosed)]}):O&&Object(u.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:function(){1===F?(Ne({type:fe,value:{id:null===P||void 0===P?void 0:P.mdmId,flag:pe,foodLineId:re}}),Ne({type:me}),Ne({type:he,value:{cartEditClicked:!1}}),Oe(Object(pi.c)({tenantId:null===f||void 0===f?void 0:f.tenantId,catalogName:null===ue||void 0===ue?void 0:ue.catalog,itemId:null===P||void 0===P?void 0:P.mdmId})),Oe(Object(Ct.s)({showProductListingModal:!0,categorySelected:g}))):(Te(!0),de(!0))},children:Object(Ce.e)(Ue)})})]})]}),Object(u.jsx)("div",{children:se&&function(){var t;return Object(u.jsx)(Ds,{handleClose:function(){de(!1),Te(!1)},filteredPreviousData:le,updateItemQuantity:Z,tenantData:f,dname:I,clickHandler:oe,cardId:v,categoryId:g,itemCount:F,availability:S,pricewithouttax:je,imageName:p,itemFoodlineId:re,customizable:O,setOpenCostomizedModal:de,openCostomizedModal:se,cartData:ue,setShowTopScrollBtn:ve,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Ie,headerText:Object(x.mb)(Ie,Object(Ce.e)(Be),Object(Ce.e)(Ge))})}()})]})},Ys=Fe,Ks=function(e,t,n,a,i,c){return e===Ys.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===Ys.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===Ys.SMALL?function(e,t,n,a,i){return e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||n||a||i)?"small-menu-product-card product-card-active":!e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card"}(t,n,a,i,c):e===Ys.CAROUSAL?"carousal-menu-product-card":void 0},Vs=function(e){return e===Ys.LARGE?"menu-product-image":e===Ys.MEDIUM?"medium-menu-product-image":e===Ys.SMALL?"small-menu-product-image":e===Ys.CAROUSAL?"carousal-menu-product-image":void 0},Ws=function(e,t,n,a,i){var c=i.timer,o=i.newitem,r=i.topseller,s=i.customlabelfield;return e===Ys.LARGE?"menu-product-header":e===Ys.MEDIUM?"medium-menu-product-header":e===Ys.SMALL?t||n||a||c||o||r||s?"small-menu-product-header-shift":"small-menu-product-header":e===Ys.CAROUSAL?"carousal-menu-product-header":void 0},qs=function(e){return e===Ys.LARGE?"menu-vegOrNonVeg":e===Ys.MEDIUM?"medium-menu-vegOrNonVeg":e===Ys.SMALL?"small-menu-vegOrNonVeg":e===Ys.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0},zs=function(e){return e===Ys.LARGE?"menu-product-price":e===Ys.MEDIUM?"medium-menu-product-price":e===Ys.SMALL?"small-menu-product-price":e===Ys.CAROUSAL?"carousal-menu-product-price":""},Qs=function(e,t){return e&&"recommended"!==t?"availableprice-withbaseprice":""},Js=function(e){return e===Ys.LARGE?"menu-product-description":e===Ys.MEDIUM?"medium-menu-product-description":e===Ys.SMALL?"small-menu-product-description":e===Ys.CAROUSAL?"carousal-menu-product-description":""},Xs=function(e,t){return e?"cardButton "+t:"cardButtonOnly "+t},Zs=function(e){var t=ur.ADD_TO_CART,n=Object(Ce.e)(t),a="",i=!0;return(null===e||void 0===e?void 0:e.isStoreNone)?(n="Store Closed",a="no-store-selected",i=!1):(null===e||void 0===e?void 0:e.isStoreClosed)&&(n="Store Closed",a="store-closed",i=!1),{btnText:n,className:a,enabled:i}},$s=function(e,t,n,a){return e?"".concat(function(e,t){var n,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case Ys.LARGE:n="menu-cart-button";break;case Ys.MEDIUM:n="medium-menu-cart-button";break;case Ys.SMALL:n="small-menu-cart-button";break;case Ys.CAROUSAL:n="carousal-menu-cart-button";break;default:n=""}return"".concat(a," ").concat(n)}(t,n)," ").concat(Zs(a).className):"button btn-black medium-menu-cart-button"},ed=function(e,t,n,a,i,c){return c?Object(u.jsx)("span",{"data-testid":"exclusive-id",children:c}):e||(t||(n?Object(u.jsx)("span",{"data-testid":"exclusive-id",children:Object(Ce.e)(Me.EXCLUSIVE_DEAL)}):a?Object(u.jsx)("span",{"data-testid":"new-id",children:Object(Ce.e)(Me.NEW)}):Object(x.mb)(i,Object(u.jsx)("span",{"data-testid":"topseller-id",children:Object(Ce.e)(Me.TOP_SELLER)}),null)))},td=function(e){return e===Ys.CAROUSAL?cs:os},nd=function(e){return e===Ys.CAROUSAL?is:rs},ad=function(e,t){return Boolean(e)&&"recommended"!==t},id=function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"price-display",children:"old price"}),Object(u.jsxs)("span",{className:"base-price-menu",children:[Me.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]})},cd=function(e){var t,n=e.cardId,c=e.cardType,o=e.discount,r=e.specials,s=e.exclusive,d=e.timer,l=e.availability,b=void 0===l?[]:l,v=e.tenantData,O=e.customizable,m=e.categoryId,f=e.activeId,p=(e.openAlertModal,e.addFavourite),h=e.removeFavourite,g=e.item,E=e.isHidden,I=e.cardFor,T=e.setShowTopScrollBtn,C=e.userParams,S=Fn.a.QUANTITY_ACTION,A=Object(N.b)(),y=null===v||void 0===v?void 0:v.tenantId,D=v.componentOptions,_=(void 0===D?{}:D).PlpProductCard,R=(void 0===_?{}:_).allowClickOnProductCard,w=void 0!==R&&R,P=Object(N.c)((function(e){return e.cartReducer})),L=Object(N.c)((function(e){var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),k=Object(x.ub)(P),M=k.cartData,F=void 0===M?{}:M,H=k.isAddItemLoading,U=void 0!==H&&H,B=Object(i.useState)(0),G=Object(j.a)(B,2),Y=G[0],K=G[1],V=Object(i.useState)(null),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=Object(i.useState)(0),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=null===L||void 0===L?void 0:L.id,ee=Object(N.c)((function(e){var t;return Object(x.xb)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),te=Object(i.useState)(!0),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)("product"),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,le=(de=void 0===de?{}:de).productMapById,ve=void 0===le?{}:le,je=Object(i.useState)(""),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(0),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useState)([]),Ee=Object(j.a)(xe,2),Ie=Ee[0],Te=Ee[1],Ce=Object(i.useState)(!1),Se=Object(j.a)(Ce,2),Ae=Se[0],ye=Se[1],De=Object(i.useState)(""),_e=Object(j.a)(De,2),Re=_e[0],we=_e[1];Object(i.useEffect)((function(){I&&se(I)}),[I]),Object(i.useEffect)((function(){var e=Object(x.Db)(F)?Object(x.X)(n,F):{},t=Object(x.mb)(Object(x.Db)(e),e.count,0),a=Object(x.mb)(Object(x.Db)(e),e.matchedItemFoodLineId,""),i=Object(x.mb)(Object(x.Db)(e),e.entriesCount,0),c=Object(x.mb)(Object(x.Db)(e),e.itemUnitPrice,"");K(t),z(a),Z(i),Ne(c)}),[F,n]);var Pe=Object(i.useCallback)((function(){fe(Ks(c,w,o,r,s,d))}));Object(i.useEffect)((function(){Pe()}),[Pe]);var Le=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a,i){var c,o,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(x.vb)(null===(c=a[0])||void 0===c?void 0:c.price),r={mdmId:n.mdmId,id:n.id,name:n.name,imageName:n.imageName,description:n.longDescription,quantity:1,isCustomized:n.customizable,price:o/(null===v||void 0===v?void 0:v.currencyConversionFactor),additionalProperties:n.additionalProperties},e.next=4,p(t,r,i);case 4:return e.next=6,A(Object(Ct.s)({showProductListingModal:!1,categorySelected:m}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){ie(!0)}),[Y]);var ke=function(e){if(null===F||void 0===F?void 0:F.id){var t=null===F||void 0===F?void 0:F.foodLines.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id)===e}));Te(t)}we(e),ye(!0)},Me=Object(x.r)(U,f===n);return!E&&Object(u.jsx)(Gs,Object(a.a)(Object(a.a)({},e),{},{getCardTypeName:Ks,"data-testid":"MenuPlpTestId",allowClickOnProductCard:w,getProductImageClassName:Vs,getSpecificRibbonBanner:ed,favouriteItems:ee,classFavouriteIconActive:td,getCardName:me,favouriteButtonClickHandler:function(){Object(x.r)(Array.isArray(ee),null===ee||void 0===ee?void 0:ee.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===g||void 0===g?void 0:g.id)})))?h(y,$,g.id):Le(y,g,b,$)},itemCount:Y,classFavouriteIconInActive:nd,getMenuProductHeader:Ws,getVegNonvegClassName:qs,menuProductPriceClassName:zs,checkForBasePriceInMenu:ad,cardCat:re,displayPrice:id,getPriceClassName:Qs,menuProductDescriptionClassName:Js,updateItemQuantity:function(e,t){if(C.localized){var n=Number((ge/(null===v||void 0===v?void 0:v.currencyConversionFactor)).toFixed(2)),a={foodName:null===g||void 0===g?void 0:g.name,foodItemId:null===g||void 0===g?void 0:g.mdmId,cartPrice:n,modifiers:[],quantity:Y,foodLineId:q},i=Ai({cartId:null===F||void 0===F?void 0:F.id},null===v||void 0===v?void 0:v.tenantId,void 0,ve,void 0,A,void 0).itemQuantityHandler;t===S.Increase?O&&Y>=1?ke(null===a||void 0===a?void 0:a.foodItemId):(!O&&ie(!1),i(a,S.Increase)):X>1?ke(null===a||void 0===a?void 0:a.foodItemId):(ie(!1),i(a,S.Decrease))}},classesCardButton:Xs,classEnableAddToCart:$s,enableAddToCartButton:ae,checkLoading:Me,menuCardBtnText:Zs,itemFoodlineId:q,openCostomizedModal:Ae,filteredPreviousData:Ie,setOpenCostomizedModal:ye,cartData:F,CARD_TYPE:Ys,setShowTopScrollBtn:T,FoodId:Re}))},od=function(e){var t=e.handleClose,n=e.ProductListingModalForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:o,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:n})})},rd=n.p+"static/media/Check_Icon.b40df6e7.svg",sd={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},dd=function(e,t,n,a,i){var c=sd.SETFLAGCASE,o=Ae.a.FROMFLAGEDIT;if(0===e.length){if(a&&t.minipdpData.fromFlag!==o)return c.DEFAULT;if(t.minipdpData.fromFlag===o&&function(e,t){return!!Object(x.Db)(t)&&t.filter((function(t){return t.id===e})).length>0}(n,i))return c.FROMEDIT}else if(null===e||void 0===e?void 0:e.includes(n))return c.ITEMINCLUDES},ld=function(e,t){return"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":"")},ud=function(e){return"carousal"===e?"carousal-modifier-product-save":"modifier-product-save"},bd=function(e){return"carousal"===e?"carousal-modifier-card-image":"modifier-card-image"},vd=function(e,t){var n=e.analyticsObject,a=e.currLocation;t||$e(n,a)},jd=function(e){var t=e.cardData,n=e.min,a=e.max,c=e.savedModifierHandler,r=e.savedModifiers,s=e.cardType,d=e.tenantReducer,l=e.modgrpId,b=e.modGrpName,v=e.updatedItems,O=e.getCartModifiers,m=t.id,f=t.name,p=t.size,h=t.dname,g=t.isDefault,N=t.imageName,I=t.isHidden,T=t.calorificInfo,S=h&&h.length&&h[0].value,A=Object(i.useState)(!1),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(i.useContext)(E.a),w=R.userOrderState,P=R.userOrderStateDispatch,L=w.pdpScreenCommons.modGroupIdsUpdated,k=hi.a.MODGROUP_IDS_UPDATE,M=hi.a.UPDATE_DEFAULT_MODGROUP,F=Ae.a.CONFIRM_UPSIZE_ANALYTICS,H=sd.SETFLAGCASE,U=Object(o.g)();Object(i.useEffect)((function(){switch(dd(v,w,m,g,O)){case H.DEFAULT:case H.FROMEDIT:_(!0),c(t,!0,r);break;case H.ITEMINCLUDES:_(!0);break;default:_(!1)}}),[m,v,g,O]);return!I&&Object(u.jsxs)("div",{className:ld(s,D),"data-testid":"click-save-product",onClick:function(){if(g||L.includes(l)){if(g){var e=L.filter((function(e){return e!==l}));P({type:M,value:e})}}else P({type:k,value:l});var i={analyticsObject:{name:f,size:p},currLocation:Object(x.C)(U.pathname)};1===n&&1===a?(vd(i,D),!D&&_(!0),c(t,"single",r)):D&&r.length>n&&r.length<=a?(_(!1),c(t,!1,r)):!D&&r.length>=n&&r.length<a&&(vd(i,D),_(!0),c(t,!0,r)),P({type:F,value:{confirmUpsizeName:b}})},children:[Object(u.jsx)(C.a,{defaultPath:Object(x.R)(null,d,!0),srcFile:Object(x.R)(N,d),className:bd(s)}),Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:"(max-width: 1023px)",srcSet:D?rd:null,alt:"",className:ud(s)}),Object(u.jsx)("img",{src:D?rd:null,alt:"",className:ud(s)})]}),Object(u.jsxs)("div",{className:"modifier-card-content",children:[Object(u.jsx)("div",{className:"title",children:S}),T&&Object(u.jsx)("div",{className:"caloricInfo",children:T})]})]})},Od=n.p+"static/media/HamburgerDownArrow.1198b568.svg",md=n.p+"static/media/filter_options_stoke.1119938d.svg",fd=function(e,t,n,a){var i=-1,c=t.map((function(e){return e.size&&{name:e.size,rate:Object(x.hb)(e.availability[0],e.additionalProperties,n,a)}})).filter((function(e){return e})).sort((function(e,t){return e.rate-t.rate})),o=e.map((function(e){return e.size&&{name:e.size,rate:Object(x.hb)(e.availability[0],e.additionalProperties,n,a)}})).filter((function(e){return e})).sort((function(e,t){return e.rate-t.rate}));return Array.from(new Set(c.map((function(e){return e.name})))).map((function(e){return c.find((function(t){return t.name===e}))})).forEach((function(e){i="regular"!=e.name?o.findIndex((function(t){return t.name==e.name&&t.rate!=e.rate})):-1})),i>=0&&o.splice(i,1),Array.from(new Set(o.map((function(e){return e.name})))).map((function(e){return o.find((function(t){return t.name===e}))}))},pd=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"upsizeOrder",addOnType:t,location:"Customization Modal"}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hd=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"confirmUpsize",changesMade:t}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gd=function(e,t){if(e!==t)return Object(u.jsx)("span",{children:":"})},Nd=function(e,t,n){return e.rate&&e.name!==t?"+".concat(n).concat(e.rate):""},xd=function(e,t,n,a){return e&&e.length&&fd(e,t,n,a).length>0},Ed=function(e){var t=e.data,n=e.min,o=e.max,r=e.showSelectedModifier,s=e.modgrpId,d=e.modGrpName,l=sd.REGULAR,b=void 0===l?"":l,v=sd.UPLIFTPLACEHOLDER,O=void 0===v?"":v,m=sd.SINGLE,f=Object(i.useContext)(E.a),p=f.userOrderState,h=f.userOrderStateDispatch,g=Object(i.useState)([]),I=Object(j.a)(g,2),T=I[0],C=I[1],S=Object(i.useState)({}),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)(!1),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(i.useState)([]),k=Object(j.a)(L,2),M=k[0],F=k[1],H=Object(i.useState)(!0),U=Object(j.a)(H,2),B=U[0],G=U[1],Y=Object(i.useState)(Object(x.Ib)(window.innerWidth)),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(t),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(N.c)((function(e){return e.cartReducer})),Z=Object(N.c)((function(e){return e.tenantReducer})),$=Z.currencySymbol,ee=Z.currencyConversionFactor,te=Z.componentOptions,ne=(null!==te&&void 0!==te?te:{}).web,ae=(ne=void 0===ne?{}:ne).global,ie=(ae=void 0===ae?{}:ae).showPriceWithTax,ce=void 0!==ie&&ie,oe=Object(i.useState)({}),re=Object(j.a)(oe,2),se=re[0],de=re[1],le=Object(i.useState)({}),ue=Object(j.a)(le,2),be=ue[0],ve=ue[1],je=Object(i.useRef)(null),Oe=Object(i.useRef)(null),me=Object(i.useRef)(null),fe={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(i.useEffect)((function(){var e=Object(x.mb)(t.length,JSON.parse(JSON.stringify(t)),[]),n=function(e,t){return Object(x.Db)(e)?t.filter((function(t){return t.size===e.name})):t}(y,e);J(Object(Oo.a)(n))}),[t]);var pe=function(e,n,i){var c=e.id;if(n===m)t.forEach((function(e){e.id===c&&F([e.id])})),C([Object(a.a)(Object(a.a)({},e),{},{itemId:c,modgrpId:s})]);else if(n){!i.some((function(t){return t.id===e.id}))&&C([].concat(Object(Oo.a)(i),[Object(a.a)(Object(a.a)({},e),{},{itemId:c,modgrpId:s})]))}else if(i.length){var o=i.filter((function(e){return e.itemId!==c}));C(o)}},he=function(){var e=Object(x.Ib)(window.innerWidth);W(e)};Object(i.useEffect)((function(){var e=function(e,t,n,a){var i,c=Ae.a.FROMFLAGEDIT,o=hi.a.MODGROUP_IDS_UPDATE;if((null===t||void 0===t||null===(i=t.minipdpData)||void 0===i?void 0:i.fromFlag)===c){var r,s,d,l=a.foodLines.find((function(e){return e.id===t.minipdpData.foodLineId})),u=null===l||void 0===l||null===(r=l.item)||void 0===r||null===(s=r.modGrps)||void 0===s?void 0:s.find((function(t){return t.id===e}));return u?(u.modifiers.filter((function(e){return!e.isDefault})).length&&!(null===t||void 0===t||null===(d=t.pdpScreenCommons)||void 0===d?void 0:d.modGroupIdsUpdated.includes(u.id))&&n({type:o,value:u.id}),u.modifiers):{}}return{}}(s,p,h,null===X||void 0===X?void 0:X.cartData);ve(e)}),[]),Object(i.useEffect)((function(){r(T)}),[JSON.stringify(T)]),Object(i.useEffect)((function(){window.addEventListener("resize",he)}),[V]),Object(i.useEffect)((function(){w?document.addEventListener("click",ge):document.removeEventListener("click",ge)}),[w]);var ge=function(e){(Object(x.r)(je.current,je.current===e.target)||Oe.current&&me.current&&Oe.current!==e.target&&!me.current.contains(e.target))&&P(!1)},Ne=function(){P(!0)},xe=function(){P(!w)},Ee=function(e,n){D(e);var a=t.filter((function(t){return t.size===e.name}));J(a),pd(n),P(!w)},Ie=function(e,n,a){var i=function(e,t,n){return Object(x.Db)(t)?(e(t),n.filter((function(e){return e.size===t.name}))):n}(D,e,t);J(i),pd(n),G(!a),P(!1)},Te=function(){D({}),de({}),G(!0)},Se=function(){var e=Nd(y,b,$);return Object(x.mb)(e.length>0,":","")};return Object(x.mb)(V,Object(u.jsxs)(c.a.Fragment,{children:[xd(t,T,ee,ce)&&Object(u.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(u.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:Ne,children:[Object(u.jsx)("span",{"data-testid":"uplift-order-text",children:Object(x.mb)(y.name,y.name+Se(),Object(Ce.e)(O))}),Object(u.jsx)("span",{className:"selected-rate",children:Nd(y,b,$)}),Object(u.jsx)("img",{className:"dropdown-img-ham",src:Od})]})}),w&&Object(u.jsx)("div",{className:"mobile-modal-filter-background",ref:je,children:Object(u.jsxs)("div",{className:"mobile-modal-filter",children:[Object(u.jsx)("div",{className:"mobile-modal-filter-container",children:Object(u.jsxs)("ul",{className:"mobile-filter-list",children:[Object(u.jsx)("li",{className:B&&0===Object.keys(y).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:Te,children:Object(u.jsx)("div",{className:"mobile-rate-container",children:Object(Ce.e)(O)})}),fd(t,T,ee,ce).map((function(e){return Object(u.jsx)("li",{className:e.name===se.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:function(){return function(e){P(!0),de(e),G(!1)}(e)},children:Object(u.jsxs)("div",{className:"mobile-rate-container",children:[Object(u.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),gd(e.name,b),Object(u.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==b?"+".concat($).concat(e.rate.toFixed(2)):""})]})},e.name)}))]})}),Object(u.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:function(){return Ie(se,d,se.name===y.name)},children:Object(Ce.e)("done")})]})}),Object(u.jsx)("div",{className:"modifier-list-items",children:Q&&Q.length>2&&be?Object(u.jsx)(Zo,{settings:fe,children:Q&&Q.length&&be?Q.map((function(e,t){return Object(u.jsx)(jd,{cardType:"carousal",min:n,max:o,cardData:e,savedModifierHandler:pe,savedModifiers:T,tenantReducer:Z,modgrpId:s,modGrpName:d,updatedItems:M,getCartModifiers:be},t)})):null}):Q&&Q.length&&be?Q.map((function(e,t){return Object(u.jsx)(jd,{cardType:"regular",min:n,max:o,cardData:e,savedModifierHandler:pe,savedModifiers:T,tenantReducer:Z,modgrpId:s,modGrpName:d,updatedItems:M,getCartModifiers:be},t)})):null})]}),Object(u.jsxs)(c.a.Fragment,{children:[xd(t,T,ee,ce)&&Object(u.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(u.jsxs)("div",{className:"language-select-uplift",ref:Oe,"data-testid":"desktop-dropdown-filter",onClick:xe,children:[Object(u.jsx)("span",{"data-testid":"uplift-order-text",children:Object(x.mb)(y.name,y.name+Se(),Object(Ce.e)(O))}),Object(u.jsx)("span",{className:"selected-rate",children:Nd(y,b,$)}),Object(u.jsx)("img",{className:"dropdown-img-ham",src:Od})]}),w&&Object(u.jsx)("div",{ref:me,children:Object(u.jsx)("ul",{className:"filter-list",children:fd(t,T,ee,ce).map((function(e){return function(e,t,n,a,i,c){return Object(u.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:function(){return t(e,n)},children:[Object(u.jsx)("span",{children:e.name}),Object(u.jsxs)("div",{className:"rate-container",children:[Object(u.jsx)("span",{className:"filter-item-rate",children:e.name!==a?"+".concat(i).concat(e.rate):""}),e.name===c.name&&Object(u.jsx)(Pa.a,{src:md,className:"selected-stroke"})]})]},e.name)}(e,Ee,d,b,$,y)}))})})]}),Object(u.jsx)("div",{className:"modifier-list-items",children:Q&&Q.length&&be?Q.map((function(e,t){return Object(u.jsx)(jd,{min:n,max:o,cardData:e,savedModifierHandler:pe,savedModifiers:T,tenantReducer:Z,modGrpName:d,modgrpId:s,updatedItems:M,getCartModifiers:be},t)})):null})]}))};var Id=function(e){var t=e.grouplist,n=void 0===t?[]:t,a=e.getSelectedModifiers,o=e.selectedModifiers,r=e.source,s=void 0===r?"":r,d=hi.a.PDP,l=Object(i.useState)(n),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)([]),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useContext)(E.a).userOrderState.pdpScreenCommons,N=g.currentAccordian,I=g.modGroupIdsUpdated,T=function(e){null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(i.useEffect)((function(){!function(){var e=function(e){var t=e.length?e:[];return t.map((function(e,t){return e.expanded=0===t,e})),t}(n);O(Object(Oo.a)(e))}()}),[JSON.stringify(n)]),Object(i.useEffect)((function(){if(Object(x.r)(N,s===d)){var e=((null===n||void 0===n?void 0:n.length)?JSON.parse(JSON.stringify(n)):[]).map((function(e,t){if(e.id===N){var n,a=(null===(n=e.modifiers)||void 0===n?void 0:n.length)>1?300:0,i=document.getElementById("accordion-"+N).offsetTop;window.scrollTo({top:i-a,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));O(Object(Oo.a)(e))}}),[N,JSON.stringify(n)]);var C=function(e){var t,n,a;if(e.length){t=e.map(JSON.stringify),n=new Set(t),a=Array.from(n).map(JSON.parse);var i=[];if(p.length){i=p;var c=p.findIndex((function(e){return e[0].modgrpId===a[0].modgrpId}));c>=0?(i.splice(c,1,a),h(Object(Oo.a)(i))):h([].concat(Object(Oo.a)(i),[a]))}else h((function(e){return[].concat(Object(Oo.a)(e),[a])}))}};Object(i.useEffect)((function(){p.length&&a(p),o(p)}),[p]);var S=function(e){var t,n=[],a=Object(ve.a)(p);try{for(a.s();!(t=a.n()).done;){var i,c=t.value,o=Object(ve.a)(c);try{for(o.s();!(i=o.n()).done;){var r=i.value;r.modgrpId===e&&r.dname&&r.dname.length&&n.push(r.dname[0].value)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){a.e(s)}finally{a.f()}return n.join(", ")};return v.map((function(e,t){var n=e.id,a=e.name,i=e.modifiers,o=e.expanded,r=e.min,s=e.max,d=function(e){var t=!1;return I&&I.length&&Object(Oo.a)(new Set(I)).includes(e)&&(t=!0),t}(n);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"accordian-container",id:"accordion-"+n,"data-testid":"product-listing-accordion-".concat(t),children:[Object(u.jsxs)("div",{className:"accordian-header",children:[Object(u.jsxs)("div",{className:"".concat(o?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(n),onClick:function(e){return function(e,t){e&&T();var n=v.length?JSON.parse(JSON.stringify(v)):[];n.map((function(e,n){return e.id===t&&(e.expanded=!e.expanded),e})),O(Object(Oo.a)(n))}(e,n)},children:[Object(u.jsx)("span",{className:"accordion-test",tabIndex:"0",children:a}),d?Object(u.jsx)("span",{className:"updatedBadge",children:Object(Ce.e)("updated")}):null]}),Object(u.jsx)("span",{className:"selected-mod",children:p.length&&S(n)})]}),Object(u.jsx)("div",{className:"".concat(o?"panel panel-active":"panel"),children:Object(u.jsx)(Ed,{modgrpId:n,modGrpName:a,data:i,min:r,max:s,showSelectedModifier:C})})]})},t)}))},Td=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.add_to_cart.name,{data:{event:"add_to_cart",ecommerce:{add_to_cart:{items:[t]}}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cd=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":t||"NA"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sd=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":t||"NA"},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ad=function(e){var t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},yd=function(e){var t,n=e.data,a=e.categoryId,o=e.handleClose,r=e.showPriceContent,s=void 0===r||r,d=e.source,l=void 0===d?"":d,b=n.id,v=n.modgrps,O=n.availability,f=void 0===O?[]:O,p=n.additionalProperties,h=void 0===p?[]:p,g=Object(i.useContext)(E.a),I=g.userOrderState,T=g.userOrderStateDispatch,C=I.confirmUpsizeName,S=I.minipdpData,A=Object(i.useState)(v),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(i.useState)([]),w=Object(j.a)(R,2),P=w[0],L=w[1],k=Object(N.b)(),M=Object(N.c)((function(e){return e.tenantReducer})),F=Object(N.c)((function(e){return e.cartReducer})),H=F||{},U=H.cartData,B=void 0===U?{}:U,G=H.isAddItemLoading,Y=void 0!==G&&G,K=M.currencySymbol,V=M.tenantId,W=M.currencyConversionFactor,q=M.maxItemCountPerLineItem,z=M.componentOptions,Q=(z=void 0===z?{}:z).web,J=(Q=void 0===Q?{}:Q).global,X=(J=void 0===J?{}:J).showPriceWithTax,Z=void 0!==X&&X,$=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,ee=($=void 0===$?{}:$).productMapById,te=void 0===ee?{}:ee,ne=Object(i.useState)(0),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=Object(x.hb)(f[0],h,W,Z),re=sd.ADDTOCART,se=sd.UPDATECART,de=Ae.a.FROMFLAGEDIT,le=Ae.a.EDIT_CLICKED,ue=(ls.d.ACCOUNT_FAV_PAGE,Object(i.useState)(1)),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=Object(i.useState)(0),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=ur.ITEM_QUANTITY,ge=Object(i.useState)(!1),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)(null),Te=Object(j.a)(Ie,2),Se=Te[0],ye=Te[1];Object(i.useEffect)((function(){var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:D,modifiedItemPrice:ie})}),[D]),Object(i.useEffect)((function(){var e=Object(x.Db)(B)?Object(x.X)(b,B):{},t=Object(x.Db)(e)?e.count:0;if(pe(t),S.fromFlag===de){var n=Object(x.Db)(B)?Object(x.Y)(S.foodLineId,B):{},a=Object(x.Db)(n)?n.count:1;je(a)}}),[B]),Object(i.useEffect)((function(){return function(){T({type:le,value:{cartEditClicked:!1}})}}),[T,le]);Object(i.useEffect)((function(){xe&&!Y&&o(Se)}),[xe,Y]),Object(i.useEffect)((function(){return window.addEventListener("keydown",Ad),function(){window.removeEventListener("keydown",Ad)}}));var De,_e=S.fromFlag===de?Object(Ce.e)(se):Object(Ce.e)(re);return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(u.jsx)("form",{className:"form",children:Object(x.Db)(v)?Object(u.jsx)(Id,{grouplist:v,getSelectedModifiers:function(e){var t=0,n=[];e.forEach((function(e){var i={};i.id=e[0].modgrpId,i.modifiers=[],e.forEach((function(e){var n={},c=JSON.parse(JSON.stringify(e));n.id=c.id,n.quantity=c.defaultQuantity,n.modGrps=c.modgrps,n.categoryId=a,i.modifiers.push(n);var o=Object(x.hb)(e.availability[0],e.additionalProperties,W,Z);t+=o})),n.push(i)})),ce(oe+t),_(n)},selectedModifiers:L,source:l}):null})}),s&&Object(u.jsx)("div",{className:"price-content",children:Object(u.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[ve?Object(u.jsx)(ss,{itemCount:ve,itemQuantity:he,updateItemQuantity:function(e,t){t===Fn.a.QUANTITY_ACTION.Increase?je((function(e){return e+1})):je((function(e){return e-1}))},quantityAction:Fn.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:q,cartItemCount:fe+1}):null,Object(u.jsxs)(Ot.a,{className:"button start-order-btn ".concat(Y?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:function(e){return function(e){var t,i,c,o,r="";e.stopPropagation(),e.preventDefault(),ye(e),Ee(!0);var s=null!==(t=null===te||void 0===te?void 0:te[null===n||void 0===n?void 0:n.id])&&void 0!==t?t:{},d=s.categoryId,l=void 0===d?"NA":d,u=s.categoryName,v=void 0===u?"NA":u;m.a.forEach(P,(function(e){r+="".concat(e[0].name,", ")})),Td({item_name:Object(x.Z)(null===n||void 0===n?void 0:n.name),item_id:Object(x.Z)(null===n||void 0===n?void 0:n.id),item_category:v,price:Object(x.Z)((null===n||void 0===n||null===(i=n.availability)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.price)/W),item_variant:Object(x.Z)(null===(o=r)||void 0===o?void 0:o.trim()),item_list_name:v,item_list_id:l,index:1,quantity:ve}),S.fromFlag!==de?k(Object(Ct.a)({params:{basketId:F&&F.cartData&&F.cartData.id},tenantId:V},[{Id:b,categoryId:a,quantity:ve,modGrps:D}])):k(Object(Ct.v)({params:{basketId:F&&F.cartData&&F.cartData.id,basketLineItemId:S.foodLineId},tenantId:V},{Id:b,quantity:ve,modGrps:D})),k(Object(Ct.r)(new Date)),T({type:Fn.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:b,addedFrom:"PLP-Model"}}}),hd(C)}(e)},children:[Object(u.jsx)("span",{className:"title-for-button",children:"".concat(_e)}),Object(u.jsx)("span",{className:"currency-symbol",children:"".concat(K," ").concat((De=ie,(ve*De).toFixed(2)))})]})]})})]})},Dd=function(e){if(e){var t,n=JSON.parse(JSON.stringify(e));return n.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((function(e){return!e.isHidden})),n}return{}},_d=function(e){var t=e.isModal,n=void 0===t||t,a=e.showPriceContent,i=void 0===a||a,c=e.callBackToPDP,o=e.data,r=void 0===o?{}:o,s=e.source,d=void 0===s?"":s,l=sd.MODALHEADERTEXT,b=void 0===l?"":l,v=Object(N.c)((function(e){return e.menuReducer.currentItemDetails})),j=Object(x.Db)(r)?Dd(r):Dd(v),O=Object(N.b)(),m=Object(N.c)((function(e){return e.cartReducer})),f=function(e){e.stopPropagation(),e.preventDefault(),O(Object(Ct.s)({showProductListingModal:!1,categorySelected:""}))},p=Object(u.jsx)(yd,{data:j,categoryId:m.categorySelected,handleClose:f,showPriceContent:i,callBackToPDP:c,"data-testid":"product-listing-modal-enabled",source:d}),h=Object(u.jsx)(od,{handleClose:f,ProductListingModalForm:p,headerText:Object(Ce.e)(b),"data-testid":"product-listing-inside-modal"}),g=Object(u.jsx)("div",{className:"pdp-custm",children:p});return n?_i.a.createPortal(h,document.getElementById("modal-popups")):g},Rd=function(e){var t=e.cardRenderer,n=e.productList,a=e.carousal,i=e.header,c=void 0===i?"":i,o=e.subHeader,r=void 0===o?"":o,s=e.settings,d=e.maxLengthToScroll,l=e.slidesToShow,b=e.rangeValue,v=e.onUpdateRange,j=e.showProductListingModal,O=e.isMobile,m=e.recommendedRule,f=e.flagUpsellCrossell;return Object(u.jsxs)(u.Fragment,{children:[Boolean(null===n||void 0===n?void 0:n.length)&&Object(u.jsxs)("div",{className:"recommendedCard-container","data-testid":"recommendedCard-container-test",children:[Object(u.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(u.jsxs)("div",{className:r?"pdp-carousal-header":"recommendedContainer-header",children:[Object(u.jsx)("span",{className:"main-header",children:c}),r&&Object(u.jsx)("span",{className:"sub-header",children:r})]}),Object(u.jsxs)("span",{className:"count_box",children:[Math.round(b+1),"/",n.length]})]}),Object(u.jsxs)("div",{className:"recommendedCard-list",children:[Object(u.jsx)("div",{className:"recommendedCarousal-list",children:Object(u.jsx)(Zo,{settings:s,carousalRef:a,children:t()})}),n.length>d&&Object(u.jsx)("div",{className:"recommended-slideContainer",children:Object(u.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:n.length-l,value:b,id:"myRange","data-testid":"myRange",onChange:v})})]})]}),Object(x.r)(j,m===f)&&Object(u.jsx)("div",{className:"pdp-custm-container ".concat(O?"mobile":""),children:Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(_d,{})})})]})},wd=function(e){var t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"},Pd=function(e){var t,n,a,o,r,s=e.isMobile,d=e.IndulgentData,l=Fn.a.INDULGENT_ADD_ON,b=Fn.a.ADD_TO_CART_CLICK,v=l.HEADER,O=l.SLIDES_TO_SCROLL,m=l.SLIDES_TO_SHOW,f=l.ADD_TO_CART,p=Object(i.useState)(0),h=Object(j.a)(p,2),g=h[0],I=h[1],T=Object(i.useState)(0),S=Object(j.a)(T,2),A=S[0],y=S[1],D=Object(i.useState)(1),_=Object(j.a)(D,2),R=_[0],w=_[1],P=Object(i.useContext)(E.a),L=P.userOrderState,k=P.userOrderStateDispatch,M=Object(N.b)(),F=Object(N.c)((function(e){return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{}}})),H=F.cartReducer,U=F.userParams,B=F.tenantReducer,G=B.currencyConversionFactor,Y=B.componentOptions,K=(Y=void 0===Y?{}:Y).web,V=(K=void 0===K?{}:K).global,W=(V=void 0===V?{}:V).showPriceWithTax,q=void 0!==W&&W,z=Object(x.Cb)(L.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):L.dispositionNew,Q=z?z.store:{},J=(null===Q||void 0===Q||null===(t=Q.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)&&(null===Q||void 0===Q||null===(o=Q.summary)||void 0===o||null===(r=o.menu)||void 0===r?void 0:r.catalogs[0])||(null===B||void 0===B?void 0:B.genericMenuName)||"",X=c.a.useRef(null),Z={dots:!1,infinite:!1,speed:500,slidesToShow:m,slidesToScroll:O,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(_r,{clickNextCard:function(){if(g<d.length-1){var e=0;e=g+O>d.length-m-1?d.length-m:g+O,wd(e),I(e),X.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(Rr,{clickPrevCard:function(){g>0&&(I(g-O),X.current.slickGoTo(g-O)),wd(g-O)}}),beforeChange:function(e,t){return y(t)},afterChange:function(e,t){return I(e)},variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:5,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:4,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:function(e,t){w(Math.round(t+1))}}}]};return Object(u.jsxs)("div",{className:"indulgent-container",children:[Object(u.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(u.jsx)("span",{className:"indulgent-header",children:Object(Ce.e)(v)}),s?Object(u.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[R,"/",d&&d.length]}):null]}),Object(u.jsx)("div",{className:"indulgent-card-list",children:Object(u.jsx)(Zo,{settings:Z,carousalRef:X,children:d.map((function(e,t){return Object(u.jsxs)("div",{className:"indulgent-card",children:[Object(u.jsx)(C.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(x.R)(null,B,!0),srcFile:Object(x.R)(e.imageName,B)}),Object(u.jsxs)("div",{className:"indulgent-card-content",children:[Object(u.jsx)("div",{className:"indulgent-card-header",children:e.dname[0].value}),Object(u.jsxs)("div",{className:"indulgent-card-price",children:[B.currencySymbol,Object(x.hb)(null===e||void 0===e?void 0:e.availability[0],null===e||void 0===e?void 0:e.additionalProperties,G,q)]}),Object(u.jsxs)(Ot.a,{className:"button redButton indulgent-card-button","aria-label":Object(Ce.e)(f)+" "+e.dname[0].value,"data-testid":"add-to-cart",onClickHandler:function(t){!function(e,t,n,a){var i=t.split("_")[0]||"";e.stopPropagation(),U.localized?n?M(Object(pi.c)({tenantId:B.tenantId,catalogName:J,itemId:t})):(M(Object(Ct.a)({params:{basketId:H&&H.cartData&&H.cartData.id},tenantId:B.tenantId},[{Id:t,categoryId:i,quantity:1,modGrps:[]}])),M(Object(Ct.r)(new Date))):k({type:b,value:{addToCart:!0,productItemId:t,categoryId:i,oldProduct:a,customizable:n,catalogs:J,fromPdpPage:!1}})}(t,e.id,!1,{productName:e.dname[0].value,productImage:e.imageName,productPrice:e.availability[0].price/B.currencyConversionFactor}),t.preventDefault(),t.stopPropagation()},children:[Object(Ce.e)(f),Object(u.jsx)(C.a,{className:"add-to-cart-Icon",srcFile:ks.a})]})]})]},t)}))})}),s||d.length<3?null:Object(u.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(u.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:d.length-function(){var e=window.innerWidth;return e>1350&&e<1650?4:e>1650&&e<=1920?5:m}(),value:A,id:"myRange",onChange:function(e){y(e.target.value),X.current.slickGoTo(e.target.value)}})})]})},Ld=ts,kd=es,Md=$r,Fd=Xr,Hd=Jr,Ud=Zr,Bd=Ae.a.ADD_TO_CART_CLICK,Gd=Ae.a.MINI_PDP_DATA,Yd=Ae.a.FROMFLAGPLP,Kd=Ae.a.EDIT_CLICKED,Vd=(Ae.a.PDP_URL,hi.a.RESET_MODGROUP_IDS_UPDATE),Wd=hi.a.UPSELL,qd=hi.a.PDP,zd=kd.SPEED,Qd=kd.SLIDES_TO_SHOW,Jd=kd.SLIDES_TO_SCROLL,Xd=Ld.PDP_SLIDES_TO_SHOW,Zd=Ld.PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL,$d=function(e,t){var n="recommended-card";return e===t+Ud&&(n+=" recommendedCard-fade"),n},el=function(e){var t,n,c,r,s,d=e.products,l=e.storeClosedData,b=e.header,v=void 0===b?"":b,O=e.subHeader,m=void 0===O?"":O,f=e.cssClass,p=void 0===f?"":f,h=e.recommendedRule,g=e.source,I=void 0===g?"":g,C=Object(i.useState)(0),S=Object(j.a)(C,2),A=S[0],y=S[1],D=Object(i.useState)(0),_=Object(j.a)(D,2),R=_[0],w=_[1],P=Object(i.useRef)(null),L=Object(i.useState)(Object(x.Ib)(window.innerWidth)),k=Object(j.a)(L,2),M=k[0],F=k[1],H=Object(i.useContext)(E.a),U=H.userOrderState,B=H.userOrderStateDispatch,G=Object(N.b)(),Y=function(e){return{maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?Zd:Hd,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?Xd:Qd}}(p),K=Y.maxLengthToScroll,V=Y.slidesToShow,W=U.dispositionStateData,q=(void 0===W?T.Ib:W).dispositionType,z=void 0===q?localStorage.getItem("dispositionType"):q,Q=Object(i.useState)(),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(N.c)((function(e){return{tenantReducer:Object(x.ub)(e.tenantReducer),cartReducer:Object(x.ub)(e.cartReducer),userParams:Object(x.ub)(e.appStateReducer.userStatus)}})),ee=$.tenantReducer,te=$.cartReducer,ne=$.userParams,ae=Object(x.ub)(te).showProductListingModal,ie=void 0!==ae&&ae,ce=Object(o.g)(),oe=((null===ee||void 0===ee?void 0:ee.componentOptions)||T.Ib).PlpProductCard,re=void 0===oe?T.Ib:oe,se=Object(x.Cb)(U.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):U.dispositionNew,de=se?se.store:T.Ib,le=(null===de||void 0===de||null===(t=de.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(c=n.catalogs)||void 0===c?void 0:c.length)&&(null===de||void 0===de||null===(r=de.summary)||void 0===r||null===(s=r.menu)||void 0===s?void 0:s.catalogs[0])||(null===ee||void 0===ee?void 0:ee.genericMenuName)||"",ue=null===d||void 0===d?void 0:d.filter((function(e){return!e.isHidden})),be=I===qd?ue:null===ue||void 0===ue?void 0:ue.filter((function(e){var t=ka.b.channel,n=function(e){var t=T.eb;return e===T.s&&(t=T.r),e===T.w&&(t=T.v),t}(z);return e.channel===t&&e.service===n})),ve=Ai(void 0,void 0,void 0,void 0,B,G,void 0).showCartAlert,je=function(){ve(!0)},Oe={dots:!1,infinite:!1,speed:zd,slidesToShow:V,slidesToScroll:Jd,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:[{breakpoint:Fd,settings:{slidesToShow:Md,arrows:!0,swipeToSlide:!0}}]},me=function(){var e=Object(x.Ib)(window.innerWidth);F(e)};Object(i.useEffect)((function(){window.addEventListener("resize",me)}),[M]);var fe=Object(a.a)(Object(a.a)({},Oe),{},{nextArrow:Object(u.jsx)(ns,{clickNextCard:function(){if(R<be.length-1){var e=0;e=R+Jd>be.length-V-1?be.length-V:R+Jd,wd(e),w(e),P.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(as,{clickPrevCard:function(){R>0&&(w(R-Jd),P.current.slickGoTo(R-Jd)),wd(R-Jd)}}),beforeChange:function(e,t){return y(t)},afterChange:function(e,t){return w(e)}}),pe=function(e,t,n,a){var i,c=t.split("_")[0]||"";(h===Wd&&et(),e&&e.stopPropagation(),ne.localized)?n?(Z(h),B({type:Gd,value:{id:t,flag:Yd,foodLineId:""}}),B({type:Vd}),B({type:Kd,value:{cartEditClicked:!0}}),G(Object(pi.c)({tenantId:ee.tenantId,catalogName:le,itemId:t}))):(G(Object(Ct.a)({params:{basketId:null===te||void 0===te||null===(i=te.cartData)||void 0===i?void 0:i.id},tenantId:ee.tenantId},[{Id:t,categoryId:c,quantity:1,modGrps:T.Fb}])),G(Object(Ct.r)(new Date))):B({type:Bd,value:{addToCart:!0,productItemId:t,categoryId:c,oldProduct:a,customizable:n,catalogs:le,fromPdpPage:!1}})},he=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){var e=Object(x.ob)(he,U);Object(x.r)(e,X===h)&&G(Object(Ct.s)({showProductListingModal:!0,categorySelected:""}))}),[he,U.minipdpData.itemId,U.cartEditClicked]),Object(i.useEffect)((function(){ie&&G(Object(Ct.s)({showProductListingModal:!1,categorySelected:""}))}),[ce]);var ge=function(e,t,n){G(Object(pi.a)({tenantId:e,customerId:n},t))},Ne=function(e,t,n){G(Object(pi.b)({tenantId:e,customerId:t,itemId:n}))};return Boolean(null===be||void 0===be?void 0:be.length)&&Object(u.jsx)(Rd,Object(a.a)({cardRenderer:function(){return be.map((function(e,t){var n=Object(x.tb)(e.additionalProperties),i=n.length&&n.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Re.a)({},n,"True"==i||"False"!=i&&i))}),T.Ib);return Object(u.jsx)("div",{className:$d(t,R),children:Object(u.jsx)(cd,Object(a.a)(Object(a.a)({item:e,cardId:e.id,cardType:"medium",cardFor:"recommended",configureOptions:re,tenantData:ee,servingCount:null===i||void 0===i?void 0:i.servings,button:e.button,categoryId:"",clickHandler:pe,customizable:e.customizable,onCardClickHandler:function(){},userParams:ne,storeClosedData:l,addFavourite:ge,removeFavourite:Ne,"data-testid":"menu-card-component",openAlertModal:je},i),e),e.id)})}))},productList:Object(Oo.a)(be),carousal:P,header:v,subHeader:m,settings:fe,maxLengthToScroll:K,slidesToShow:V,rangeValue:A,onUpdateRange:function(e){y(e.target.value),P.current.slickGoTo(e.target.value),wd(e.target.value)},showProductListingModal:ie,isMobile:M,flagUpsellCrossell:X},e))},tl=function(e){var t,n,c=e.products,o=e.country,r=e.cssClass,s=void 0===r?"":r,d=Object(i.useContext)(E.a).userOrderState,l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useMemo)((function(){return Object(x.Cb)(d.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):d.currentStoreInfo}),[d.currentStoreInfo]),f=Object(x.ub)(null===m||void 0===m||null===(t=m.summary)||void 0===t?void 0:t.timings),p=f.futureDates,h=f.scheduled,g=f.asap,N=Object(x.ub)(h).unavailibilities,I=Object(x.ub)((null===h||void 0===h||null===(n=h.periods)||void 0===n?void 0:n.length)&&(null===h||void 0===h?void 0:h.periods[0])),T=I.interval,C=void 0===T?0:T,S=I.startEndTime,A=void 0===S?{}:S,y=A.from,D=A.to,_=Object(i.useCallback)((function(){if(Object(x.Db)(m)){var e,t,n=null===(e=m.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=nc(y,D,C,null===g||void 0===g?void 0:g.isAvailable,1===(null===p||void 0===p?void 0:p.length)&&(null===o||void 0===o?void 0:o.toUpperCase())===Ze,N);"CLOSED"!==n||a.length?O(!1):O(!0)}else O(!1)}),[m]);return Object(i.useEffect)((function(){_()}),[_]),Object(u.jsx)("div",{className:"recommended-container ".concat(s),"data-testid":"recommended-container",children:Object(u.jsx)(el,Object(a.a)({"data-testid":"recommended-items",products:c,storeClosedData:{isStoreClosed:v}},e))})},nl={MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},al="continue",il="cancel",cl=n.p+"static/media/Cart_Error.f878d4a7.svg",ol=function(e){var t=(Object(N.c)((function(e){return e.cartReducer}))||{}).cartData,n=void 0===t?{}:t,a=(Object(N.c)((function(e){return e.tenantReducer}))||{}).tenantId,c=void 0===a?"":a,o=Object(i.useContext)(E.a),r=o.userOrderState,s=o.userOrderStateDispatch,d=r.modalToOpenOnConfirm,l=r.modalOpenFrom,b=r.confirmCallBack,v=Object(N.b)(),j=nl,O=al,m=il,f=Ae.a.SHOW_CLEAR_CART_ALERT,p=Ae.a.DISPOSITION_DATA,h=Ae.a.SEARCH_ORDER_DATA,g=Ae.a.SCHEDULE_ORDER_DATA,I=Ae.a.clearCartChangeFlag,T=Ae.a.orderTypeAlertTitle,C=Ae.a.searchStoreAlertTitle,S=Object(x.Cb)(r.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):r.dispositionNew,A=function(){s({type:f,value:{showCartClearAlert:!1}}),l===I&&s({type:g,value:{showScheduleOrder:!0,selectedStoreInfo:S.store,changeFlow:!0}})};return Object(u.jsx)(Ri,{handleClose:A,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(yi,{splitTitle:j,imageSrc:cl,altText:"cart-error",confirmButtonText:Object(Ce.e)(O),cancelButtonText:Object(Ce.e)(m),cancelHandler:A,confirmHandler:function(){if(n.discountLines.length>0){var e=n.discountLines.map((function(e){return e.id}));v(Object(Ct.k)({params:{basketId:n.id},tenantId:c,shouldClearCart:!0},e))}else v(Object(Ct.l)({basketId:n.id,tenantId:c}));v(Object(Ct.r)(new Date)),s({type:f,value:{showCartClearAlert:!1}}),b&&b(),d===T?s({type:p,value:{showDisposition:!0}}):d===C&&s({type:h,value:{showSearchStore:!0}})}})})},rl=("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}).REACT_APP_TENANT_IMAGE_BASE_URL,"15895bb59f7b4bb588ee933f8cd5344a/images/items/"),200),sl=3,dl=1,ll=1024,ul=1,bl=n.p+"static/media/Reorder.55ee8463.svg",vl="cancel",jl="Account - Occasions",Ol="HomePage - Reorder",ml={LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",SET_DISPOSITION:"SET_DISPOSITION",CLOSED:"CLOSED",DELIVER_TO:"deliveryTo",WHEN:"when",PLEASE_REVIEW_YOUR_ORDER:"pleaseReviewYourOrder",QUICK_ORDER:"quickOrder",TODAY:"today",ASAP:"asap",ITEMS:"items",WANT_TO_MODIFY:"wantToModify",ITEM_ADDED_TO_CART_MSG:"itemAddedToCartMsg",KEEP_SHOPING:"keepShoping",ADD_A_COUPON:"addACoupon",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",TOTAL:"total",CONTINUE_TO_PAYMEN:"continuePayment",CLEAR_CART_MSG:"clearCartActionText",CLEARE_AWARE_MSG:"clearCartAwareText",CLEAR_CART_COMPLETE_MSG:"clearCartCompleteText",STORE_CLOSED:"storeClosed",DELIVERY_NOT_AVAIALABLE:"deliveryNotAvailable",PRICE_CHANGE_TEXT:"cartItems",PRICE_CHANGE_MAIN:"priceChangedCartMain",ITEM_UNAVAILABLE:"itemUnavailable",SERVICE_CHANNEL:"web",UNAVAILABLE:"unavailable",UNAVAILABLE_TEXT:"unavailableCartText",DINE_IN:"dine-in",TAKEAWAY:"takeaway",DINE_IN_TEXT:"dineIn",GENERIC_ERROR:"generic_error",CHECKOUT:"checkout",DISPOISTIONUN_AVAL:"dispositionUnavalMsg",UNAVAILABLE_ERROR:"sorryUnaval",CART:"cart",SCHEDULE_ORDER_DATA:"scheduleOrderData",CHANGE_ORDER_SETTING:"changeOrderSettings"},fl=Fn.a.ANALYTICS_EVENTS,pl=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=[]).push(Object(Re.a)({event:t.eventType},n,t.selectedData)),console.log(i,"reoder"),e.next=5,je.a.registerEvent(null===we.a||void 0===we.a||null===(a=we.a.add_to_cart)||void 0===a?void 0:a.name,{data:i[0]},x.D);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hl=function(e,t){var n=t.foodLineItem,a=t.checkProductPriceAndAvail,i=t.itemMapById,c=t.reOrderAnalyticEvent,o=t.menuItemsMapById,r=null===n||void 0===n?void 0:n.filter((function(e){var t;return a(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,i)}));0!==(null===r||void 0===r?void 0:r.length)&&c&&function(e,t,n){var a=window.location.href,i=Object(Oo.a)(e).map((function(e,i){var c,o,r,s,d,l,u=((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2),b=[];null===e||void 0===e||null===(c=e.item)||void 0===c||null===(o=c.modGrps)||void 0===o||o.forEach((function(e){var t;b.push(null===e||void 0===e||null===(t=e.modifiers[0])||void 0===t?void 0:t.name)}));var v=null!==(r=null===n||void 0===n?void 0:n[null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.id])&&void 0!==r?r:{},j=v.categoryId,O=void 0===j?T.Y:j,m=v.categoryName,f=void 0===m?T.Y:m,p=localStorage.getItem(T.n);return{item_name:Object(x.s)(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.name,T.Y),item_id:Object(x.s)(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,T.Y),item_category:f,price:Object(x.s)(parseFloat(u),T.Y),item_variant:Object(x.s)(b.join(", "),T.Y),item_list_name:(null===a||void 0===a?void 0:a.endsWith(T.a))?p:Object(Ce.e)(Ol),item_list_id:O,index:i+1,quantity:null===e||void 0===e?void 0:e.quantity}}));pl({eventType:fl.ADD_TO_CART,selectedData:{add_to_cart:{items:i}}},T.C)}(r,e,o)},gl=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,je.a.registerEvent(null===we.a||void 0===we.a||null===(t=we.a.trackOrder)||void 0===t?void 0:t.name,{data:{event:"trackOrder",orderValue:n}},x.D);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nl=function(e,t){return t&&"".concat(Object(ye.l)(e,"llll").split(" ")[0]," ").concat(Object(ye.l)(e,t.toUpperCase()))},xl=function(e){var t=e.order,n=e.tenantReducerData,a=e.reorderBtnHandler,c=e.viewRecipetHandler,o=Object(i.useState)(Object(x.Ib)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=n.dateFormat,b=n.currencyConversionFactor,v=n.currencySymbol,O=n.addHope,m=n.carryBag,f=t.items,p=(void 0===f?[]:f).filter((function(e){return(null===e||void 0===e?void 0:e.name)!==O&&(null===e||void 0===e?void 0:e.name)!==m})),h=function(){var e=Object(x.Ib)(window.innerWidth);d(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}}),[s]),Object(u.jsxs)("div",{className:"pastorder-card ml-0",children:[Object(u.jsx)("p",{className:"pastorder-card-main-text mt-3 mb-1",children:t.name?t.name:Nl(t.orderedOn,l)}),Object(u.jsxs)("p",{className:"pastorder-card-decomposition-text",children:["".concat(p.length," Items")," \u2022 ",Object(x.G)(t.service)," \u2022","".concat(v).concat((t.total/b).toFixed(2))]}),Object(u.jsxs)("div",{className:"pastorder-pastorders-images",children:[p.map((function(e,t){return t<3?Object(u.jsxs)("div",{className:"item-desc",children:[Object(u.jsx)("span",{className:"item-quantity",children:null===e||void 0===e?void 0:e.quantity}),Object(u.jsx)("span",{className:"item-name",children:null===e||void 0===e?void 0:e.name})]},t):null})),p.length>3&&Object(u.jsx)("span",{children:"..."})]}),Object(u.jsxs)("div",{className:"pastorder-card-button-conatiner",children:[Object(u.jsx)("p",{className:"pastorder-view-details","data-testid":"view-reciept-".concat(null===t||void 0===t?void 0:t.id),onClick:c,children:Object(Ce.e)("viewReceipt")}),Object(u.jsxs)(Ot.a,{"data-testid":"pastorder-card-button-test",className:"pastorder-card-button","aria-label":"Reorder button",children:[Object(u.jsx)("img",{src:bl,className:"account-icon mr-1"}),Object(u.jsx)("span",{onClick:function(){a(t),function(e,t){pl({eventType:"reorder",selectedData:e.name?e.name:Nl(e.orderedOn,l)},"orderName")}(t)},"data-testid":"pastorder-btn-test-".concat(null===t||void 0===t?void 0:t.id),children:Object(Ce.e)("reorderBtn")})]})]})]})},El=function(e){var t=e.onCancel,n=e.onContinue,a=ml.CLEAR_CART_MSG,i=ml.CLEARE_AWARE_MSG,c=ml.CLEAR_CART_COMPLETE_MSG;return Object(u.jsxs)("div",{className:"reorder-modal-container",children:[Object(u.jsxs)("div",{className:"reorder-error-container",children:[Object(u.jsx)("img",{src:cl,alt:"error-cart-icon",className:"error-icon mb-3"}),Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(u.jsx)("span",{children:Object(Ce.e)(i)}),Object(u.jsx)("span",{className:"red-text",children:Object(Ce.e)(a)}),Object(u.jsx)("span",{children:Object(Ce.e)(c)})]})]}),Object(u.jsxs)("div",{className:"reorder-modal-btn",children:[Object(u.jsx)(Ot.a,{"data-testid":"confirmation-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(Ce.e)("cancel")}),Object(u.jsx)(Ot.a,{"data-testid":"continue-button",className:"button blackButton blackBorder save-button",onClickHandler:n,children:Object(Ce.e)("continue")})]})]})},Il=n(61),Tl=n.n(Il),Cl=n(134),Sl=ml.DELIVER_TO,Al=ml.TOTAL,yl=ml.DISCOUNT,Dl=ml.SUBTOTAL,_l=ml.WHEN,Rl=ml.PLEASE_REVIEW_YOUR_ORDER,wl=ml.TODAY,Pl=ml.ASAP,Ll=ml.ITEMS,kl=ml.WANT_TO_MODIFY,Ml=ml.ITEM_ADDED_TO_CART_MSG,Fl=ml.KEEP_SHOPING,Hl=ml.ADD_A_COUPON,Ul=ml.CONTINUE_TO_PAYMEN,Bl=ml.PRICE_CHANGE_MAIN,Gl=ml.PRICE_CHANGE_TEXT,Yl=ml.UNAVAILABLE,Kl=ml.TAKEAWAY,Vl=ml.DINE_IN_TEXT,Wl=ml.STORE_CLOSED,ql=ml.GENERIC_ERROR,zl=ml.GST,Ql=ml.CLOSED,Jl=ml.SET_DISPOSITION,Xl=ml.SEARCH_IN_CART,Zl=ml.LARGE_CARRY_BAG,$l=ml.ADD_HOPE_TEXT,eu=ml.DISPOISTIONUN_AVAL,tu=ml.UNAVAILABLE_ERROR,nu=ml.QUICK_ORDER;var au=function(e){var t,n=e.onCancel,c=e.onContinue,r=e.onAddCoupon,s=e.storeInfo,d=void 0===s?{}:s,l=e.isBasketAdded,b=d.summary,v=void 0===b?{}:b,O=d.service,m=void 0===O?"":O,f=Object(x.ub)(v).status,p=void 0===f?{}:f,h=Object(x.ub)(p).currentStatus,g=(void 0===h?"":h)!==Ql,I=Object(N.b)(),S=Object(i.useState)(0),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)(0),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(i.useState)(!1),k=Object(j.a)(L,2),M=k[0],F=k[1],H=Object(i.useState)(!1),U=Object(j.a)(H,2),B=U[0],G=U[1],Y=Object(i.useState)(),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useContext)(E.a),z=q.userOrderState,Q=q.userOrderStateDispatch,J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(""),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(0),ce=Object(j.a)(ie,2),re=ce[0],se=ce[1],de=Object(i.useState)(0),le=Object(j.a)(de,2),ue=le[0],be=le[1],ve=Object(i.useState)([]),je=Object(j.a)(ve,2),Oe=je[0],me=je[1],fe=Object(i.useState)(!1),pe=Object(j.a)(fe,2),he=pe[0],ge=pe[1],Ne=Object(i.useState)(!1),xe=Object(j.a)(Ne,2),Ee=xe[0],Ie=xe[1],Te=Object(i.useState)(!1),Se=Object(j.a)(Te,2),Ae=Se[0],De=Se[1],_e=Object(x.Cb)(z.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):z.dispositionNew,Re=Object(N.c)((function(e){return e})),we=Re.tenantReducer,Pe=Re.postOrderReducer,Le=Re.reorderReducer,ke=Re.cartReducer,Me=Re.profileReducer,Fe=Re.appStateReducer,He=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,Ue=(He=void 0===He?{}:He).itemMapById,Be=void 0===Ue?{}:Ue,Ge=Object(Ce.e)(Wl),Ye=null===Ge||void 0===Ge?void 0:Ge.replace("%storeName%",null===v||void 0===v?void 0:v.name),Ke=Object(o.f)(),Ve=Object(x.ub)(ke),We=Ve.cartData,qe=void 0===We?{}:We,ze=Ve.qrCodeScanTime,Qe=Object(x.ub)(qe).errors,Je=void 0===Qe?[]:Qe,Xe=we.tenantId,Ze=we.currencySymbol,$e=we.currencyConversionFactor,et=we.addHope,tt=we.carryBag,nt=Object(x.ub)(Pe).orderAccepted,at=void 0===nt?{}:nt,it=Le.flatResponse,ct=Object(x.ub)(it).items,ot=void 0===ct?[]:ct,rt=Object(x.J)(Le).flatResponse,st=(rt=void 0===rt?{}:rt).itemMapById,dt=void 0===st?{}:st,lt=Me.customerId,ut=en.timingsSampleData,bt=Object(x.ub)(Fe).userStatus,vt=at.deliveryAddress,jt=void 0===vt?{}:vt,mt=at.foodLines,ft=void 0===mt?[]:mt,pt=at.subTotal,ht=at.total,gt=at.taxLines,Nt=void 0===gt?[]:gt,xt=at.additionalChargeLines,Et=void 0===xt?[]:xt,It=at.store,Tt=void 0===It?{}:It,St=at.service,At=void 0===St?"":St,yt=at.lang,Dt=void 0===yt?"":yt,_t=at.source,Rt=void 0===_t?"":_t,wt=at.catalog,Pt=void 0===wt?"":wt,Lt=at.inclusiveTaxTotal,kt=at.discountTotal,Mt=Object(x.ub)(Tt),Ft=Mt.storeId,Ht=void 0===Ft?"":Ft,Ut=(Mt.name,Mt.address),Bt=void 0===Ut?{}:Ut,Gt=Object(a.a)(Object(a.a)(Object(a.a)({},d),Tt),{},{id:Ht,addresses:[{address:{addressLines:[Object(x.Q)(Bt)]},lang:Dt}],name:[{lang:Dt,value:Tt.name}]});Object(i.useEffect)((function(){if(Object(x.r)(et,tt)){ja(at,et,tt,Xl,{setAddHopeDataExistsId:ae,setAddHopeDataPrice:se},{setCarryBagDataExistsId:$,setCarryBagDataPrice:be},we);var e=Object(x.M)(ft,et,tt);me(e),function(e,t,n,a,i){e||t(n)}(l,Vt,e)}}),[at]);var Yt=function(e){var t=[],n=0,a=0;return null===e||void 0===e||e.map((function(e){var i=Wt(e.item.id,dt);"hidden"!==i&&(i?i&&i!==e.unitPrice?(a+=1,t.push({Id:e.item.id,quantity:e.quantity})):t.push({Id:e.item.id,quantity:e.quantity}):n+=1)})),D(n),P(a),{unAval:n,itemArr:t}},Kt=function(e){var t,n,i,c,o,r;I(Object(Ct.o)());var s=Yt(e);!function(e,t,n,a,i){t.unAval!==n.length&&e(Object(Ct.a)({params:{basketId:a},tenantId:i},t.itemArr))}(I,s,e,Ee,Xe);var d=(null===v||void 0===v?void 0:v.timings)||ut,l=d.futureDates,u=d.scheduled,b=d.asap,j=(null===u||void 0===u||null===(t=u.periods)||void 0===t?void 0:t.length)&&u.periods[0],O=j.interval,m=void 0===O?0:O,f=j.startEndTime,p=void 0===f?{}:f,h=p.from,g=p.to;nc(h,g,m,null===b||void 0===b?void 0:b.isAvailable,1===l.length&&"INDIA"===(null===we||void 0===we?void 0:we.country));var N={time:"ASAP",interval:null===Gt||void 0===Gt||null===(n=Gt.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"};I(Object(Ha.a)(Object(a.a)(Object(a.a)({},bt),{},{localized:!0})));var E="".concat(null===jt||void 0===jt||null===(r=jt.addressLines)||void 0===r?void 0:r.join("")," ").concat(null===jt||void 0===jt?void 0:jt.city," ").concat(null===jt||void 0===jt?void 0:jt.state," ").concat(null===jt||void 0===jt?void 0:jt.country);Q({type:Jl,value:{newValue:{type:Object(x.F)(At),store:Gt,date:N.date,time:N.time,interval:N.interval,selectedTime:N.selectedTime,deliveryAddress:E},oldvalue:_e}}),localStorage.setItem("dispositionNew",JSON.stringify({type:Object(x.F)(At),store:Gt,time:N.time,date:N.date,selectedTime:N.selectedTime,interval:N.interval,deliveryAddress:E})),localStorage.setItem("dispositionOld",JSON.stringify(_e))};Object(i.useEffect)((function(){he&&(ge(!1),Kt(Oe))}),[dt,Oe,he,l]);var Vt=function(e){var t,n={storeId:Object(x.wb)(Ht),service:At,channel:ka.b.channel,requestedDateTime:{isForNow:!0,futureDateTime:0},customerId:lt,deliveryAddress:Object(a.a)(Object(a.a)({},jt),{},{name:Object(x.wb)(null===jt||void 0===jt?void 0:jt.name),pinCode:Object(x.wb)(null===jt||void 0===jt?void 0:jt.pinCode)}),catalog:Pt,lang:Dt,source:Rt},i=Object(x.Jb)(ze),c=localStorage.getItem(T.S.STORE_ID),o=null===(t=localStorage.getItem(T.S.DISPOSITION_TYPE))||void 0===t?void 0:t.toLowerCase();i&&ze&&(null===n||void 0===n?void 0:n.storeId)===c&&(null===n||void 0===n?void 0:n.service)===o?n.qrOrder={isQROrder:!0,qrScannedTime:ze}:I(Object(Ct.j)("")),I(Object(Ct.e)({data:n,tenantId:Xe,successCallback:null,errorCallback:function(){return Yt(e)}}))};Object(i.useEffect)((function(){if(l){var e=qe.id;Ie(e),I(Object(Cl.b)({tenantId:Xe,catalogName:Pt},{storeId:Ht,channel:ka.b.channel,service:At},(function(){return ge(!0)})))}}),[l,Oe]);var Wt=function(e,t){var n,a,i,c=Object(ye.h)(),o=Object(x.J)(null===t||void 0===t?void 0:t[e]),r=null===o||void 0===o||null===(n=o.availability)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.availableHours,s=null===r||void 0===r?void 0:r.startTime.time,d=null===r||void 0===r?void 0:r.endTime.time,l=Object(ye.d)(c,s,d);return(null===o||void 0===o?void 0:o.isHidden)?"hidden":l?null===o||void 0===o||null===(i=o.availability[0])||void 0===i?void 0:i.price:l},qt={foodLineItem:Oe,checkProductPriceAndAvail:Wt,itemMapById:dt,reOrderAnalyticEvent:Ae,menuItemsMapById:Be};Object(i.useEffect)((function(){var e=function(e,t,n,a,i,c,o){var r=!1,s="";if(t){if(e.length>0)s=Object(Ce.e)(ql);else if(a>0)s=Object(Ce.e)(tu);else if(i>0)s=i+" "+Object(Ce.e)(Gl)+" "+Object(Ce.e)(Bl),r=!0;else if(null===c){var d=Object(Ce.e)(eu);s=null===d||void 0===d?void 0:d.replace("%disposition%",Object(x.F)(o))}}else s=n;return{error:s,isPriceChange:r}}(Je,g,Ye,y,w,v,m),t=Object(x.r)(y>0,y!==Oe.length);G(Object(x.mb)(Object(x.s)(e.isPriceChange,t),!1,""!==e.error)),De(Object(x.mb)(Object(x.w)(e.isPriceChange,t,""===e.error),!0,!1)),F(""!==e.error),W(e.error)}),[ot,y,w,g,Je,v]),Object(i.useEffect)((function(){!function(e,t,n){e&&Object(x.I)(Object(Ce.e)(t),n)}(M,nu,V)}),[M]);var zt=function(e){return e.toFixed(2)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"ReorderModal",children:[Object(u.jsx)("div",{className:"reorder-header",children:Object(u.jsx)("span",{className:"your-order",children:Object(Ce.e)(Rl)})}),M&&Object(u.jsx)("div",{className:"error-container",children:Object(u.jsx)("div",{className:"error-sub-container",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon mr-1"}),Object(u.jsx)("div",{className:"error-msg",children:V})]})})}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"reorder-order-detail",children:["delivery"===At.toLowerCase()&&Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsx)("span",{className:"reorder-sub-heading",children:Object(Ce.e)(Sl)}),Object(u.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(x.a)(jt)})]}),"delivery"!==At.toLowerCase()&&Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsxs)("span",{className:"reorder-sub-heading",children:["dine-in"===At.toLowerCase()&&Object(Ce.e)(Vl),"pickup"===At.toLowerCase()&&Object(Ce.e)(Kl)+" FROM"]}),Object(u.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(x.Q)(Bt)})]}),Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsx)("span",{className:"reorder-sub-heading",children:Object(Ce.e)(_l)}),Object(u.jsxs)("span",{className:"reorder-sub-detail width-style",children:[Object(Ce.e)(wl)," ",Object(Ce.e)(Pl)]})]})]}),Object(u.jsx)("section",{className:"reorder-accordian",children:Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsxs)(oe,{header:"".concat(ba(Oe)," ").concat(Ll),"data-testid":"order-details",children:[Oe.map((function(e){var t,n,a,i=Wt(e.item.id,dt);return Object(u.jsx)("section",{className:"",children:Object(u.jsxs)("div",{className:"reorder-order-item",children:[Object(u.jsxs)("div",{className:"reorder-item-details mt-2",children:[Object(u.jsx)("div",{className:"item-count-box mr",children:Object(u.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(u.jsxs)("div",{className:"item-desc-section",children:[Object(u.jsx)("span",{className:"item-desc",children:null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.name}),Object(u.jsx)("span",{className:"item-desc-quantity",children:(a=null===e||void 0===e?void 0:e.item,Tl()(a,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return" ".concat(e.quantity,"x ").concat(e.name)})).join())})]})]}),!i&&Object(u.jsxs)("div",{className:"unavialble-alert",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("span",{className:"alert-text",children:Object(Ce.e)(Yl)})]}),i&&i!==e.unitPrice&&Object(u.jsxs)("div",{className:"cart-item-price",children:[Object(u.jsxs)("span",{className:"old-price",children:[Ze,zt(e.unitPrice/$e)]}),Object(u.jsxs)("span",{className:"modified-price",children:[Ze,zt(i/$e)]})]}),i===e.unitPrice&&Object(u.jsxs)("span",{className:"item-amount",children:[Ze,zt((null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.unitPrice)/$e)]})]})})})),Object(u.jsxs)("div",{className:"reorder-modification-box mb-4",children:[Object(u.jsx)("span",{className:"reorder-heading mt-3",children:Object(Ce.e)(kl)}),Object(u.jsx)("span",{className:"reorder-subheading mt-2",children:Object(Ce.e)(Ml)}),Object(u.jsxs)("div",{className:"reorder-modal-btn mt-3 mb-3",children:[Object(u.jsx)(Ot.a,{"data-testid":"keep-shoping-button",className:"button whiteButton ".concat(g?"blackBorder":"grayButton"),onClickHandler:g?function(){pl("keepShopping"),hl($e,qt),Ke.push({pathname:"/menu"}),sessionStorage.setItem("reorderClick",!1)}:null,children:Object(Ce.e)(Fl)}),Object(u.jsx)(Ot.a,{"data-testid":"add-coupon-button",className:"button whiteButton ".concat(g?"blackBorder":"grayButton"),onClickHandler:Object(x.mb)(!g,null,(function(){r($e,qt,hl)})),children:Object(Ce.e)(Hl)})]})]})]})})}),Object(u.jsxs)("div",{className:"reorder-order-detail",children:[Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ce.e)(Dl)}),Object(u.jsxs)("span",{className:"payment-amount",children:[Ze,zt(pt/$e)]})]}),Nt&&Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:zl}),Object(u.jsxs)("span",{className:"payment-amount",children:[Ze,zt(Lt/$e)]})]}),Et.map((function(e){return Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:e.chargeType}),Object(u.jsxs)("span",{className:"payment-amount",children:[Ze,zt(e.amount/$e)]})]})})),kt>0&&Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ce.e)(yl)}),Object(u.jsxs)("span",{className:"payment-amount",children:["\u2013 ",Ze,zt(kt/$e)]})]}),"PICKUP"===At.toUpperCase()&&Z&&Object(u.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ce.e)(Zl)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ue})]}),Boolean(ne)&&Object(u.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ce.e)($l)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:re})]}),Object(u.jsxs)("div",{className:"reorder-payment-details mt",children:[Object(u.jsx)("span",{className:"payment-total",children:Object(Ce.e)(Al)}),Object(u.jsxs)("span",{className:"payment-total-amount",children:[Ze,zt(ht/$e)]})]})]})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)(Ot.a,{"data-testid":"quick-reorder-cancel",className:"button whiteButton blackBorder cancel-btn btn-quick-order",onClickHandler:n,children:Object(Ce.e)(vl)}),Object(u.jsx)(Ot.a,{"data-testid":"quick-order-continue-button",className:"button ".concat(Object(x.mb)(B,"grayButton","redButton")," "),onClickHandler:Object(x.mb)(B,null,(function(){c($e,qt,hl)})),children:Object(Ce.e)(Ul)})]})]})},iu=n(221),cu=function(e){var t="";switch(e){case T.cb.PHONEPE:t="phonePay";break;case T.cb.GOOGLE_PAY_SPOT:t="googlePay";break;case T.cb.PAYTM:t="paytm"}return t},ou=function(e){var t=e.paymentsContentReducer,n=(t=void 0===t?{}:t).tendersContent,a=(n=void 0===n?{}:n).items;return void 0===a?[]:a};function ru(e){var t=e.tender,n=e.setTender,c=e.allowedTenders,o=e.setIsValid,r=e.children,s=Object(N.b)();Object(i.useEffect)((function(){s(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]);var d=Object(iu.a)(ou,(function(e){var t,n,i=[],c=null===(t=JSON.parse(null!==(n=localStorage.getItem(T.o.Setting.Storage.Store))&&void 0!==n?n:null))||void 0===t?void 0:t.module;return e.forEach((function(e){var t=e.fields;if(!c||function(e){var t;return null===c||void 0===c||null===(t=c.tenders)||void 0===t?void 0:t.includes(e)}(null===t||void 0===t?void 0:t.title)){var n=Object(a.a)(Object(a.a)({},t),"icon"in t&&Object(a.a)({},{icon:t.icon.fields.desktopImage.fields.file}));i.push(n)}})),i.sort((function(e,t){var n=e.title,a=t.title;return n>a?1:a>n?-1:0}))})),l=Object(N.c)(d);return Object(u.jsx)("div",{className:"payment-option-container",children:l&&c&&(null===l||void 0===l?void 0:l.map((function(e){var i=e.displayName,s=e.title,d=e.shortDescription,l=e.icon,b=(l=void 0===l?{}:l).url;return Object(u.jsx)(u.Fragment,{children:(null===c||void 0===c?void 0:c.includes(s.toLowerCase()))&&Object(u.jsxs)("div",{tabIndex:"0",className:"payment-option",children:[Object(u.jsx)("div",{className:"payment-option-header",children:Object(u.jsxs)("label",{for:s,className:"tender-type-label radioBtnsOption","data-testid":"radio-label-".concat(s),children:[Object(u.jsx)("input",{type:"radio",id:s,"data-testid":"radio-handler-".concat(s),name:"Tenders",value:s,onChange:function(e){return function(e,i,c){o(!1);var r=e.target.value;n(Object(a.a)(Object(a.a)({},t),{},{name:r,payload:{displayName:i,url:c}})),o(r===T.cb.PAY_BY_CASH||r===T.cb.PAYTM||r===T.cb.PHONEPE||r===T.cb.UPI||r===T.cb.GOOGLE_PAY_SPOT)}(e,i,b)}}),Object(u.jsx)("span",{className:cu(s)}),!!i&&s!==T.cb.PAYTM&&i,!!b&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:b,alt:"".concat(cu(s)),className:"tender-image"})}),!!d&&Object(u.jsx)("p",{children:d})]})}),((null===t||void 0===t?void 0:t.name)===T.cb.CREDIT_CARD||(null===t||void 0===t?void 0:t.name)===T.cb.NET_BANKING||(null===t||void 0===t?void 0:t.name)===T.cb.OTHER_WALLET||(null===t||void 0===t?void 0:t.name)===T.cb.GIFT_CARD)&&s===(null===t||void 0===t?void 0:t.name)&&Object(u.jsx)("div",{className:"payment-option-child ".concat(s===(null===t||void 0===t?void 0:t.name)?"active":""),children:r})]})})})))})}var su=n(402),du=n(280),lu="insufficientBalance",uu="invalidcardNumber",bu="emptyCardNumber",vu="emptyPin",ju="invalidPin",Ou="Check Balance",mu="recipientemailplaceholder",fu="usernameplaceholder",pu="useremailplaceholder",hu="userphoneplaceholder",gu="messageplaceholder",Nu="Cancel",xu="Continue to Payment",Eu="cardNumberText",Iu="pinNumber",Tu="balance",Cu="mandatorynote",Su="custom",Au="Active",yu="InActive",Du={RECP_EMAIL:"recpt_mail",USER_FULL_NAME:"user_fullName",USER_EMAIL:"user_email",USER_PHONE:"user_phone",MESSAGE:"message"},_u="MESSAGE",Ru="INFORMATION",wu=/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,Pu=/[0-9]/,Lu=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+/,ku={GIFTCARD_HEADER:"giftCardInformation",GIFTCARDNUM_INPUT:"giftcardNumber",GIFTCARDPN_INPUT:"pinNumber",EMAIL_ADDR:"Email Address",CANCEL_BUTTONT:"cancel",SUBMIT_BUTTON:"Submit",BALANCE_TEXT:"Balance:",CHECKBALANCE_BUTTON:"checkBalance",RESET_BUTTON:"Reset",INVALID_MODALTITLE:"ecard",INVALID_MODALCONTENT:"invalidcardNumber",INVALID_OKBUTTON:"OK"},Mu={GIFTCARDNUM_SHOW:"giftCardnum",GIFTCARDNUM_SHOWSHOW:"giftpinNum",EMAIL_SHOW:"Email Address"},Fu={CONGRATS_TEXT:"Congratulation",FEEDBACK_MESSAGE:"giftCardPurchageMsg",BUY_NEWGIFTCARD:"buyGiftCard"},Hu={FAILURE_TEXT:"purchasefailureheader",FAILURE_MESSAGE:"purchasefailuremsg",RETRY:"failureretry"},Uu="paymentdeclined",Bu="selectYourPaymentScreenHeader",Gu=Bu,Yu=function(e){return e?"error":""},Ku=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,!t||t.length<2?(i.error=!0,i.errorMessage=Object(Ce.e)("emptyName")):(n=t,!Zt.b.test(n)||t.length>26?(i.error=!0,i.errorMessage=Object(Ce.e)("invalidName")):(i.error=!1,i.errorMessage="")),i};function Vu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=Object(i.useState)({value:"",errorMessage:"",error:!1}),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(Object(x.Ib)(window.innerWidth)),v=Object(j.a)(b,2),O=v[0],m=v[1];Object(i.useEffect)((function(){l({value:"",errorMessage:"",error:!1})}),[]);var f,p={emptyCardNumber:Object(Ce.e)("emptyCardNumber"),invalidCardNumber:Object(Ce.e)("invalidCard"),emptyExpiryDate:Object(Ce.e)("emptyExpiry"),invalidExpiryDate:Object(Ce.e)("invalidExpiry"),emptyCVC:Object(Ce.e)("emptyCvv"),invalidCVC:Object(Ce.e)("invalidCvv")},h=Object(su.a)({errorMessages:p}),g=h.meta,E=h.getCardNumberProps,I=h.getExpiryDateProps,T=h.getCVCProps,C=h.getCardImageProps,S=h.getZIPProps,A=g.erroredInputs,y=g.touchedInputs,D=function(e){var i,c=e.target,o=c.name,r=c.value;!function(e,t){e&&t()}("name"===o,(function(){return l(Object(a.a)({},Ku(d,r)))})),n(Object(a.a)(Object(a.a)({},t),{},(i={},Object(Re.a)(i,o,Object(x.wb)(r).trim()),Object(Re.a)(i,"svgSource",C({images:du.a})),i)))},_=function(){var e=Object(x.Ib)(window.innerWidth);m(e)},R=Object(N.c)((function(e){return e.tenantReducer})).countryCode;return Object(i.useEffect)((function(){Object(x.Ob)()}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",_)}),[O]),Object(i.useEffect)((function(){o(Object(x.mb)(!Object.values(A).filter(Boolean).length,!0,!1))}),[A]),Object(i.useEffect)((function(){Pn(Object(Ce.e)(Gu),d.error,d.errorMessage)}),[d.errorMessage,d.error]),Object(i.useEffect)((function(){var e=y.cardNumber&&A.cardNumber;Pn(Object(Ce.e)(Gu),e,A.cardNumber)}),[y.cardNumber,A.cardNumber]),Object(i.useEffect)((function(){var e=y.expiryDate&&A.expiryDate;Pn(Object(Ce.e)(Gu),e,A.expiryDate)}),[y.expiryDate,A.expiryDate]),Object(i.useEffect)((function(){var e=y.cvc&&A.cvc;Pn(Object(Ce.e)(Gu),e,A.cvc)}),[y.cvc,A.cvc]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"col-12 payment-form-credit-card-container",children:[!O&&Object(u.jsx)("p",{className:"payment-mandatory-note",children:Object(Ce.e)("mandatorynote")}),Object(u.jsx)("div",{className:"row creditCardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)(It,{type:"text",required:!0,"data-testid":"material-input",name:"name",placeholder:Object(Ce.e)("nameOnCardText"),onChange:function(e){return D(e)},inputTestId:"cc-name-handler",autoComplete:"cc-name",onBlur:function(e){return D(e)},className:Yu(d.error),labelClassName:Yu(d.error),maxLength:"26"}),Object(u.jsxs)("label",{className:(f=d.error,f?"error":" "),children:[d.error&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:d.errorMessage})]})]})}),Object(u.jsx)("div",{className:"row creditCardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},E()),{},{required:!0,"data-testid":"card-number-handler",className:"".concat(Object(x.mb)(A.cardNumber&&y.cardNumber,"error","")),onInput:function(e){return D(e)},autoComplete:"cc-number"})),Object(u.jsx)("label",{className:"".concat(Object(x.mb)(A.cardNumber&&y.cardNumber,"error","")),"data-testid":"card-number-handler",htmlFor:"cardNumber",children:Object(Ce.e)("cardNumberText")})]}),Object(u.jsxs)("label",{className:"".concat(Object(x.mb)(A.cardNumber&&y.cardNumber,"error","")),children:[y.cardNumber&&A.cardNumber&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.cardNumber&&A.cardNumber})]}),Object(u.jsx)("div",{className:"card-number-image",children:Object(u.jsx)("svg",Object(a.a)({},C({images:du.a})))})]})}),Object(u.jsxs)("div",{className:"row creditCardRow",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},I()),{},{id:"expiryDate",required:!0,onInput:function(e){return D(e)},"data-testid":"expiry-date-handler",className:"".concat(Object(x.mb)(A.expiryDate&&y.expiryDate,"error","")),autoComplete:"cc-exp"})),Object(u.jsx)("label",{className:"".concat(Object(x.mb)(A.expiryDate&&y.expiryDate,"error","")),"data-testid":"expiry-date-handler",htmlFor:"expiryDate",children:Object(Ce.e)("mmddText")})]}),Object(u.jsxs)("label",{className:"".concat(Object(x.mb)(A.expiryDate&&y.expiryDate,"error","")),children:[y.expiryDate&&A.expiryDate&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.expiryDate&&A.expiryDate})]})]}),Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},T()),{},{id:"cvvData",required:!0,"data-testid":"cvv-handler",className:"".concat(A.cvc&&y.cvc?"error":""),onInput:function(e){return D(e)},autoComplete:"cc-csc",type:"password"})),Object(u.jsx)("label",{className:"".concat(A.cvc&&y.cvc?"error":""),"data-testid":"cvv-handler",htmlFor:"cvvData",children:Object(Ce.e)("cvvText")})]}),Object(u.jsxs)("label",{className:"".concat(A.cvc&&y.cvc?"error":""),children:[y.cvc&&A.cvc&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.cvc&&A.cvc})]})]})]}),"in"!==R[0]&&Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},S()),{},{id:"zip",required:!0,onInput:function(e){return D(e)},"data-testid":"zip-handler",className:"".concat(A.zip&&y.zip?"error":""),autoComplete:"off"})),Object(u.jsx)("label",{className:"".concat(A.zip&&y.zip?"error":""),"data-testid":"zip-handler",htmlFor:"zip",children:Object(Ce.e)("billingPostalCodeText")})]}),Object(u.jsxs)("label",{className:"".concat(A.zip&&y.zip?"error":""),children:[y.zip&&A.zip&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.zip&&A.zip})]})]})})]})})}var Wu=function(e){var t=e.source,n=e.onClick,a=e.onChange,o=e.className,r=e.isDisplayLabel,s=void 0===r||r,d=e.label,l=e.labelClassName,b=e.optionLabelFieldName,v=e.optionCustomLabelFn,O=e.optionValueFieldName,m=e.optionClassName,f=e.selectedValue,p=e.placeholder,h=e.placeholderClassName,g=e.customSelectedLabelFn,N=e.dropdownClassName,x=function(e){return null===t||void 0===t?void 0:t.filter((function(t){return t[O]===e}))[0]},E=Object(i.useRef)(),I=Object(i.useState)(!1),T=Object(j.a)(I,2),C=T[0],S=T[1],A=Object(i.useState)(x(f)),y=Object(j.a)(A,2),D=y[0],_=y[1],R=function(e){var t=e.target.getAttribute("name");S(!("customSelect"!==t&&"customSelectSpan"!==t&&"customSelectArrow"!==t||C)&&!C),n&&n(e)},w=function(e,t,n){_(x(n)),a&&a(e,t,n),S(!1)},P=function(e){var t=e.target.getAttribute("name");"customSelect"!==t&&"customSelectSpan"!==t&&"customSelectArrow"!==t&&"customSelectOption"!==t&&"customSelectOptionSpan"!==t&&S(!1)},L=function(e){27===e.keyCode&&S(!1)};return Object(i.useEffect)((function(){return document.addEventListener("click",P,!1),document.addEventListener("keydown",L),function(){S(!1),document.removeEventListener("click",P,!1),document.removeEventListener("keydown",L)}}),[]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"global-custom-select-container col-12",children:[s&&Object(u.jsx)("span",{for:"customSelect",className:l||"",children:d}),Object(u.jsxs)(Ot.a,{class:"customSelect",ref:E,className:"".concat(o||""),onClickHandler:R,onKeyDownHandler:L,"data-testid":"customSelect",children:[Object(u.jsx)("span",{name:"customSelectSpan",className:h||"",onClick:R,"data-testid":"customSelectSpan",children:D&&g?g(D):D&&D[b]?D[b]:p||""}),Object(u.jsx)("img",{name:"customSelectArrow",className:"dropdown-img ".concat(C?"upArrow":""),onClick:R,"data-testid":"customSelectArrow",alt:""}),t&&Object(u.jsx)("div",{name:"customSelectList",className:"\n                global-custom-select-dropdown col-12 \n                ".concat(C?"open ":"","  \n                ").concat(N||""),children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(Ot.a,{class:"customSelectOption",className:"global-custom-select-dropdown-option col-12 \n                  ".concat(m||""),onClickHandler:function(t){return w(t,e,e[O])},"data-testid":"customSelectOption",children:Object(u.jsx)("span",{name:"customSelectOptionSpan","data-testid":"customSelectOptionSpan",onClick:function(t){return w(t,e,e[O])},children:v?v(e):e[b]})})}))})]})]})})};function qu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=e.tender,s=Object(i.useState)([]),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(N.c)((function(e){return e})).paymentsReducer;Object(i.useEffect)((function(){var e=[];if(v&&(!l||0===(null===l||void 0===l?void 0:l.length))){var t,n,a;switch(null===r||void 0===r?void 0:r.name){case T.cb.NET_BANKING:(null===v||void 0===v?void 0:v.configuration)&&(e=null===v||void 0===v?void 0:v.configuration);break;case T.cb.OTHER_WALLET:(null===v||void 0===v?void 0:v.otherWallets)&&(e=null===v||void 0===v?void 0:v.otherWallets)}if(e&&(null===(t=e)||void 0===t?void 0:t.length)>0&&(null===(n=e)||void 0===n?void 0:n.sort))b(null===(a=e)||void 0===a?void 0:a.sort((function(e,t){return e.displayOrder-t.displayOrder})))}}),[v]);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(Wu,{source:l,optionLabelFieldName:"bankName",optionValueFieldName:"bankId",placeholder:Object(x.mb)((null===r||void 0===r?void 0:r.name)===T.cb.NET_BANKING,Object(Ce.e)("selectYourBankHeader"),Object(Ce.e)("selectYourOtherWalletHeader")),customSelectedLabelFn:function(e){switch(null===r||void 0===r?void 0:r.name){case T.cb.NET_BANKING:return e&&(null===e||void 0===e?void 0:e.bankName)?null===e||void 0===e?void 0:e.bankName:Object(Ce.e)("selectYourBankHeader");case T.cb.OTHER_WALLET:return e&&(null===e||void 0===e?void 0:e.bankName)?Object(Ce.e)("otherWallet")+": "+(null===e||void 0===e?void 0:e.bankName):Object(Ce.e)("selectYourOtherWalletHeader")}},onChange:function(e,i,c){n(Object(a.a)(Object(a.a)({},t),{},{bankId:c,bankName:null===i||void 0===i?void 0:i.bankName})),o(!!c)}})})})}var zu=n(155);function Qu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=Object(i.useState)(!1),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)({value:"",errorMessage:"",error:!1}),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)({value:"",errorMessage:"",error:!1}),p=Object(j.a)(f,2),h=p[0],g=p[1],E=Object(i.useState)(""),I=Object(j.a)(E,2),T=I[0],C=I[1],S=Object(i.useState)(0),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)(!1),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(i.useState)(""),k=Object(j.a)(L,2),M=k[0],F=k[1],H=Object(i.useState)(Object(x.Ib)(window.innerWidth)),U=Object(j.a)(H,2),B=U[0],G=U[1],Y=Object(i.useState)({}),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Pu,z=Object(N.c)((function(e){return e})),Q=z.tenantReducer,J=z.profileReducer,X=z.cartReducer,Z=Object(N.c)((function(e){return e.createBalanceReducer})).response,$=Object(N.b)(),ee=(Q||{}).tenantId,te=function(){var e=Object(x.Ib)(window.innerWidth);G(e)};Object(i.useEffect)((function(){var e=function(){var e,t=null===X||void 0===X||null===(e=X.cartData)||void 0===e?void 0:e.total,n=null===Q||void 0===Q?void 0:Q.currencyConversionFactor;return t||n?t/n:0}();D(e)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",te)}),[B]),Object(i.useEffect)((function(){m({value:"",errorMessage:"",error:!1}),g({value:"",errorMessage:"",error:!1}),C("")}),[]),Object(i.useEffect)((function(){var e={customerId:J.customerId,tenantId:ee,body:{cardNumber:O.value,cardPin:h.value}};ee&&void 0!==ee&&void 0!==O.value&&void 0!==h.value&&O.value.length>15&&h.value.length>5||(C(""),o(!1)),W(e)}),[O,h]),Object(i.useEffect)((function(){Z&&oe(Z)}),[Z]),Object(i.useEffect)((function(){Pn(Object(Ce.e)(Bu),null===O||void 0===O?void 0:O.error,null===O||void 0===O?void 0:O.errorMessage)}),[O.errorMessage,O.error]),Object(i.useEffect)((function(){Pn(Object(Ce.e)(Bu),null===h||void 0===h?void 0:h.error,null===h||void 0===h?void 0:h.errorMessage)}),[h.errorMessage,h.error]);var ne=function(e){return e?"formElement-error":"formElement"},ae=function(e){return e?"text-danger":" "},ie=function(e,t){e&&t()},ce=function(e){var t=e.target.value,n=e.target.name;ie("cardNumber"===n,(function(){return m(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<16||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ce.e)(uu)):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)(bu)),n}(O,t)))})),ie("pinNumber"===n,(function(){return g(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<6||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ce.e)(ju)):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)(vu)),n}(h,t)))}))},oe=function(e){e.cardStatus===Au?(!function(e,t){if(t>e){P(!0);var n=Object(Ce.e)(lu);F(n),o(!1)}else P(!1),F(""),o(!0)}(e.cardBalance,y),C(e.cardBalance),n(Object(a.a)(Object(a.a)({},t),{},{AdditionalAttributes:{GiftCardNumber:O.value,GiftCardPin:h.value}}))):e.cardStatus===yu&&(C(""),l(!0),o(!1),n({}))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"col-12 payment-form-credit-card-container",children:[!B&&Object(u.jsx)("p",{className:"payment-mandatory-note",children:Object(Ce.e)("mandatorynote")}),Object(u.jsx)("div",{className:"giftcardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)(It,{className:ne(O.error),type:"text",maxLength:16,onKeyPress:function(e){return function(e){q.test(e.key)||e.preventDefault()}(e)},required:!0,name:"cardNumber","data-testid":"cardNumber",placeholder:Object(Ce.e)(Eu),onChange:ce,value:O.value,inputTestId:"gc-number-handler",autoComplete:"gc-number"}),Object(u.jsxs)("div",{id:"cardNumber",className:ae(O.error),children:[O.error&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:O.errorMessage})]})]})}),Object(u.jsxs)("div",{className:"giftcardRow",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)(It,{className:ne(h.error),type:"password",maxLength:6,required:!0,name:"pinNumber","data-testid":"pinNumber",placeholder:Object(Ce.e)(Iu),onChange:ce,value:h.value,inputTestId:"pin-number-handler",autoComplete:"pin-number"}),Object(u.jsxs)("div",{id:"pinNumber",className:ae(h.error),children:[h.error&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:h.errorMessage})]})]}),Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)(It,{className:ne(w),type:"text",disabled:!0,required:!0,name:"balance","data-testid":"balance",placeholder:Object(Ce.e)(Tu),onChange:function(e){return function(e){var t=e.target,n=t.name,i=t.value;"cardNumber"===n?m(Object(a.a)(Object(a.a)({},O),{},Object(Re.a)({},n,(i||"").trim()))):g(Object(a.a)(Object(a.a)({},h),{},Object(Re.a)({},n,(i||"").trim())))}(e)},value:T,inputTestId:"balance-handler",autoComplete:"balance"}),Object(u.jsxs)("div",{id:"balance",className:ae(w),children:[w&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:M})]})]})]}),Object(u.jsx)("div",{className:"giftcardRow  check-balance",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(Ot.a,{className:"button  whiteButton blackBorder add-more-menu","data-testid":"button",onClick:function(){$(Object(zu.a)(V))},ariaLable:Object(Ce.e)(ku.CHECKBALANCE_BUTTON),children:Object(Ce.e)(ku.CHECKBALANCE_BUTTON)})})}),d&&Object(u.jsx)("div",{className:"checkBal-errorModal",children:Object(u.jsx)(Ri,{CartAlertForm:Object(u.jsx)(yi,{title:Object(Ce.e)(ku.INVALID_MODALTITLE),contentMsg:Object(Ce.e)(ku.INVALID_MODALCONTENT),cancelHandler:function(){l(!1)},cancelButtonText:Object(Ce.e)(ku.INVALID_OKBUTTON)})})})]})})}function Ju(e){var t=e.formPayload,n=e.setFormPayload,a=e.tender,i=e.isValid,o=e.setIsValid;return Object(u.jsxs)(c.a.Fragment,{children:[(null===a||void 0===a?void 0:a.name)===T.cb.CREDIT_CARD&&Object(u.jsx)(Vu,{formPayload:t,setFormPayload:n,isValid:i,setIsValid:o}),((null===a||void 0===a?void 0:a.name)===T.cb.NET_BANKING||(null===a||void 0===a?void 0:a.name)===T.cb.OTHER_WALLET)&&Object(u.jsx)(qu,{isValid:i,setIsValid:o,formPayload:t,setFormPayload:n,tender:a}),(null===a||void 0===a?void 0:a.name)===T.cb.GIFT_CARD&&Object(u.jsx)(Qu,{isValid:i,setIsValid:o,formPayload:t,setFormPayload:n})]})}var Xu=n(104);function Zu(e){var t=e.isClickAddPayment,n=e.setIsClickAddPayment,a=(e.cartData,e.isValidated),c=e.basketId,o=e.tenantId,r=e.tender,s=e.setTender,d=e.isValid,l=e.setIsValid,b=(e.checkoutProps,e.formPayload),v=e.setFormPayload,O=e.setIsPaymentTypeSelected,m=(e.currencyConversionFactor,e.onClose),f=e.onSubmit,p=Object(N.b)(),h=Object(i.useState)(!1),g=Object(j.a)(h,2),E=g[0],I=g[1],C=Object(i.useState)([]),S=Object(j.a)(C,2),A=S[0],y=S[1];return Object(i.useEffect)((function(){return t&&(Object(x.l)(),p(Object(Ct.w)({data:{id:c},tenantId:o},(function(e){var t;(null===e||void 0===e?void 0:e.allowedTenders)&&y(null===e||void 0===e||null===(t=e.allowedTenders)||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})));I(!0),l(!1)})))),function(){Object(x.h)()}}),[t]),Object(i.useEffect)((function(){switch(null===r||void 0===r?void 0:r.name){case T.cb.NET_BANKING:p(Object(Xu.b)({tenantId:o}));break;case T.cb.OTHER_WALLET:p(Object(Xu.c)({tenantId:o}))}}),[null===r||void 0===r?void 0:r.name]),Object(i.useEffect)((function(){a&&p(Object(Ct.q)())}),[a]),Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsx)(lt.a,{children:Object(u.jsx)("div",{className:"proceedpayment-container",children:Object(u.jsx)("div",{className:"modal fade ".concat(E?"show":""),role:"dialog",children:Object(u.jsx)("div",{className:"modal-dialog modal-dialog-scrollable modal-lg",children:Object(u.jsxs)("div",{className:"modal-content",tabindex:"-1","aria-labelledby":"paymentOptionPopup",role:"dialog",children:[Object(u.jsxs)("div",{className:"modal-header-parent",children:[Object(u.jsx)("h2",{id:"paymentOptionPopup",children:Object(Ce.e)("selectYourPaymentScreenHeader")}),Object(u.jsx)("button",{id:"CloseButton",type:"button",className:"close",onClick:function(){I(!1),n(!1),l(!1),s({name:"",payload:{}}),m&&m()},"data-testid":"dialog-conatiner-close","aria-label":Object(Ce.e)("closePaymentModal"),children:"\xd7"})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsx)(ru,{tender:r,setTender:s,"data-testid":"payment-opts",setIsValid:l,allowedTenders:A,children:Object(u.jsx)(Ju,{isValid:d,setIsValid:l,tender:r,formPayload:b,setFormPayload:v})})}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-dark","data-testid":"handle-submit",onClick:function(){I(!1),n(!1),O&&O(!0),f&&f()},disabled:!d,id:"submitButton",children:Object(Ce.e)("Submit")})})]})})})})})})}var $u=n(187),eb=n(84),tb=function(e,t,n,a,i,c,o,r,s,d){e&&!t?(n(!0),s&&s(!1),a({userEmail:i,userPhone:c}),o({name:"",payload:{}}),r&&r(!1),it({popupTitle:"SELECT YOUR PAYMENT"})):d()},nb=function(e,t,n,a){a.request.tenders.push({type:null===t||void 0===t?void 0:t.name,amount:null===n||void 0===n?void 0:n.total}),e(Object(mt.b)(a))},ab=function(e){var t=e.reorderModalOpen,n=e.setReorderModalOpen,c=e.isQuickReorderModalOpen,r=e.setQuickReorderModalOpen,s=e.storeInfo,d=Object(i.useContext)(E.a).userOrderStateDispatch,l=Object(N.b)(),b=ml.QUICK_ORDER,v=ml.CHECKOUT,O=ml.CART,m=Object(i.useState)(t),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)(Object(x.Ib)(window.innerWidth)),I=Object(j.a)(g,2),T=I[0],C=I[1],S=Object(i.useState)({name:"",payload:{}}),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)(!1),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(i.useState)(!1),k=Object(j.a)(L,2),M=k[0],F=k[1],H=Object(i.useState)(),U=Object(j.a)(H,2),B=U[0],G=U[1],Y=Object(i.useState)(),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(!1),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)({}),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(!1),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(o.f)(),oe=Object(N.c)((function(e){return e.appStateReducer.userStatus})),re=Ae.a.TENDER_DATA,se=Ae.a.PAYMENET_FORM_PAYLOAD,de=Object(N.c)((function(e){return e})),le=de.cartReducer,ue=de.tenantReducer,be=de.profileReducer,ve=ue.tenantId,je=le.cartData,Oe=void 0===je?{}:je,me=le.isValidated,fe=void 0!==me&&me,pe=le.isBasketAdded,he=null===be||void 0===be?void 0:be.basic,ge=Oe||{},Ne=ge.discountLines,xe=void 0===Ne?[]:Ne,Ee=ge.id,Ie=function(){var e=function(e){var t=Object(a.a)({},e),n=t.firstName,i=void 0===n?"":n,c=t.middleName,o=void 0===c?"":c,r=t.lastName,s=void 0===r?"":r,d=t.email,l=void 0===d?"":d,u=t.phone;return{fullName:i||(""+o?o:""+s?s:""),email:l,phone:void 0===u?"":u}}(he),t=e.phone,n=e.email;G(t),W(n);var i=Boolean(n||t);P(i)};Object(i.useEffect)((function(){Object(x.Db)(he)&&oe.loggedIn&&Ie()}),[he]);var Te=function(){var e=Object(x.Ib)(window.innerWidth);C(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",Te),function(){window.removeEventListener("resize",Te)}}),[T]);var Se=function(){l(Object(Ct.l)({basketId:Ee,tenantId:ve})),r(!1),n(!1),sessionStorage.setItem("reorderClick",!1)},ye={id:"reorderModal",role:"dialog",modalTitleId:"reorderModal",show:p,classNames:"Base-modal ".concat(T?"mobile-reorder-modal":"reorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return n(!1)},modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},De={id:"QuickReorderModal",role:"dialog",modalTitleId:"QuickReorder",show:c,classNames:"Base-modal ".concat(T?"mobile-QuickReorder-modal":"QuickReorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:Se,modalTitle:Object(Ce.e)(b),closeDataTestId:"close-quick-reorder-modal",autoFocus:!0},_e=Object(i.useState)(!1),Re=Object(j.a)(_e,2),we=Re[0],Pe=Re[1],Le=function(e){D(e),d({type:re,value:{tenderInfo:e,isPaymentAdded:!0}})},ke=function(e){ee(e),d({type:se,value:{paymentFormPayload:e}})};return Object(u.jsxs)(u.Fragment,{children:[p&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},ye),{},{children:Object(u.jsx)(El,{onCancel:function(){return n(!1)},onContinue:function(){if(xe.length>0&&Ee){var e=xe.map((function(e){return e.id}));l(Object(Ct.k)({params:{basketId:Ee},tenantId:ve,shouldClearCart:!0},e))}else Ee&&l(Object(Ct.l)({basketId:Ee,tenantId:ve}));r(!0),h(!1)}})})),c&&!we&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},De),{},{children:Object(u.jsx)(au,{storeInfo:s,cartData:Oe,onCancel:Se,onContinue:function(e,t,n){n(e,t),tb(w,ae,ie,ee,V,B,D,null,null),Pe(!0),sessionStorage.setItem("reorderClick",!1)},isBasketAdded:pe,onAddCoupon:function(e,t,n){n(e,t),F(!0),Pe(!0)}})})),Object(u.jsx)(Zu,{isClickAddPayment:ae,setIsClickAddPayment:ie,onSubmit:function(){ce.push({pathname:"/".concat(v)})},onClose:function(){n(!1),Pe(!1),r(!1)},cartData:Oe,isValidated:fe,basketId:null===Oe||void 0===Oe?void 0:Oe.id,tenantId:ve,tender:y,setTender:function(e){return Le(e)},isValid:Q,setIsValid:J,formPayload:$,setFormPayload:function(e){return ke(e)}}),M&&Object(u.jsx)(kn,{"data-testid":"coupon-modal",bucketId:Ee,isOpen:M,handleClose:function(e){"true"===e?(ce.push({pathname:"/".concat(O)}),sessionStorage.setItem("reorderClick",!1)):(Pe(!1),F(!1),r(!0))}})]})},ib=n(156),cb=n.n(ib),ob=void 0,rb=function(e){var t,n=e.orderItem,a=Object(N.c)((function(e){return e.tenantReducer})),c=a||{},o=c.currencySymbol,r=c.currencyConversionFactor,s=c.addHope,d=c.carryBag,l=Object(N.c)((function(e){return e.paymentsContentReducer})).tendersContent.items,b=void 0===l?[]:l,v=n.fulfillmentDateTime,O=n.deliveryAddress,m=n.store,f=n.foodLines,p=n.subTotal,h=n.total,g=n.taxLines,E=n.paymentReferences,T=n.posOrderId,C=n.inclusiveTaxTotal,S=n.additionalChargeLines,A=n.discountTotal,y=n.service,D=m.phoneNumber,_=ls.d.YOUR_ORDER,R=ls.d.DELIVER_TO,w=ls.d.PAYMENT,P=ls.d.ORDER_FROM,L=ls.d.GET_DIRECTION,k=ls.d.TOTAL,M=ls.d.SUBTOTAL,F=ls.d.ORDER,H=ls.d.AT,U=ls.d.COMPLETED,B=ls.d.GST,G=ls.d.DISCOUNT,Y=ls.d.SEARCH_IN_CART,K=ls.d.LARGE_CARRY_BAG,V=ls.d.ADD_HOPE_TEXT,W=Object(ye.l)(v,"ll"),q=Object(ye.l)(v,"h:mm A"),z=Object(i.useState)(""),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(""),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(0),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],re=Object(i.useState)(0),se=Object(j.a)(re,2),de=se[0],le=se[1],ue=Object(i.useState)([]),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=Object(i.useState)(!1),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=Object(N.b)();Object(i.useEffect)((function(){he(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((function(){if(Object(x.r)(s,d)){ja(n,s,d,Y,{setAddHopeDataExistsId:te,setAddHopeDataPrice:ce},{setCarryBagDataExistsId:X,setCarryBagDataPrice:le},a);var e=Object(x.M)(f,s,d);je(e)}}),[n]);var ge=function(e){return(e/r).toFixed(2)};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"reciept-header",children:[Object(u.jsx)("span",{className:"your-order",children:Object(Ce.e)(_)}),Object(u.jsxs)("span",{className:"receipt-number",children:[Object(Ce.e)(F),"# ",T]})]}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"reciept-order-detail",children:[Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ce.e)(U)}),Object(u.jsx)("span",{className:"receipt-sub-detail",children:W+" ".concat(Object(Ce.e)(H)," ")+q})]}),O&&Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ce.e)(R)}),Object(u.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[(null===O||void 0===O?void 0:O.addressLines[2])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[2],", "]}),(null===O||void 0===O?void 0:O.addressLines[1])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[1],", "]}),(null===O||void 0===O?void 0:O.addressLines[0])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[0],", "]}),(null===O||void 0===O?void 0:O.state)&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.state,", "]}),(null===O||void 0===O?void 0:O.pinCode)&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.pinCode,", "]}),(null===O||void 0===O?void 0:O.country)&&Object(u.jsx)("span",{children:null===O||void 0===O?void 0:O.country})]})]}),Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ce.e)(w)}),Object(u.jsx)("span",{className:"receipt-sub-detail",children:function(){var e,t,n,a,i,c,o,r,s=cb()(E,{}),d=cb()(b.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)===(null===s||void 0===s?void 0:s.paymentType)})),{});return"Only image"===(null===d||void 0===d||null===(e=d.fields)||void 0===e?void 0:e.displayFormat)?Object(u.jsx)("img",{src:null===d||void 0===d||null===(t=d.fields)||void 0===t||null===(n=t.icon)||void 0===n||null===(a=n.fields)||void 0===a||null===(i=a.desktopImage)||void 0===i||null===(c=i.fields)||void 0===c||null===(o=c.file)||void 0===o?void 0:o.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"dateCompleted",children:null===d||void 0===d||null===(r=d.fields)||void 0===r?void 0:r.displayName})}()})]}),Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ce.e)(P)}),null!==m&&void 0!==m&&Object(u.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[m.name,Object(u.jsx)("br",{}),null===m||void 0===m||null===(t=m.address)||void 0===t?void 0:t.addressLines]})]}),Object(u.jsxs)("div",{className:"CompletedCallAndDirection mt-2",id:"DirectionTest",children:[Object(u.jsx)("span",{children:" "}),Object(u.jsxs)("span",{className:"callAndDirection",children:[Object(u.jsxs)("span",{className:"KfcphoneNums",children:[Object(u.jsx)("img",{src:ft,alt:"phone",className:"KfcphoneIcon"}),Object(u.jsx)("a",{href:"tel:"+D,className:"anchorTags",children:function(e){e.substr(0,e.indexOf(" "));var t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(D)})]}),Object(u.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:function(){return pe(!0)},children:[Object(u.jsx)("img",{src:pt,alt:"phone",className:"KfcDirectionIcon"}),Object(Ce.e)(L)]})]})]})]}),Object(u.jsx)("section",{className:"reciept-accordian",children:Object(u.jsx)(oe,{header:"".concat(ve.length," ITEM"),children:ve.map((function(e){return Object(u.jsx)("section",{className:"",children:Object(u.jsxs)("div",{className:"reciept-order-item",children:[Object(u.jsxs)("div",{className:"reciept-item-details",children:[Object(u.jsx)("div",{className:"item-count-box mr",children:Object(u.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(u.jsxs)("div",{className:"item-desc-section",children:[Object(u.jsx)("span",{className:"item-desc",children:e.item.displayName}),Object(u.jsx)("span",{className:"item-desc-quantity",children:(t=e.item,Tl()(t,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return"".concat(e.quantity,"x ").concat(e.name)})).join())})]})]}),Object(u.jsxs)("span",{className:"item-amount",children:[o,ge.call(ob,e.item.quantity*e.item.unitPrice)," "]})]})});var t}))},"orderItem-".concat(n.id))}),Object(u.jsxs)("div",{className:"reciept-order-detail",children:[Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ce.e)(M)}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge(p)]})]}),g&&Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:B}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge(C)]})]}),S.map((function(e,t){return Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsxs)("span",{className:"payment-type",children:[" ",e.chargeType]}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge.call(ob,e.amount)," "]})]},t)})),A>0&&Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ce.e)(G)}),Object(u.jsxs)("span",{className:"payment-amount",children:[" ","- ",o,ge(A)]})]}),"PICKUP"===y.toUpperCase()&&J&&Object(u.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ce.e)(K)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:de})]}),Boolean(ee)&&Object(u.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ce.e)(V)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ie})]}),Object(u.jsxs)("div",{className:"reciept-payment-details mt-4",children:[Object(u.jsx)("span",{className:"payment-total",children:Object(Ce.e)(k)}),Object(u.jsxs)("span",{className:"payment-total-amount",children:[o,ge(h)]})]}),fe&&Object(u.jsx)("div",{children:Object(u.jsx)(xt,{"data-testid":"map-modal",isOpen:fe,handleClose:function(){return pe(!1)},OrderReducerData:n})})]})]})};var sb=function(e){var t=e.pastOrdersData,n=e.tenantReducerData,c=e.favouriteOrders,o=void 0===c?[]:c,r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(!1),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],x=Object(i.useState)({}),E=Object(j.a)(x,2),I=E[0],T=E[1],C=Object(i.useState)({}),S=Object(j.a)(C,2),A=S[0],y=S[1],D=Object(i.useRef)(null),_=rl,R=sl,w=dl,P=ll,L=ul,k=Object(i.useState)(!1),M=Object(j.a)(k,2),F=M[0],H=M[1],U=Object(i.useState)(0),B=Object(j.a)(U,2),G=B[0],Y=B[1],K=Object(N.b)(),V=Object(N.c)((function(e){return e})),W=V.tenantReducer,q=V.profileReducer,z=V.cartReducer,Q=V.postOrderReducer,J=W.tenantId,X=(Q||{}).orderAccepted,Z=void 0===X?{}:X,$=q.customerId,ee=z.cartData,te=void 0===ee?{}:ee,ne=function(e,t){var n;return[].concat(Object(Oo.a)(null===e||void 0===e||null===(n=e.slice())||void 0===n?void 0:n.filter((function(e){return void 0===t.find((function(t){return t.id===e.id}))}))),Object(Oo.a)(t))}(t,o).sort((function(e,t){return t.fulfillmentDateTime-e.fulfillmentDateTime})),ae={dots:!1,infinite:!1,speed:_,slidesToShow:R,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(_r,{clickNextCard:function(){if(d<ne.length-1){var e=0;e=d+w>ne.length-R-1?ne.length-R:d+w,l(e),D.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(Rr,{clickPrevCard:function(){d>0&&(l(d-w),D.current.slickGoTo(d-w))}}),beforeChange:function(e,t){return Y(t)},afterChange:function(e,t){return l(e)},variableWidth:!0,responsive:[{breakpoint:P,settings:{slidesToShow:L,arrows:!0,swipeToSlide:!0}}]},ie=(te||{}).foodLines,ce=void 0===ie?[]:ie,oe=function(){ce.length>0?H(!0):(K(Object(Ct.o)()),g(!0))},re=function(e){y(e);var t=e||{},n=t.store,a=void 0===n?{}:n,i=t.service,c=void 0===i?"":i,o=t.id,r=void 0===o?"":o,s=(a||{}).storeId,d=[{storeId:void 0===s?"":s,channel:ka.b.channel,service:c}];K(Object(Cl.a)(d,J,(function(e){return function(e,t){var n=cb()(Tl()(e,"response",{}),{});T(n),K(Object(tn.a)({tenantId:J,orderId:t,customerId:$},oe))}(e,r)}))),sessionStorage.setItem("reorderClick",!0)},se={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:O,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return m(!1)},modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},de=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},se),{},{children:Object(u.jsx)("div",{className:"ReceiptModal",children:Object(u.jsx)(rb,{orderItem:Z})})}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"pastorderCard-list",children:[Object(u.jsx)(Zo,{settings:ae,carousalRef:D,children:ne&&ne.map((function(e,t){return Object(u.jsx)(xl,{"data-testid":"pastorder-list-card-test",order:e,tenantReducerData:n,reorderBtnHandler:function(){return re(e)},viewRecipetHandler:function(){return function(e){var t=(e||{}).id,n=void 0===t?"":t;K(Object(tn.a)({tenantId:J,orderId:n,customerId:$},(function(){m(!0)})))}(e)}},t)}))}),ne.length>2&&Object(u.jsx)("div",{className:"pastorder-slideContainer",children:Object(u.jsx)("input",{className:"pastorder-slider",type:"range",min:"0",max:ne.length-1,value:G,id:"myRange","data-testid":"myRange",onChange:function(e){Y(e.target.value),D.current.slickGoTo(e.target.value)}})})]}),(F||h)&&Object(u.jsx)(ab,{storeInfo:I,currentOrderInfo:A,reorderModalOpen:F,setReorderModalOpen:H,isQuickReorderModalOpen:h,setQuickReorderModalOpen:g}),O&&de]})},db=n.p+"static/media/CTA_Arrow.a801582c.svg",lb=function(e){var t=e.pastOrders,n=e.basic,a=e.favouriteOrders,i=e.tenantReducerData,c=e.isLoggedIn,r=Object(o.f)();return Object(u.jsxs)("div",{className:"pastorder-container",children:[c?Object(u.jsxs)("div",{className:"pastorder-left-container",children:[Object(u.jsx)("div",{"data-testid":"pastorder-strips-test",className:"pastorder-stripes"}),Object(u.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading",children:"WELCOME BACK, ".concat((null===n||void 0===n?void 0:n.firstName)||Object(Ce.e)("kfcLover"),"!")}),Object(u.jsxs)("div",{className:"pastorder-my-account-text","data-testid":"see-full-history",onClick:function(){localStorage.setItem("LoadMoreOrderHistory",!1),r.push({pathname:"/account"}),window.scrollTo(0,0)},children:[Object(Ce.e)("myAccount"),Object(u.jsx)(C.a,{srcFile:db,className:"pastorder-my-account-arrow"})]})]}):Object(u.jsxs)("div",{className:"pastorder-left-container",children:[Object(u.jsx)("div",{"data-testid":"pastorder-strips-test",className:"pastorder-stripes"}),Object(u.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading",children:"".concat(Object(Ce.e)("welcomeTo")," ").concat(Object(Ce.e)("kfcTxt"),"!")})]}),((null===t||void 0===t?void 0:t.length)>0||(null===a||void 0===a?void 0:a.length)>0)&&Object(u.jsxs)("div",{className:"pastorder-right-container",children:[Object(u.jsxs)("div",{className:"pastorder-right-header",children:[Object(u.jsx)("div",{className:"pastorder-right-header-text",children:Object(Ce.e)("orderItAgain")}),Object(u.jsx)("div",{className:"pastorder-right-header-line"})]}),Object(u.jsx)(sb,{pastOrdersData:t,favouriteOrders:a,tenantReducerData:i}),Object(u.jsx)("p",{className:"pastorder-full-history",onClick:function(){localStorage.setItem("LoadMoreOrderHistory","GoToOrderHistory"),r.push({pathname:"/account"}),window.scrollTo(0,0)},children:Object(Ce.e)("seeFullOrderHistory")})]})]})},ub=n(381),bb=n.p+"static/media/closeButtonBanner.c7c0901f.svg",vb=function(e){var t=Object(N.c)((function(e){var t,n,a;return{smartBannerData:(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.smartBanner)||null,showBanner:(null===e||void 0===e||null===(a=e.splashLoaderReducer)||void 0===a?void 0:a.showSmartBanner)||null}})),n=t.smartBannerData,a=t.showBanner,c=(n||{}).bannerImage,o=void 0===c?{}:c,r=Object(i.useState)(Object(x.Ib)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(N.b)(),v=function(){var e=Object(x.Ib)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",v)}),[d]);var O=function(){b(Object(ub.a)(!1))};return d?function(){var e,t,i;return Object(u.jsx)(u.Fragment,{children:a&&ka.b.isBrowser&&Object(x.Db)(o)&&Object(u.jsxs)("div",{id:"kfc-banner-image",className:"kfc-banner-image","data-testid":"banner",children:[Object(u.jsx)("img",{src:bb,alt:"closeButton",className:"close-button",onClick:O,"data-testid":"close-banner"}),Object(u.jsx)("img",{src:null===o||void 0===o||null===(e=o.fields)||void 0===e||null===(t=e.file)||void 0===t?void 0:t.url,alt:null===o||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.title,className:"banner-image",useMap:"#areaClickable"}),Object(u.jsx)("map",{name:"areaClickable",children:Object(u.jsx)("area",{shape:"rect",coords:"302,0,395,63",href:null===n||void 0===n?void 0:n.url,"data-testid":"install-button"})})]})})}():null},jb=n(64);var Ob=function(e){var t=Ae.a.SET_FORCERELOAD;return function(n){var c,o,r,s,d,l,b=Object.assign({},n),v=(null!==(c=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==c?c:{}).flatResponse,j=void 0===v?{}:v,m=Object(i.useContext)(E.a),p=m.userOrderState,h=(p=void 0===p?{}:p).dispositionNew,g=void 0===h?JSON.parse(localStorage.getItem("dispositionNew")):h,I=p.forceReload,T=m.userOrderStateDispatch,C=Object(x.Cb)(g)?JSON.parse(localStorage.getItem("dispositionNew")):g,S=Object(N.c)((function(e){return e.tenantReducer||{}})),A=S.tenantId,y=S.authoredContent,D=(y=void 0===y?{}:y).defaultdisposition,_=S.genericMenuName,R=f.a.SERVICE_CHANNEL,w=Object(i.useMemo)((function(){var e,t,n=null!==(e=null===C||void 0===C?void 0:C.type)&&void 0!==e?e:D;return{storeInfo:null!==(t=null===C||void 0===C?void 0:C.store)&&void 0!==t?t:{},dispositionType:Object(x.H)(n)}}),[C,D]),P=w.storeInfo,L=w.dispositionType,k=null!==(o=null!==(r=null===P||void 0===P||null===(s=P.summary)||void 0===s||null===(d=s.menu)||void 0===d||null===(l=d.catalogs)||void 0===l?void 0:l[0])&&void 0!==r?r:_)&&void 0!==o?o:"",M=L,F=null===P||void 0===P?void 0:P.id,H=Object(N.b)();return Object(i.useEffect)((function(){var e=function(e,n,a,i,c){var o=Object(O.isEmpty)(e)||i;if(i&&c({type:t,value:{forceReload:!1}}),!o&&n){var r=localStorage.getItem("storeId");r&&n===r||(localStorage.setItem("storeId",n),o=!0)}if(!o&&a){var s=localStorage.getItem("serviceType");s&&a===s||(localStorage.setItem("serviceType",a),o=!0)}return o}(j,F,M,I,T);e&&H(Object(pi.d)({tenantId:A,catalogName:k},{storeId:F,channel:R,service:M}))}),[R,k,H,j,M,F,A,I]),Object(u.jsx)(e,Object(a.a)({},b))}},mb=Ob((function(e){var t,n,a,o,r,s,d,l=f.a.DISPOSITION,b=f.a.BROWSER_CATEGORIES,v=f.a.OFFERS_DEALS,O=f.a.CAROUSAL,C=f.a.ORDERSERV,S=f.a.ROUTING,A=f.a.CRM,y=f.a.WELCOME_MESSAGE,D=f.a.RECOMMENDATION,_=hi.a.CROSSELL,R=null,w=null,P=null,L=null,k=Object(N.b)(),M=e.location,F=e.history,H=Object(i.useContext)(E.a),U=H.userOrderState,B=H.userOrderStateDispatch,G=Object(N.c)((function(e){return e.appStateReducer.userStatus})),Y=Object(i.useState)([]),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(N.c)((function(e){return e.tenantReducer})),z=Object(N.c)((function(e){return e.cartReducer})),Q=Object(N.c)((function(e){return e.authReducer})),J=Object(x.ub)(z).showProductListingModal,X=void 0!==J&&J,Z=Qr,$=Object(x.Cb)(U.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):U.dispositionNew;Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(q)?q:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:$?$.store:{},dispositionType:$&&$.type?Object(x.H)($.type):Object(x.H)(null===(e=q.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[$,q]);Object(i.useEffect)((function(){(null===G||void 0===G?void 0:G.loggedIn)&&!(null===Q||void 0===Q?void 0:Q.isLoading)&&k(Object(jb.d)())}),[null===G||void 0===G?void 0:G.loggedIn,null===Q||void 0===Q?void 0:Q.isLoading,k]),Object(i.useEffect)((function(){var e,t,n=ri.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;if(null===F||void 0===F||null===(e=F.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("qrhome")){var a,i=null===F||void 0===F||null===(a=F.location)||void 0===a?void 0:a.search,c=new URLSearchParams(i).get("restaurantid"),o=Ae.a.DISPOSITION_DATA;B({type:n,value:{deepLinkStoreMode:!0,deeplinkSelectedStoreId:c}}),B({type:o,value:{showDisposition:!0}}),k(Object(Ct.j)())}}),[F,B]),Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){k(Object(g.a)({object:Object(I.a)(),syncObj:{initial:!0}})),k(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===q||void 0===q?void 0:q.country,"fields.channel":ka.b.channel,include:5}}))}),[k,null===q||void 0===q?void 0:q.country]),Object(i.useEffect)((function(){X&&k(Object(Ct.s)({showProductListingModal:!1,categorySelected:""}))}),[M]),Object(i.useEffect)((function(){k(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:G}))}),[k,G]);var ee=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),pastOrdersData:m.a.get(e,"profileReducer.pastOrders",null),basicData:m.a.get(e,"profileReducer.basic",null),favouriteOrders:m.a.get(e,"profileReducer.favouriteOrders",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),appStateReducerContent:m.a.get(e,"appStateReducer",null),recommendedProducts:m.a.get(e,"profileReducer.recommendedProducts",null)}}));if(ee.homePageContent&&ee.marketPageContent&&ee.tenantReducerContent&&ee.appStateReducerContent){R=Object(x.xb)(Object(x.U)(ee.homePageContent));var te=ee.marketPageContent.headerData||{},ne=te.header,ae=void 0===ne?{}:ne,ie=(te.tenant,te.footer),ce=void 0===ie?{}:ie;w=Object(x.V)(ae),P=Object(x.N)(ce),L=Object(x.tb)(ee.homePageContent&&ee.homePageContent.homeContentfulResp)}var oe=Object(x.r)(null===(t=R)||void 0===t?void 0:t[O],Object(u.jsx)(lr,{contentData:Object(x.J)(null===(n=R)||void 0===n?void 0:n[O]),history:F})),re=Object(u.jsx)(lb,{pastOrders:ee.pastOrdersData,basic:ee.basicData,favouriteOrders:ee.favouriteOrders,tenantReducerData:ee.tenantReducerContent,isLoggedIn:G.loggedIn}),se=Object(u.jsx)(pr,{}),de=Object(u.jsx)(Hr,{history:F}),le=Object(x.Db)(R)&&R[S]&&Object(u.jsx)(zo,{contentData:Object(x.ub)(R[S])})||null,ue=Object(x.Db)(R)&&R[A]&&Object(u.jsx)(Yr,{contentData:Object(x.ub)(R[A])})||null,be=ee.recommendedProducts;Object(i.useEffect)((function(){(null===be||void 0===be?void 0:be.length)&&W(be)}),[be]);var ve=Object(x.r)(Boolean(V.length),G.loggedIn)&&Object(u.jsx)(tl,{products:V,country:null===q||void 0===q?void 0:q.country,header:Z,recommendedRule:_});return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("a",{"data-ajax":"false",className:"skiptocontent",href:"#startorder-container",children:"Skip to main content"}),Object(u.jsx)(zr,{page:T.K}),Object(u.jsx)(vb,{}),Object(x.Db)(w)&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(ni,{contentData:w,tenantReducerData:ee.tenantReducerContent,userParams:G})})||null,Object(u.jsxs)("div",{role:"main",children:[Object(u.jsx)("h1",{className:"sr-only",children:Object(Ce.e)(Ae.a.HIDDEN_TEXT)}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(a=null===(o=R)||void 0===o?void 0:o[l])&&void 0!==a?a:{},contentDispositionData:null!==(r=null===(s=R)||void 0===s?void 0:s[l])&&void 0!==r?r:{}},userParams:G}),null===(d=L)||void 0===d?void 0:d.map((function(e){var t,n=e.fields.name,a=void 0===n?"":n,i=(e.sys&&e.sys.contentType&&e.sys.contentType.sys).id,c=void 0===i?"":i;return c===O?t=oe:c===C?a===y?t=re:a===b?t=se:a===D?t=ve:a===v&&(t=de):t=c===S?le:c===A?ue:null,t}))]}),Object(x.Db)(P)&&Object(u.jsx)(ha,{history:F,contentData:P,tenantReducerData:ee.tenantReducerContent})||null,U.showCartClearAlert?Object(u.jsx)(ol,{}):null]})})),fb=n(382),pb=function(e){return Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===e||void 0===e?void 0:e.country,"fields.channel":ka.b.channel,include:5}})},hb=function(e){return Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:e})},gb={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},Nb=(n(262),n(737)),xb=n(738),Eb=n.p+"static/media/searchIcon.0e00b33c.svg",Ib=n.p+"static/media/searchIconGrey.7acb5585.svg",Tb=n.p+"static/media/Darkclosebutton.b4eeaeca.svg",Cb=function(e){var t=Ae.a.DISPOSITION_DATA,n=void 0===t?"":t,a=Object(i.useContext)(E.a)||{},o=a.userOrderState,r=a.userOrderStateDispatch;Object(i.useEffect)((function(){r({type:n,value:{showDisposition:!0}})}),[]);var s=function(e,t){e.stopPropagation(),e.preventDefault(),Oi(t)};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(u.jsx)(Pi,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(u.jsx)(Io,{onStoreSelectFinish:s}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrder)&&Object(u.jsx)(Ko,{onStoreSelectFinish:s})]})})},Sb={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},Ab=function(e){var t,n,a,c,o=Sb.DISPOSITION,r=null,s=null,d=Object(N.c)((function(e){return e.appStateReducer.userStatus})),l=Object(N.c)((function(e){return e.tenantReducer})),b=Object(N.b)();Object(i.useEffect)((function(){b(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.location":null===l||void 0===l?void 0:l.country,"fields.channel":ka.b.channel,include:"5"},userParams:d}))}),[b,null===l||void 0===l?void 0:l.country,d]),Object(i.useEffect)((function(){b(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===l||void 0===l?void 0:l.country,"fields.channel":ka.b.channel,include:5}}))}),[b,null===l||void 0===l?void 0:l.country]);var v=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null}}));if(v.marketPageContent&&v.tenantReducerContent&&v.homePageContent){var j=(v.marketPageContent.headerData||{}).tenant,O=void 0===j?[]:j;r=Object(x.U)(v.homePageContent)||null,s=Object(x.kb)(O)}return Object(u.jsx)(Cb,{contentData:{segmentedHomePageData:null!==(t=null===(n=r)||void 0===n?void 0:n[o])&&void 0!==t?t:{},dispositionData:s,contentDispositionData:null!==(a=null===(c=r)||void 0===c?void 0:c[o])&&void 0!==a?a:{}},userParams:d,tenantReducerData:v.tenantReducerContent})},yb={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:T.h},Db=function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return t(e)}))},_b=function(e,t,n){var a;return{foodName:null===t||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:n}},Rb=Object(o.i)((function(e){var t,n,c=e.productList,o=void 0===c?[]:c,r=e.cardType,s=void 0===r?"":r,d=e.tenantData,l=void 0===d?{}:d,b=e.categoryId,v=e.catalogs,O=e.storeClosedData,m=e.setShowTopScrollBtn,f=Fn.a.QUANTITY_ACTION,p=Ae.a.ADD_TO_CART_CLICK,h=Ae.a.PLP_PDP_DETAILS,g=Ae.a.MINI_PDP_DATA,I=Ae.a.FROMFLAGPLP,T=((null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{}).PlpProductCard,C=void 0===T?{}:T,S=hi.a.RESET_MODGROUP_IDS_UPDATE,A=Object(i.useState)(1),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(N.b)(),w=Object(N.c)((function(e){return e.cartReducer})),P=(null!==(n=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==n?n:{}).flatResponse,L=(P=void 0===P?{}:P).productMapById,k=void 0===L?{}:L,M=Object(x.ub)(w).cartData,F=void 0===M?{}:M,H=Object(N.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),U=Object(i.useState)(e.selectedCat),B=Object(j.a)(U,2),G=B[0],Y=B[1],K=Object(i.useState)(!1),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useContext)(E.a),Q=z.userOrderState,J=z.userOrderStateDispatch,X=Object(i.useState)(null),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Ai(void 0,void 0,void 0,void 0,J,R,void 0).showCartAlert;Object(i.useEffect)((function(){q(!1)}));var ne=Ai({cartId:null===F||void 0===F?void 0:F.id},null===l||void 0===l?void 0:l.tenantId,void 0,k,void 0,R,void 0).addToCartAnalyticsOnly,ae=function(e,t,n,a,i,c,o){if(e&&e.stopPropagation(),ee(t),H.localized){if(n)Y(a),J({type:g,value:{id:t,flag:I,foodLineId:""}}),J({type:S}),R(Object(pi.c)({tenantId:l.tenantId,catalogName:v,itemId:t}));else if(0===i){var r;R(Object(Ct.a)({params:{basketId:null===w||void 0===w||null===(r=w.cartData)||void 0===r?void 0:r.id},tenantId:l.tenantId},[{Id:t,categoryId:b,quantity:i+1,modGrps:[]}])),R(Object(Ct.r)(new Date)),ne(_b(t,c,o),f.Increase)}else if(i>0){var s;R(Object(Ct.u)({params:{basketId:null===w||void 0===w||null===(s=w.cartData)||void 0===s?void 0:s.id,basketLineItemId:o},tenantId:l.tenantId},{quantity:i+1})),R(Object(Ct.r)(new Date)),ne(_b(t,c,o),f.Increase)}}else q(!0),J({type:p,value:{addToCart:!0,productItemId:t,categoryId:b,oldProduct:c,customizable:n,catalogs:v,fromPdpPage:!1}})},ie=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){ie&&G&&Q.minipdpData.itemId===ie.id&&R(Object(Ct.s)({showProductListingModal:!0,categorySelected:G}))}),[ie]);var ce=function(){te(!0)},oe=Object(a.a)(Object(a.a)({},yb),{},{beforeChange:function(e,t){_(Math.round(t+1))},variableWidth:!1}),re=function(t,n,a,i,c){t.preventDefault(),t.stopPropagation();var o={productId:n,customizable:a,categoryId:i,catalogName:v,productInfo:c,isFromPlp:!0};J({type:h,value:o}),localStorage.setItem("ProductDetails",JSON.stringify(o)),e.history.push({pathname:"/pdp/".concat(i,"/").concat(n)})},se=function(e,t,n){R(Object(pi.a)({tenantId:e,customerId:n},t))},de=function(e,t,n){R(Object(pi.b)({tenantId:e,customerId:t,itemId:n}))},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(e.items,1),n=t[0],i=Object(x.Nb)(n.additionalProperties);return Object(u.jsx)(cd,Object(a.a)(Object(a.a)({item:n,activeId:$,cardId:n.id,cardType:s,configureOptions:C,tenantData:l,servingCount:i.servings,button:e.button,categoryId:b,clickHandler:ae,customizable:n.customizable,onCardClickHandler:re,userParams:H,openAlertModal:ce,storeClosedData:O,addFavourite:se,removeFavourite:de,setShowTopScrollBtn:m,"data-testid":"menu-card-component"},i),n),n.id)};return Object(u.jsxs)("div",{className:"product-container",children:[W&&Object(u.jsx)(Ab,{}),"carousal"===s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"individual-card-counter",children:[D,"/",o.length]}),Object(u.jsx)(Zo,{settings:oe,children:Db(o,le)})]}):Db(o,le)]})})),wb=function(e){return Object(x.m)(e.subCategory).map((function(t,n){var a=t.categories,i=void 0===a?"":a,c=t.products,o=void 0===c?[]:c,r=t.id,s=void 0===r?"":r,d=t.dname;return Object(u.jsxs)("div",{id:s,children:[Object(u.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":"medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType?"carousal-subcategory-name":"small"===e.cardType?"small-subcategory-name":null,children:[Object(u.jsx)("div",{children:d[0].value}),i]}),Object(u.jsx)(Rb,{productList:o,cardType:e.cardType,tenantData:e.tenantData,categoryId:s,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},n)}))},Pb=function(e){var t=e.data,n=e.tenantData,a=e.filterList,r=e.dietaryList,s=e.sortByList,d=e.handleClearItems,l=e.handleFilteredData,b=e.handleSearchdata,v=e.tempData,O=e.recommendations,m=e.catalogs,f=e.selectedCat,p=e.storeClosedData,h=e.triggerGetRecommends,g=e.setShowTopScrollBtn,I={},T=I.menu,S=I.categories,A=I.products;if(Object.keys(v).length){var y=Object(x.J)(v);T=y.menu,S=y.categories,A=y.products}else{var D=Object(x.J)(t);T=D.menu,S=D.categories,A=D.products}var _=Object(x.Qb)(A),R=Object(i.useContext)(E.a).userOrderState,w=Object(o.f)(),P=Object(i.useState)([]),L=Object(j.a)(P,2),k=L[0],M=L[1],F=Object(i.useState)(!1),H=Object(j.a)(F,2),U=H[0],B=H[1],G=Object(i.useState)(!1),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)(""),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(""),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)({isSearchedMode:!1,searchedData:""}),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useRef)(null),fe=Object(N.c)((function(e){return e.tenantReducer})),pe=Sb.SEARCHOURMENU,he=Object(o.h)().category_name,ge=Object(x.Cb)(R.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):R.dispositionNew,Ne=Object(i.useMemo)((function(){var e,t;return{tenantReducer:null!==fe&&void 0!==fe?fe:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:null!==(e=null===ge||void 0===ge?void 0:ge.store)&&void 0!==e?e:{},dispositionType:Object(x.H)((null===ge||void 0===ge?void 0:ge.type)||(null===fe||void 0===fe||null===(t=fe.authoredContent)||void 0===t?void 0:t.defaultdisposition))}}),[ge,fe]).dispositionType,xe=function(e){me.current&&!me.current.contains(e.target)&&ae(!1)};Object(i.useEffect)((function(){var e;if((null===t||void 0===t||null===(e=t.products)||void 0===e?void 0:e.length)&&je.isSearchedMode&&(null===O||void 0===O?void 0:O.length)){var n=fs(null===t||void 0===t?void 0:t.products,O);M(n)}}),[t,je.searchedData,O]),Object(i.useEffect)((function(){je.searchedData&&h(je.searchedData)}),[je.searchedData]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",xe),function(){document.removeEventListener("mousedown",xe)}})),Object(i.useEffect)((function(){xs(S,he,V,B)}),[JSON.stringify(t)]);var Ee=function(e){Q((function(){return e}))};Object(i.useEffect)((function(){var e=setTimeout((function(){if(Z!==z){var e=Ns(T,z),t=e.selectedCategory,a=e.selectedSubcategory,i=ps(t,a,null===t||void 0===t?void 0:t.name,null===t||void 0===t?void 0:t.id,null===n||void 0===n?void 0:n.currencyConversionFactor);gs(i),$((function(){return z}))}}),300);return function(){clearTimeout(e)}}),[z]);var Ie=function(e){if("Enter"===e.key){if(""===e.target.value)return;ae(!1),b(e.target.value.toLowerCase().toString()),Oe({isSearchedMode:!0,searchedData:le}),function(e,t){0===e.length&&Object(x.I)(document.title,Object(Ce.e)(Ve)+" \u201c".concat(t,"\u201d ")+Object(Ce.e)(We))}(oe,le)}},Te=function(e){var n=(t||{}).products;n&&re(n.filter((function(t){return!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e.toLowerCase().toString())})).slice(0,5))},Se=function(){ue(""),ae(!1),Te(""),b(),Oe({isSearchedMode:!1,searchedData:""})};var Ae,ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0},De=function e(t){return t&&t.map((function(t,n){var a=t.id,i=void 0===a?"":a,c=t.isHidden,o=void 0!==c&&c,r=t.dname,s=void 0===r?"":r,d=t.url,l=t.categories,b=void 0===l?[]:l;return Object(u.jsx)("ul",{className:"inner-ul nested",children:!o&&Object(u.jsxs)("li",{children:[Object(u.jsx)(ds.Link,{"data-testid":"subcategory-click-test",className:"".concat(ye(b)?"caret":""),onClick:function(e){return function(e,t,n,a){vs(t,a+1),Q((function(){return t}));var i=null===e||void 0===e?void 0:e.target.parentElement.querySelector(".nested");i&&(i.classList.toggle("active-tree"),e.target.classList&&e.target.classList.toggle("caret-down")),w.push({pathname:"/menu/".concat(n)})}(e,s[0].value,d,n)},to:i,spy:!0,smooth:!0,onSetActive:Ee,activeClass:"".concat(0===n?"active":""),children:s[0].value}),b&&b.length>0&&e(b)]})})}))},_e=function(e,t,a,i){return t&&t.length?Object(u.jsx)(wb,{subCategory:t,cardType:i,tenantData:n,catalogs:m,storeClosedData:p}):Object(u.jsx)(Rb,{productList:e,cardType:i,tenantData:n,categoryId:a,catalogs:m,selectedCat:f,storeClosedData:p,setShowTopScrollBtn:g})};return Object(u.jsxs)(c.a.Fragment,{children:[Lb(K,ge,Ne,U,p,(function(){B(!1),w.push({pathname:"/menu"})})),Object(u.jsxs)(Nb.a,{className:"plp-menu-row","data-testid":"menus-container",children:[Object(u.jsxs)(xb.a,{md:"3",className:"plp-left-nav",children:[Object(u.jsx)(Nb.a,{className:"plp-stripes-section",children:Object(u.jsx)(C.a,{srcFile:La,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"kfc-menu-title",children:[].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length||je.isSearchedMode?"".concat(_," Results"):Object(Ce.e)(ke)}),[].concat(Object(Oo.a)(a),Object(Oo.a)(r),Object(Oo.a)(s)).length>0||je.isSearchedMode?Object(u.jsxs)("div",{children:[0!==_&&Object(u.jsx)(Za.a,{className:"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:je.isSearchedMode?Se:d,children:je.isSearchedMode?Object(Ce.e)(Ke):Object(Ce.e)(Ye)}),[].concat(Object(Oo.a)(a),Object(Oo.a)(r),Object(Oo.a)(s)).map((function(e,t){return Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"selectedFilterButtons",children:[Object(u.jsx)("span",{className:"textFiltered",children:e}),Object(u.jsx)("img",{className:"mlcross","data-testid":"clear-single-handle-".concat(e),onClick:function(){return d(e)},src:Tb})]})},t)}))]}):Object(u.jsx)("ul",{className:"outer-ul",children:T&&T.length&&Object(x.m)(T).length&&Object(x.m)(T).map((function(e,t){var n=e.id,a=e.isHidden,i=e.name,c=e.url,o=e.dname,r=e.categories,s=void 0===r?[]:r;return!a&&Object(u.jsxs)("li",{children:[Object(u.jsx)(ds.Link,{"data-testid":"category-click-test",to:i.trim(),spy:!0,smooth:!0,onSetActive:Ee,onClick:function(e){return function(e,t,n,a){var i,c;if(0===t){var o=Object(x.m)(S);o.length&&ds.scroller.scrollTo(o[0].name.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:-100})}vs(n,0),Q((function(){return n})),(null===(i=window)||void 0===i||null===(c=i.history)||void 0===c?void 0:c.replaceState)?window.history.replaceState("",n,"/menu/".concat(a)):w.push({pathname:"/menu/".concat(a)})}(0,t,i.trim(),c)},className:"".concat(ye(s)?"caret":""),offset:-100,children:o[0].value}),De(s||[])]},n)}))})]}),Object(u.jsxs)(xb.a,{md:"9",className:"plp-right-nav",children:[Object(u.jsx)(xb.a,{sm:12,className:"plp-filters",children:Object(u.jsxs)("div",{"data-testid":"menu-search-testid",className:"search-menu",children:[Object(u.jsx)(Rt,{name:"searchInput",className:"search-menu-input",onKeyPress:function(e){return Ie(e)},onChange:function(e){return function(e){ue(e.target.value),(a.length||r.length||s.length)&&d(),e.target.value.toString().length>2?ne||(ae(!0),Te(e.target.value.toString())):ne&&(ae(!1),Te(""),b(),Oe({isSearchedMode:!1,searchedData:""}))}(e)},value:le,placeholder:Object(Ce.e)(pe),"data-testid":"search-our-menu","aria-label":"Search our menu",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(Object(Ce.e)(pe))}}),Object(u.jsx)("span",{className:"search-icon",children:Object(u.jsx)(C.a,{srcFile:Eb,className:"search-icon-img"})}),le.length>2&&!je.isSearchedMode||le.length>2&&je.isSearchedMode&&_>0?Object(u.jsx)("img",{className:"input-dark-cross","data-testid":"clear-all-input",onClick:function(){return Se()},src:Tb}):null,ne&&Object(u.jsx)("div",{ref:me,className:"inputAutoCompletePLP",children:(null===oe||void 0===oe?void 0:oe.length)>0&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"SuggestionHeader",children:"Suggested Search Terms"}),Object(u.jsx)("ul",{className:"autoCompleteListPLP",children:oe.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return function(e){js({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),l(e.mdmId),ae(!1),ue(e.name),Oe({isSearchedMode:!0,searchedData:e.name})}(e)},"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(C.a,{srcFile:Ib})}),Object(u.jsx)("span",{children:e.name})]},e.mdmId+t)}))})]})})]})}),je.isSearchedMode&&_>0&&Object(u.jsx)(Nb.a,{className:"pt-5",children:Object(u.jsxs)("h2",{className:"found-text",children:[Object(Ce.e)(ze)," ",_,' "'.concat(je.searchedData.toUpperCase(),'"')]})}),[].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length>0&&0===_?Object(u.jsx)(Nb.a,{className:"pt-5 no-data-found-plp",children:Object(u.jsxs)("h2",{className:"found-text",children:[Object(Ce.e)(ze)," ",_," '",Object(Ce.e)(Xe.toUpperCase()),"'"]})}):[].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length>0&&_>0&&Object(u.jsx)(Nb.a,{className:"pt-5 ".concat((Ae=r,Ae.find((function(e){return"all"===e.toLowerCase()}))?"all-data-found-plp":"data-found-plp")),children:Object(u.jsxs)("h2",{className:"found-text",children:[ze," ",_," '",Object(Ce.e)(Xe.toUpperCase()),"'"]})}),Object(u.jsx)(Nb.a,{className:je.isSearchedMode||a.length>0||r.length>0?"":"plp-sections",children:Object(u.jsx)(xb.a,{children:!je.isSearchedMode&&S&&S.length?S.filter((function(e){return!e.isHidden})).map((function(e,t){var n=e.id,a=e.name,i=e.dname,c=(e.imageName,e.products),o=e.categories,r=e.isHidden,s=(e.displayOrder,e.specials),d=e.exclusive,l=e.timer,b=e.discount;return!r&&Object(u.jsxs)("div",{id:a.trim(),className:0===t?"large-menu-container":"medium-menu-container",children:[Object(u.jsx)("div",{className:0===t?"large-category-name":"medium-category-name",children:Object(u.jsx)("h2",{children:i[0].value})}),Object(u.jsx)(Pa.a,{src:s?ws:b||d?Ps:"",className:s?"specials-product-ribbon":d?"exclusive-product-ribbon":"discount-product-ribbon"}),Object(u.jsx)("span",{className:s?"specials-ribbon-text":"discount-ribbon-text",children:l?Object(u.jsxs)("div",{children:[Object(u.jsx)(Pa.a,{src:kt,className:"product-timer"}),Object(u.jsx)("span",{className:"product-timer-text",children:"timer"})]}):s||(b||(d||null))}),_e(c,o,n,0===t?"large":"medium")]},t)})):(je.isSearchedMode||[].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length)&&A?Object(u.jsx)("div",{className:"medium-menu-container",children:Object(u.jsx)(Rb,{productList:A,cardType:"medium",tenantData:n,categoryId:"CAT86",catalogs:m,storeClosedData:p,setShowTopScrollBtn:g})}):je.isSearchedMode&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"no-search-found-plp",children:[Object(u.jsx)("span",{children:Object(Ce.e)(Ve)}),Object(u.jsx)("span",{className:"no-search-found-text-highlighted",children:" '".concat(je.searchedData,"' ")}),Object(u.jsx)("p",{children:Object(Ce.e)(We)}),Object(u.jsx)(Za.a,{onClick:Se,className:"back-to-menu-plpsearch",children:Object(Ce.e)(qe)})]}),Object(u.jsx)("div",{className:"horizontalLineBorder-noData"}),!!k.length&&Object(u.jsx)("div",{className:"mob-plp-sections  mb-5",children:Object(u.jsx)("div",{className:"mob-plp-col mb-4",children:Object(u.jsxs)("div",{className:"recommended-menu-container medium-menu-container",children:[Object(u.jsx)("div",{className:"d-flex position-relative",children:Object(u.jsx)("div",{className:"carousal-header",children:Object(Ce.e)(Pe)})}),Object(u.jsx)(Rb,{productList:k,cardType:"medium",tenantData:n,categoryId:"CAT86",catalogs:m,storeClosedData:p,setShowTopScrollBtn:g})]})})})]})})})]})]})]})};function Lb(e,t,n,a,i,c){var o={CLEAR_ALL_MSG:{MSGTXT1:"categoryNotAvailable",MSGTXT2:"notAvailable",MSGTXT3:Object(x.mb)(n.type," for ".concat(n),"")},CONTINUE:"continue"};return Object(x.r)(a,!(null===i||void 0===i?void 0:i.isStoreClosed))&&Object(u.jsx)(Ri,{handleClose:c,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(yi,{splitTitle:o.CLEAR_ALL_MSG,imageSrc:cl,altText:"cart-error",confirmButtonText:Object(Ce.e)(null===o||void 0===o?void 0:o.CONTINUE),confirmHandler:c})})}var kb=n.p+"static/media/mobileSearch.bc6748fd.svg",Mb=n.p+"static/media/View_1UP_Icon.29815a0e.svg",Fb=n.p+"static/media/View_1UP_Icon_Inactive.b46c36ea.svg",Hb=n.p+"static/media/View_carousal_Icon.63f70456.svg",Ub=n.p+"static/media/View_carousal_Icon_Inactive.b52e1132.svg",Bb=n.p+"static/media/crossCloseIcon.574b7c73.svg",Gb=n.p+"static/media/clearIconDark.6cb8880e.svg",Yb=c.a.forwardRef((function(e,t){var n=e.className,a=e.filterList,c=e.dietaryList,o=e.sortByListMob,r=e.handleClearItems,s=e.closeSearchFilterMenu,d=e.handleFilteredData,l=e.handleSearchdata,b=e.setSearchModeData,v=e.data,O=e.inputSearchData,m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)([]),N=Object(j.a)(g,2),x=N[0],E=N[1],I=Object(i.useState)(""),T=Object(j.a)(I,2),S=T[0],A=T[1],y=Object(i.useRef)(null),D=Sb.SEARCHOURMENU,_=function(e){y.current&&!y.current.contains(e.target)&&h(!1)};Object(i.useEffect)((function(){return document.addEventListener("mousedown",_),function(){document.removeEventListener("mousedown",_)}})),Object(i.useEffect)((function(){A(""),h(!1)}),[O]);var R=function(e){var t=(v||{}).products;E(t.filter((function(t){return!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e)})).slice(0,5))};return Object(u.jsxs)("div",{ref:t,"data-testid":"mob-search-filter-testid",className:n,children:[Object(u.jsxs)("div",{className:"refineItemsPartMobPLP",children:[Object(u.jsx)("span",{className:"refineItemsText",children:Object(Ce.e)("refineItems")}),Object(u.jsx)("img",{className:"crossCloseIconFilterMobPlp","data-testid":"cross-close-filter-mob",onClick:function(){return s("Close")},src:Bb})]}),Object(u.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(u.jsxs)("div",{className:"plp-search-container",children:[Object(u.jsx)(Rt,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:function(e){return function(e){A(e.target.value),(a.length||c.length||o.length)&&r(),e.target.value.toString().length>2?p||(h(!0),R(e.target.value.toLowerCase().toString())):p&&(h(!1),l(),R(""),b(!1,S))}(e)},onKeyPress:function(e){var t;"Enter"===(t=e).key&&(s(""),l(t.target.value.toLowerCase().toString()),b(!0,S))},value:S,placeholder:Object(Ce.e)(D)}),Object(u.jsx)("div",{className:"search-iconMob",children:Object(u.jsx)(C.a,{srcFile:Ib,className:"search-icon-img"})}),S.length>2&&Object(u.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:function(){return A(""),l(),void b(!1,"")},src:Gb})]}),p&&Object(u.jsx)("div",{ref:y,"data-testid":"mob-search-dropdown",className:"inputAutoCompletePLP",children:Object(u.jsx)("ul",{className:"autoCompleteListPLP",children:(null===x||void 0===x?void 0:x.length)>0&&x.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return function(e){js({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),d(e.mdmId),s(""),A(e.name),b(!0,e.name)}(e)},"data-testid":"fiter-data-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(C.a,{srcFile:Ib})}),Object(u.jsx)("span",{children:e.name})]},e.mdmId+t)}))})})]})]})})),Kb=function(e){var t=e.data,n=e.tenantData,a=e.filterList,r=e.dietaryList,s=e.sortByListMob,d=e.sortByOptions,l=e.handleClearItems,b=e.handleFilteredData,v=e.handleSearchdata,O=e.tempData,m=e.recommendations,f=e.catalogs,p=e.selectedCat,h=e.storeClosedData,g=e.triggerGetRecommends,I=e.setShowTopScrollBtn,T=Object(o.f)(),S=Object(i.useRef)(),A=Object(i.useContext)(E.a).userOrderState,y=Object(i.useState)({isSearchedMode:!1,searchedData:""}),D=Object(j.a)(y,2),_=D[0],R=D[1],w=Object(i.useState)(!1),P=Object(j.a)(w,2),L=P[0],k=P[1],M=Object(i.useState)(!1),F=Object(j.a)(M,2),H=F[0],U=F[1],B=Object(i.useState)(""),G=Object(j.a)(B,2),Y=G[0],K=G[1],V=Object(i.useState)(""),W=Object(j.a)(V,2),q=W[0],z=W[1],Q={},J=Q.menu,X=Q.categories,Z=Q.products;if(Object.keys(O).length){var $=Object(x.J)(O);J=$.menu,X=$.categories,Z=$.products}else{var ee=Object(x.J)(t);J=ee.menu,X=ee.categories,Z=ee.products}var te=Object(x.Qb)(Z),ne=Object(i.useState)([]),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=Object(i.useState)(!0),re=Object(j.a)(oe,2),se=re[0],de=re[1],le=Object(i.useState)(!1),ue=Object(j.a)(le,2),be=ue[0],ve=ue[1],je=Object(i.useState)(1),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(!1),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useState)(!1),Ee=Object(j.a)(xe,2),Ie=Ee[0],Te=Ee[1],Se=Object(N.c)((function(e){return e.tenantReducer})),Ae=Object(o.h)().category_name,ye=Object(x.Cb)(A.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):A.dispositionNew,De=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(Se)?Se:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:ye?ye.store:{},dispositionType:ye&&ye.type?Object(x.H)(ye.type):Object(x.H)(null===Se||void 0===Se||null===(e=Se.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[ye,Se]).dispositionType,_e=function(){Ne(!1),T.push({pathname:"/menu"})};Object(i.useEffect)((function(){xs(X,Ae,Te,Ne,!0)}),[JSON.stringify(t)]),Object(i.useEffect)((function(){var e;if((null===t||void 0===t||null===(e=t.products)||void 0===e?void 0:e.length)&&_.isSearchedMode&&(null===m||void 0===m?void 0:m.length)){var n=fs(null===t||void 0===t?void 0:t.products,m);ce(n)}}),[t,_.searchedData,m]),Object(i.useEffect)((function(){_.searchedData&&g(_.searchedData)}),[_.searchedData]);var Re=function(){de(!0),ve(!1)},we=function(){ve(!0),de(!1)},ke=function(e){fe(e)},Me=function(e,t){R({isSearchedMode:e,searchedData:t})},Fe=function(){U(""),v(),R({isSearchedMode:!1,searchedData:""})},He=function(e){var t;ms({eventType:"filterItems",selectedData:{filterSelected:a.length>0?a.join():"none",dietarySelected:r.length>0?r.join():"none",sortSelected:(null===(t=d.find((function(e){return e.selected})))||void 0===t?void 0:t.name)?d.find((function(e){return e.selected})).name:"none"}},"filterSelected","dietarySelected","sortSelected"),S.current.style.width="0",k(!1)};Object(i.useEffect)((function(){var e=function(){var e,t=null===(e=document.getElementById("mob-searchinput-id"))||void 0===e?void 0:e.style;if(t){var n=document.getElementById("root").getBoundingClientRect().top<-50;t.position=n?"fixed":"relative",t.top=n?"45px":"0"}};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);var Ue=function(e){document.querySelector("li > a.active")&&document.querySelector("li > a.active").scrollIntoView({inline:"center"}),K((function(){return e}))};Object(i.useEffect)((function(){var e=setTimeout((function(){if(q!==Y){var e=Ns(J,Y),t=e.selectedCategory,a=e.selectedSubcategory,i=ps(t,a,null===t||void 0===t?void 0:t.name,null===t||void 0===t?void 0:t.id,null===n||void 0===n?void 0:n.currencyConversionFactor);gs(i),z((function(){return Y}))}}),300);return function(){clearTimeout(e)}}),[Y]);var Be=function(e,t,a,i){return"viewup"===i&&(i=se?"small":"carousal"),t&&t.length?Object(u.jsx)(wb,{subCategory:t,cardType:i,tenantData:n,catalogs:f,storeClosedData:h}):Object(u.jsx)(Rb,{productList:e,cardType:i,tenantData:n,cardCount:ke,categoryId:a,catalogs:f,selectedCat:p,storeClosedData:h,setShowTopScrollBtn:I})},Ge=function(){return(_.isSearchedMode||[].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length)&&Z?Object(u.jsx)("div",{className:"small-menu-container",children:Object(u.jsx)(Rb,{productList:Z,cardType:se?"small":"carousal",tenantData:n,cardCount:ke,categoryId:"CAT86",catalogs:f,storeClosedData:h,setShowTopScrollBtn:I})}):_.isSearchedMode&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"no-mob-search-found-plp",children:[Object(u.jsx)("span",{children:Object(Ce.e)(Ve)}),Object(u.jsx)("span",{className:"no-search-found-text-highlighted",children:" '".concat(_.searchedData,"' ")}),Object(u.jsx)("p",{children:Object(Ce.e)(We)}),Object(u.jsx)(Za.a,{className:"back-to-menu-plpsearch","data-testid":"back-to-menu",onClick:Fe,children:Object(Ce.e)(qe)})]}),!!ie.length&&Object(u.jsxs)("div",{className:"carousal-menu-container",children:[Object(u.jsxs)("div",{className:"d-flex position-relative",children:[Object(u.jsx)("div",{className:"carousal-header",children:Object(Ce.e)(Pe)}),Object(u.jsxs)("div",{className:"card-counter",children:[me,"/",ie.length]})]}),Object(u.jsx)(Rb,{productList:ie,cardType:"carousal",tenantData:n,cardCount:ke,categoryId:"CAT86",catalogs:f,storeClosedData:h,setShowTopScrollBtn:I})]}),Object(u.jsx)("div",{className:"horizontalLineBorder-noData"})]})};return Object(u.jsxs)(c.a.Fragment,{children:[Vb(Ie,ye,De,ge,h,_e),Object(u.jsxs)(Nb.a,{id:"mob-searchinput-id","data-testid":"mob-searchinput-id",className:"mob-nav-row ".concat(L?"hide-mob-nav-row":""),children:[Object(u.jsxs)("div",{onClick:function(){return S.current.style.width="100%",void k(!0)},"data-testid":"open-search-menu",className:"mob-search-input",children:[Object(u.jsx)(C.a,{srcFile:kb,className:"mob-search-img"}),([].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length||_.isSearchedMode)&&Object(u.jsx)("div",{className:"totalFilterAppliedCount",children:te})]}),[].concat(Object(Oo.a)(a),Object(Oo.a)(r),Object(Oo.a)(s)).length||_.isSearchedMode?Object(u.jsxs)("div",{className:"filterListRowMobView",children:[Object(u.jsx)(Za.a,{className:"clearAllFilterButtonMob","data-testid":"clear-all-handle",onClickHandler:_.isSearchedMode?Fe:l,children:_.isSearchedMode?Object(Ce.e)(Ke):Object(Ce.e)(Ye)}),[].concat(Object(Oo.a)(a),Object(Oo.a)(r),Object(Oo.a)(s)).map((function(e){return Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"selectedFilterButtonsMob",children:[Object(u.jsx)("span",{className:"textFilteredMob",children:e}),Object(u.jsx)("img",{className:"mlcrossMob","data-testid":"clear-all-items-".concat(e),onClick:function(){return l(e)},src:Tb})]})})}))]}):Object(u.jsx)("div",{children:Object(u.jsx)("ul",{className:"mob-outer-ul",children:J&&J.length&&Object(x.m)(J).length&&Object(x.m)(J).map((function(e,t){var n=e.id,a=e.isHidden,i=e.url,c=e.name,o=e.dname;return e.subcategory,!a&&Object(u.jsx)("li",{children:Object(u.jsx)(ds.Link,{"data-testid":"category-click-test-mob",to:c.trim(),onClick:function(){return function(e,t){var n,a;vs(e,0),(null===(n=window)||void 0===n||null===(a=n.history)||void 0===a?void 0:a.replaceState)?window.history.replaceState("",e,"/menu/".concat(t)):T.push({pathname:"/menu/".concat(t)})}(c.trim(),i)},spy:!0,offset:-100,smooth:!1,activeClass:"active",onSetActive:Ue,children:o[0].value})},n)}))})})]}),_.isSearchedMode&&te>0?Object(u.jsx)(Nb.a,{className:"pt-4 pl-5",children:Object(u.jsxs)("h3",{className:"found-text",children:[Object(Ce.e)(ze)," ",te,' "'.concat(_.searchedData.toUpperCase(),'"')]})}):([].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length>0&&0===te||[].concat(Object(Oo.a)(a),Object(Oo.a)(r)).length>0&&te>0)&&Object(u.jsx)(Nb.a,{className:"pt-4 pl-5",children:Object(u.jsxs)("h2",{className:"found-text",children:[ze," ",te," ","results".toUpperCase()]})}),Object(u.jsx)(Nb.a,{"data-testid":"mob-search-testid",className:"mob-plp-sections",children:Object(u.jsx)(xb.a,{className:"mob-plp-col",children:!_.isSearchedMode&&X&&X.length?X.filter((function(e){return!e.isHidden})).map((function(e,t){var n=e.id,a=e.name,i=e.dname,c=(e.imageName,e.products),o=e.categories,r=e.isHidden;return e.displayOrder,e.specials,e.exclusive,e.timer,e.discount,!r&&Object(u.jsxs)("div",{id:a.trim(),className:0===t||be?"carousal-menu-container":"small-menu-container",children:[te>1&&1===t&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"product-view-section",children:[Object(u.jsxs)("span",{className:"product-view",children:[Object(Ce.e)(Le),":"]}),Object(u.jsx)(Pa.a,{src:se?Mb:Fb,className:"product-view-up-icon",onClick:Re,"data-testid":"change-view-to-up"}),Object(u.jsx)(Pa.a,{src:be?Hb:Ub,className:"product-view-carousal-icon",onClick:we,"data-testid":"change-view-to-carousal"})]}),Object(u.jsx)("hr",{className:"product-view-divider"})]}),Object(u.jsxs)("div",{className:"d-flex position-relative",children:[Object(u.jsx)("div",{className:"small-category-name",children:i[0].value}),!se&&Object(u.jsxs)("div",{className:"card-counter",children:[me,"/",te]})]}),Be(c,o,n,0===t?"carousal":"viewup")]})})):Ge()})}),Object(u.jsx)(Yb,{ref:S,className:"sidenav-filter",filterList:a,dietaryList:r,sortByListMob:s,handleClearItems:l,closeSearchFilterMenu:He,handleFilteredData:b,handleSearchdata:v,setSearchModeData:Me,data:t,inputSearchData:H})]})};function Vb(e,t,n,a,i,c){var o={CLEAR_ALL_MSG:{MSGTXT1:"categoryNotAvailable",MSGTXT2:"notAvailable",MSGTXT3:Object(x.mb)(null===t||void 0===t?void 0:t.type,"for ".concat(n),"")},CONTINUE:"continue"};return Object(x.r)(a,!(null===i||void 0===i?void 0:i.isStoreClosed))&&Object(u.jsx)(Ri,{handleClose:c,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(yi,{splitTitle:o.CLEAR_ALL_MSG,imageSrc:cl,altText:"cart-error",confirmButtonText:Object(Ce.e)(null===o||void 0===o?void 0:o.CONTINUE),confirmHandler:c})})}var Wb={contentData:{modalContent:{unavailableText:{contentText:"unavailableCartText",contentMain:"unavailableCartMain",cartQuery:"unavailableCartQuery"},priceChangeText:{contentText:"priceChangedCartText",contentMain:"priceChangedCartMain",cartQuery:"priceChangedCartQuery"},bothChangeText:{contentText:"bothChangeCartText",contentMain:"bothChangeCartMain",cartQuery:"bothChangeCartQuery"},infoObject:{type:"info",infoText:"cartInfoText"},discardbuttonTypes:{buttonText:"discardChanges",selectDefault:!1,type:"discardChanges"},confirmButtonTypes:{buttonText:"confirmChanges",selectDefault:!1,type:"confirmChanges"}}}},qb=function(e){var t,n,a,o,r=e.modalContent,s=e.onCartStatesMethodSubmit,d=e.setRef,l=void 0===d?null:d,b=e.unavailableItems,v=e.priceChangedItems,O=r.unavailableText,m=void 0===O?{}:O,f=r.priceChangeText,p=void 0===f?{}:f,h=r.bothChangeText,g=void 0===h?{}:h,E=r.infoObject,I=void 0===E?null:E,T=r.discardbuttonTypes,S=r.confirmButtonTypes,A=Object(i.useState)(Object(x.Ib)(window.innerWidth)),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(N.c)((function(e){return e.tenantReducer})),w=function(){var e=Object(x.Ib)(window.innerWidth);_(e)};Object(i.useEffect)((function(){window.addEventListener("resize",w)}),[D]);var P=function(e,t,n){var a=e.newFoodLineItem,i=e.cartPrice,c=e.menuPrice,o=a.item,r=o.dname,s=o.imageName,d="unavailables"===n?"unavailable-items":"priceChanged-items";return Object(u.jsx)("div",{className:"cart-card-row","data-testid":d,children:Object(u.jsxs)("div",{className:"cart-card d-flex",children:[Object(u.jsx)(C.a,{className:"cart-card-image",defaultPath:Object(x.R)(null,R,!0),srcFile:Object(x.R)(s,R)}),Object(u.jsxs)("div",{className:"cart-card-name",id:t,tabIndex:"0",children:[Object(u.jsx)("div",{className:"cart-item-dname",children:r[0].value}),Object(u.jsxs)("div",{className:"cart-item-price",children:[R.currencySymbol,"unavailables"===n?i:c]}),"priceChanges"===n&&Object(u.jsxs)("span",{className:"old-price",children:[R.currencySymbol,i]})]})]})},t)},L=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Za.a,(t={"data-testid":"cartstate-button-comp",className:"".concat(T.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,T.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(t,"className","button whiteButton order-type-button"),Object(Re.a)(t,"aria-label","order type ".concat(T.buttonText)),Object(Re.a)(t,"children",Object(Ce.e)(T.buttonText)),t),T.type),Object(u.jsx)(Za.a,(n={"data-testid":"cartstate-button-comp",className:"".concat(S.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,S.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(n,"className","button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),Object(Re.a)(n,"aria-label","order type ".concat(Object(Ce.e)(S.buttonText))),Object(Re.a)(n,"children",Object(Ce.e)(S.buttonText)),n),S.type)]}),k=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Za.a,(a={"data-testid":"cartstate-button-comp",className:"".concat(S.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,S.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(a,"className","button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),Object(Re.a)(a,"aria-label","order type ".concat(Object(Ce.e)(S.buttonText))),Object(Re.a)(a,"children",Object(Ce.e)(S.buttonText)),a),S.type),Object(u.jsx)(Za.a,(o={"data-testid":"cartstate-button-comp",className:"".concat(T.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,T.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(o,"className","button whiteButton order-type-button"),Object(Re.a)(o,"aria-label","order type ".concat(Object(Ce.e)(T.buttonText))),Object(Re.a)(o,"children",Object(Ce.e)(T.buttonText)),o),T.type)]});return Object(i.useEffect)((function(){b.length&&!v.length?it({popupTitle:[Object(Ce.e)(m.contentText),Object(Ce.e)(m.contentMain),Object(Ce.e)(m.cartQuery)].join(" ")}):!b.length&&v.length?it({popupTitle:[Object(Ce.e)(p.contentText),Object(Ce.e)(p.contentMain),Object(Ce.e)(p.cartQuery)].join(" ")}):b.length&&v.length&&it({popupTitle:[Object(Ce.e)(g.contentText),Object(Ce.e)(g.contentMain),Object(Ce.e)(g.cartQuery)].join(" ")})}),[b,v]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{ref:l,className:"cart-module-form","data-testid":"cart-modal-component",children:[b.length&&!v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Ce.e)(m.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Ce.e)(m.contentMain)})," ",Object(Ce.e)(m.cartQuery)]}):null,!b.length&&v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Ce.e)(p.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Ce.e)(p.contentMain)})," ",Object(Ce.e)(p.cartQuery)]}):null,b.length&&v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Ce.e)(g.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Ce.e)(g.contentMain)})," ",Object(Ce.e)(g.cartQuery)]}):null,v.length&&I?Object(u.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(u.jsx)("span",{children:Object(Ce.e)(I.infoText)})}):null,b&&b.length?Object(u.jsx)(c.a.Fragment,{children:b.map((function(e,t){return P(e,t,"unavailables")}))}):null,v&&v.length?Object(u.jsx)(c.a.Fragment,{children:v.map((function(e,t){return P(e,t,"priceChanges")}))}):null,Object(u.jsx)("form",{className:"form",onSubmit:s,"data-testid":"form-component",children:Object(u.jsxs)("section",{className:"form__section",children:[Object(u.jsx)("div",{className:"order-button-section",children:D?k:L}),Object(u.jsx)("div",{className:"clearfix"})]})})]})})},zb=function(e){var t=e.handleClose,n=e.CartStatesModuleForm,a=e.modalTitleId,i=void 0===a?"":a;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"CartStatesModulePopup",role:"dialog",modalTitleId:i,show:!0,classNames:"cart-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,autoFocus:!0,children:n})})},Qb=function(e){var t=e.unavailableItems,n=e.priceChangedItems,a=e.confirmChangesHandler,c=e.discardChangesHandler,o=Wb.contentData,r=(void 0===o?{}:o).modalContent,s=void 0===r?{}:r,d=Object(i.useContext)(E.a).userOrderStateDispatch,l=Ae.a.CART_STATES_DATA,b=void 0===l?"":l,v=Ae.a.ADD_TO_CART_CLICK,j=void 0===v?"":v,O=Object(u.jsx)(qb,{modalContent:s,onCartStatesMethodSubmit:function(e,t){e.stopPropagation(),e.preventDefault(),"discardChanges"===t?c():a()},unavailableItems:t,priceChangedItems:n});return Object(u.jsx)(zb,{handleClose:function(e){e.stopPropagation(),e.preventDefault(),d({type:b,value:{showCartModal:!1}}),d({type:j,value:{addToCart:!1}})},CartStatesModuleForm:O})},Jb=function(e){var t=Object(N.c)((function(e){return e.tenantReducer})),n=Object(x.J)(Object(N.c)((function(e){return e.menuReducer}))),a=n.flatResponse,o=(a=void 0===a?{}:a).itemMapById,r=void 0===o?{}:o,s=n.isLoading,d=void 0!==s&&s,l=Object(i.useContext)(E.a),b=l.userOrderState,v=l.userOrderStateDispatch,O=Ae.a.CART_STATES_DATA,m=Ae.a.ADD_TO_CART_CLICK,f=Ae.a.MENU_URL,p=t.currencyConversionFactor,h=t.tenantId,g=b.productItemId,I=b.oldProduct,T=b.categoryId,C=(Object(x.Cb)(b.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):b.dispositionNew)||{},S=(C.date,C.time,Object(i.useState)([])),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)([]),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(N.c)((function(e){return e.cartReducer})),k=Object(N.c)((function(e){return e.menuReducer.currentItemDetails})),M=Object(N.b)();Object(i.useEffect)((function(){if(v({type:O,value:{showCartModal:!0}}),r&&p&&!d)if(g){var e=function(e,t,n,a,i){var c={toRemove:!0,requireModification:!1,findings:["Item not available"],menuPrice:void 0,newFoodLineItem:{item:{dname:null===a||void 0===a?void 0:a.productName,imageName:null===a||void 0===a?void 0:a.productImage,id:i}},cartPrice:null===a||void 0===a?void 0:a.productPrice},o=null===t||void 0===t?void 0:t[e];if(o){var r,s;c.findings=[],c.toRemove=!1;var d=(null!==(r=null===o||void 0===o||null===(s=o.availability)||void 0===s?void 0:s[0])&&void 0!==r?r:{}).price,l=(void 0===d?0:d)/n,u=a.productPrice;l!==u?(c.findings.push("Item Price has changed Cart Price(".concat(u,"), Menu price(").concat(l,")")),c.requireModification=!0,c.menuPrice=l,c.cartPrice=u):(c.menuPrice=l,c.cartPrice=u)}return c}(g,r,p,I,g),t=[];e.toRemove&&t.push(e),D(t);var n=[];e.requireModification&&n.push(e),P(n)}else D([]),P([])}),[p,g,r,d]),Object(i.useEffect)((function(){k&&T&&M(Object(Ct.s)({showProductListingModal:!0,categorySelected:T}))}),[k]);var F=function(){e.history.push({pathname:"".concat(f)})};return Object(u.jsx)(c.a.Fragment,{children:b.cartStateData.showCartState&&(y.length||w.length)&&Object(u.jsx)(Qb,{"data-testid":"productStatesModule",unavailableItems:y,priceChangedItems:w,confirmChangesHandler:function(){console.log("test"),y.length?b.fromPdpPage&&F():b.customizable?M(Object(pi.c)({tenantId:h,catalogName:b.catalogs,itemId:g})):(M(Object(Ct.a)({params:{basketId:L&&L.cartData&&L.cartData.id},tenantId:h},[{Id:g,categoryId:T,quantity:1,modGrps:[]}])),M(Object(Ct.r)(new Date))),v({type:O,value:{showCartModal:!1}}),v({type:m,value:{addToCart:!1}})},discardChangesHandler:function(){v({type:O,value:{showCartModal:!1}}),v({type:m,value:{addToCart:!1}}),b.fromPdpPage&&F()}})})};Jb.defaultProps={};var Xb=Object(o.i)(Jb),Zb=function(){var e=Object(i.useContext)(E.a).userOrderStateDispatch,t=Object(o.f)(),n=Ai(void 0,void 0,void 0,void 0,e,Object(N.b)(),void 0).showCartAlert,a=Object(u.jsx)(Ri,{handleClose:function(){return n(!1)},classNames:"",CartAlertForm:Object(u.jsx)(yi,{title:Object(Ce.e)("multipleCustomizationText"),confirmButtonText:Object(Ce.e)("Yes"),cancelButtonText:Object(Ce.e)("No"),cancelHandler:function(){return n(!1)},confirmHandler:function(){return n(!1),t.push({pathname:"/cart"}),void window.scrollTo(0,0)}})});return _i.a.createPortal(a,document.getElementById("modal-popups"))},$b=n(111),ev=n(90),tv=function(e){var t,n,a,c,r=e.routePath,s=e.hideNav,d=Object(i.useState)(Object(x.Ib)(window.innerWidth)),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(o.f)(),m=Object(N.c)((function(e){var t,n,a,i;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(n=e.appStateReducer)||void 0===n?void 0:n.userStatus,brandPageContent:null===(a=e.brandPageReducer)||void 0===a?void 0:a.response,homePageContent:null===(i=e.contentReducer)||void 0===i?void 0:i.response}})),p=m.marketPageContent,h=m.tenantReducerContent,g=m.userParams,E=m.brandPageContent,T=m.homePageContent,C=null!==(t=p.headerData)&&void 0!==t?t:{},S=C.header,A=void 0===S?{}:S,y=C.footer,D=void 0===y?{}:y,_=(null!==E&&void 0!==E?E:{}).headerData,R=void 0===_?{}:_,w=Tl()(R,"hostUrl",""),P=Object(x.V)(A),L=Object(x.N)(D),k=null!==(n=Object(x.U)(T))&&void 0!==n?n:{},M=f.a.DISPOSITION,F=Object(N.b)(),H='<iframe src="'.concat(w,'" onload=\'(function(o){o.style.height=o.contentWindow.document.body.scrollHeight+"px";}(this));\' style="height:100vh;width:100%;border:none;overflow:hidden;"></iframe>'),U=Object(u.jsx)("div",{children:Object(u.jsx)("div",{id:"hostedContentFrame",dangerouslySetInnerHTML:{__html:H}})}),B=function(){var e=Object(x.Ib)(window.innerWidth);v(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",B),function(){window.removeEventListener("resize",B)}}),[b]),Object(i.useEffect)((function(){r&&F(Object($b.c)({object:Object(I.a)(),contentFull:{content_type:ev.a.Template1,select:"sys.id,fields","fields.routePath":r,include:5}}))}),[F,r]),Object(i.useEffect)((function(){F(pb(h))}),[F,null===h||void 0===h?void 0:h.country]),Object(u.jsxs)(u.Fragment,{children:[P&&(!s||!1===s)&&Object(u.jsx)(ni,{contentData:P,tenantReducerData:h,userParams:g}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(a=null===k||void 0===k?void 0:k[M])&&void 0!==a?a:{},contentDispositionData:null!==(c=null===k||void 0===k?void 0:k[M])&&void 0!==c?c:{}},userParams:g,showHeader:!1}),U,L&&(!s||!1===s)&&Object(u.jsx)(ha,{history:O,contentData:L,tenantReducerData:h})]})};tv.defaultProps={history:{},hideNav:!1};var nv=tv,av=function(e){var t=e.body,n=e.headline;return Object(u.jsxs)("div",{className:"container brand-page",children:[Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"row pt-3 pb-3",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("h1",{className:"title text-uppercase font-weight-bold position-relative ng-binding",children:n})})})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(t)}})})]})},iv=function(e){var t,n,c,r,s=e.routePath,d=e.hideNav,l=Object(i.useState)(Object(x.Ib)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(o.f)(),p=Object(N.c)((function(e){var t,n,a,i;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(n=e.appStateReducer)||void 0===n?void 0:n.userStatus,brandPageContent:null===(a=e.brandPageReducer)||void 0===a?void 0:a.response,homePageContent:null===(i=e.contentReducer)||void 0===i?void 0:i.response}})),h=p.marketPageContent,g=p.tenantReducerContent,E=p.userParams,T=p.brandPageContent,C=p.homePageContent,S=null!==(t=h.headerData)&&void 0!==t?t:{},A=S.header,y=void 0===A?{}:A,D=S.footer,_=void 0===D?{}:D,R=(null!==T&&void 0!==T?T:{}).headerData,w=void 0===R?{}:R,P=w.carousalContent,L=(P=void 0===P?{}:P).fields,k=(L=void 0===L?{}:L).carousalContent,M=void 0===k?"":k,F=w.seoPage,H=(F=void 0===F?{}:F).fields,U=(H=void 0===H?{}:H).title,B=void 0===U?"":U,G=null!==(n=M&&cr(M))&&void 0!==n?n:[],Y=Object(x.V)(y),K=Object(x.N)(_),V=null!==(c=Object(x.U)(C))&&void 0!==c?c:{},W=Object(N.b)(),q=f.a.DISPOSITION,z=Object(u.jsxs)(u.Fragment,{children:[null!==(r=Object(x.Db)(G)&&Object(u.jsx)("div",{className:"market-hero",children:Object(u.jsx)(ir,{contentData:G,isMobile:v})}))&&void 0!==r?r:null,Object(u.jsx)(av,Object(a.a)({},w))]}),Q=function(){var e=Object(x.Ib)(window.innerWidth);O(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",Q),function(){window.removeEventListener("resize",Q)}}),[v]),Object(i.useEffect)((function(){s&&W(Object($b.c)({object:Object(I.a)(),contentFull:{content_type:ev.a.Template2,"fields.routePath":s,include:5}}))}),[W,s]),Object(i.useEffect)((function(){W(pb(g))}),[W,null===g||void 0===g?void 0:g.country]),Object(u.jsxs)(u.Fragment,{children:[!bs()(B)&&Object(u.jsx)(zr,{page:B}),Y&&(!d||!1===d)&&Object(u.jsx)(ni,{contentData:Y,tenantReducerData:g,userParams:E}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null===V||void 0===V?void 0:V[q],contentDispositionData:null===V||void 0===V?void 0:V[q]},userParams:E,showHeader:!1}),!bs()(w)&&z,K&&(!d||!1===d)&&Object(u.jsx)(ha,{history:m,contentData:K,tenantReducerData:g})]})};iv.defaultProps={history:{},hideNav:!1};var cv=iv,ov=[{filterBy:["exclusive","topseller","newitem"],dietry:["all","veg"]}],rv=[{name:"New",selected:!1},{name:"Bestsellers",selected:!1},{name:"Best Value",selected:!1}],sv=function(e,t){return"true"===e===t},dv=function(e,t){var n=[];return e.forEach((function(e){e[t].forEach((function(e){var t={name:e,checked:!1};n.push(t)}))})),n},lv=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"equals",i=[],c=e.categories.filter((function(e){return!e.isHidden})).map((function(e){var c,o=e.products.filter((function(e){return!e.isHidden&&e[t]===n}));return"exists"===a&&(o=e.products.filter((function(e){return!e.isHidden&&-1!==e[t].toLowerCase().indexOf(n)}))),!!(null===(c=o)||void 0===c?void 0:c.length)&&(e.products=o,i.push(o),e)})).filter(Boolean);return{productArr:i,filteredObj:c}},uv=function(e,t){return e.filter((function(e){var n,a,i=null!==(n=null===(a=e.additionalPropertyMap)||void 0===a?void 0:a[t.name])&&void 0!==n?n:"";return sv(i,t.checked)}))},bv=function(e,t){return null===e||void 0===e?void 0:e.flat().filter((function(e){var n,a,i=null!==(n=null===(a=e.additionalPropertyMap)||void 0===a?void 0:a[t.name])&&void 0!==n?n:"";return sv(i,t.checked)}))},vv=function(e){var t,n,c,r,s=Object(i.useState)(Object(x.Ib)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=e.contentData,O=e.selectedCat,m=Object(i.useContext)(E.a),f=m.userOrderState,p=m.userOrderStateDispatch,h=(v.selectedTile,v.storeInfo),g=v.dispositionType,T=v.tenantReducer,C=He,S=Ae.a.DISPOSITION_DATA,A=Object(N.b)(),y=h&&h.summary&&h.summary.menu&&h.summary.menu.catalogs&&h.summary.menu.catalogs.length&&h.summary.menu.catalogs[0]||(null===T||void 0===T?void 0:T.genericMenuName)||"",D=null===h||void 0===h?void 0:h.id,_=g,R=Object(o.g)(),w=Object(N.c)((function(e){return e.cartReducer})),P=null!==(r=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==r?r:{},L=P.flatResponse,k=(L=void 0===L?{}:L).categoryMapByUrl,M=void 0===k?{}:k,F=P.data,H=void 0===F?{}:F,U=P.recommendedProds,B=void 0===U?{}:U,G=Object(i.useState)([]),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)([]),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)([]),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)([]),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)(dv(ov,"filterBy")),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(dv(ov,"dietry")),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)(rv),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)(!1),Te=Object(j.a)(Ie,2),Ce=Te[0],Se=Te[1],ye=Object(i.useState)(!1),De=Object(j.a)(ye,2),_e=De[0],Re=De[1],we=Object(i.useState)("STORE"),Pe=Object(j.a)(we,2),Le=Pe[0],ke=Pe[1],Me=Object(i.useState)(!1),Fe=Object(j.a)(Me,2),Ue=Fe[0],Be=Fe[1],Ge=Object(i.useState)(""),Ye=Object(j.a)(Ge,2),Ke=Ye[0],Ve=Ye[1],We=Object(i.useState)(""),qe=Object(j.a)(We,2),ze=qe[0],Xe=qe[1],$e=Object(i.useMemo)((function(){return Object(x.Cb)(f.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):f.currentStoreInfo}),[f.currentStoreInfo]),et=Object(x.ub)(null===$e||void 0===$e||null===(t=$e.summary)||void 0===t?void 0:t.timings),tt=et.futureDates,nt=et.scheduled,at=et.asap,it=Object(x.ub)(nt).unavailibilities,ct=Object(x.ub)((null===nt||void 0===nt||null===(n=nt.periods)||void 0===n?void 0:n.length)&&(null===nt||void 0===nt?void 0:nt.periods[0])),ot=ct.interval,rt=void 0===ot?0:ot,st=ct.startEndTime,dt=void 0===st?{}:st,lt=dt.from,ut=dt.to,bt=Object(i.useCallback)((function(){if(Object(x.Db)($e)){var e,t,n,a,i,c,o,r=null===(e=$e.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,s=null===(n=$e.summary)||void 0===n?void 0:n.name,d=0===(null===(a=$e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length),l=function(){var e;return nc(lt,ut,rt,null===at||void 0===at?void 0:at.isAvailable,1===(null===tt||void 0===tt?void 0:tt.length)&&(null===T||void 0===T||null===(e=T.country)||void 0===e?void 0:e.toUpperCase())===Ze,it)}();ke(s),function(e,t,n,a){var i=a.setIsStoreClosed,c=a.setIsStoreNone,o=a.setIsModalOpen;"CLOSED"!==n&&!e||t.length?(i(!1),c(!1),o(!1)):(i(!0),c(!1),o(!0))}(d,l,r,{setIsStoreClosed:Se,setIsStoreNone:Re,setIsModalOpen:Be})}else Se(!1),Re(!1),Be(!1)}),[$e]);Object(i.useEffect)((function(){bt()}),[bt]),Object(i.useEffect)((function(){var e=((null===T||void 0===T?void 0:T.componentOptions)||{}).coupons,t=void 0===e?{}:e,n=t.showCouponCopied,a=void 0!==n&&n,i=t.couponCopiedMessage,c=void 0===i?"Coupon Copied":i;a&&(null===f||void 0===f?void 0:f.showCouponCopied)&&(Wt.b.dark(Object(u.jsx)("div",{className:"img-text-div","data-testid":"toast-msg",children:Object(u.jsx)("span",{className:"text",children:c})}),{className:"copied-toast-position",bodyClassName:"success-copied-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss(),p({type:kr.f})}),4e3))}),[]);var vt=function(e){var t,n=JSON.parse(JSON.stringify(H)),i=Object(Oo.a)(n.products),c=[];if(e.find((function(e){return"all"===e.name})))c=i;else{var o=e.filter((function(e){return"filterBy"===e.flag})),r=e.filter((function(e){return"dietary"===e.flag}));c=function(e,t,n){return bs()(e)?[]:(e.forEach((function(e){if(0===t.length){var a=uv(n,e);t.push(a)}else{var i,c=bv(t,e);(i=t[0]).push.apply(i,Object(Oo.a)(c))}})),t)}(o,c,i),c=function(e,t,n){return e&&e.forEach((function(e){if(0===t.length)if("all"===e.name)t.push(n);else{var a=uv(n,e);t.push(a)}else{if("all"===e.name)return null;var i,c=bv(t,e);(i=t[0]).push.apply(i,Object(Oo.a)(c))}})),t}(r,c,i)}t=0===e.length?Object(a.a)({},n):Object(a.a)(Object(a.a)({},n),{},{menu:[],categories:[],products:c.flat()}),V(t)},Ot=function(e){var t=JSON.parse(JSON.stringify(H)),n=lv(t,"mdmId",e,"equals"),a=n.productArr,i=n.filteredObj,c=Object.assign(t,{menu:[],categories:i,products:a.flat()});V(c)},mt=function(e){if(e){var t=JSON.parse(JSON.stringify(H)),n=lv(t,"name",e,"exists"),a=n.productArr,i=n.filteredObj,c=Object.assign(t,{menu:[],categories:i,products:a.flat()});V(c),Os({eventType:"userSearch",selectedData:{searchTerm:e,resultsFound:a.flat().length}},"searchTerm","resultsFound")}else V({})},ft=function(e){var t="";if("string"===typeof e){var n=Object(Oo.a)(pe).map((function(n){return e===n.name?(t="dietary",Object(a.a)(Object(a.a)({},n),{},{checked:!1})):Object(a.a)({},n)}));if("dietary"===t){var i=n.filter((function(e){return e.checked}));console.log([].concat(Object(Oo.a)(oe),Object(Oo.a)(i))),vt([].concat(Object(Oo.a)(oe),Object(Oo.a)(i))),ue(i),he(n);var c=Object(Oo.a)(Z);c.splice(Z.indexOf(e),1),$(c)}var o=Object(Oo.a)(je).map((function(n){return e===n.name?(t="filter",Object(a.a)(Object(a.a)({},n),{},{checked:!1})):Object(a.a)({},n)}));if("filter"===t){var r=o.filter((function(e){return e.checked}));vt([].concat(Object(Oo.a)(le),Object(Oo.a)(r))),re(r),Oe(o);var s=Object(Oo.a)(z);s.splice(z.indexOf(e),1),Q(s)}""===t&&(Ee(xe.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))),ae([]))}else{var d=Object(Oo.a)(pe).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{checked:!1})}));he(d);var l=Object(Oo.a)(je).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{checked:!1})}));Oe(l),Ee(xe.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))),vt([]),Q([]),$([]),ae([]),re([]),ue([])}},pt=function(e){Ve(e)};Object(i.useEffect)((function(){w.showProductListingModal&&A(Object(Ct.s)({showProductListingModal:!1,categorySelected:""}))}),[R]),Object(i.useEffect)((function(){y&&_&&(null===T||void 0===T?void 0:T.tenantId)&&A(Object(pi.e)({channel:C,service:_,tenantId:T.tenantId}))}),[D,_,null===T||void 0===T?void 0:T.tenantId,Ke]);var ht=function(){var e=Object(x.Ib)(window.innerWidth);b(e)},gt=function(){var e=document.getElementById(ze);e&&(e.style.border="none")},Nt=Object(o.h)().category_name,xt=Object(i.useState)(!1),Et=Object(j.a)(xt,2),It=Et[0],Tt=Et[1],St=Object(N.c)((function(e){var t=e.brandPageReducer,n=null!==t&&void 0!==t?t:{},a=n.isBrandPageContentLoading,i=void 0!==a&&a,c=n.response,o=(c=void 0===c?{}:c).headerData;return{isBrandPageContentLoading:i,brandRoutePath:(o=void 0===o?{}:o).routePath}}));Object(i.useEffect)((function(){A(Object($b.c)({object:Object(I.a)(),contentFull:{content_type:ev.a.Template2,select:"sys.id,fields","fields.routePath":null===R||void 0===R?void 0:R.pathname,include:5}}))}),[A,null===R||void 0===R?void 0:R.pathname]),Object(i.useEffect)((function(){if(!bs()(Nt)){var e=null===M||void 0===M?void 0:M[Nt];Tt(Object(x.Db)(e)&&!e.isHidden&&!bs()(null===St||void 0===St?void 0:St.brandRoutePath))}}),[Nt,null===St||void 0===St?void 0:St.brandRoutePath,null===H||void 0===H?void 0:H.categories]);Object(i.useEffect)((function(){window.addEventListener("resize",ht)}),[l]);var At=function(){Be(!1)},yt=Ue&&function(e,t,n,a){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h1",{children:[Qe,", ",e," ",Je]}),Object(u.jsx)("p",{children:"Please select a different store or order during working hours."}),Object(u.jsxs)("div",{className:"d-flex justify-content-center action-buttons",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-light mr-3","data-dismiss":"modal","data-testid":"close-modal-id",onClick:function(){return a()},children:"Keep Browsing"}),Object(u.jsx)("button",{type:"button",className:"btn btn-dark ml-3","data-dismiss":"modal","data-testid":"schedule-order-btn",onClick:function(e){return n(e,t)},children:"Find Open KFC"})]})]})}(Le,h,(function(e,t){e.preventDefault(),e.stopPropagation(),p({type:S,value:{showDisposition:!0}}),At()}),At);return It?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(cv,Object(a.a)({routePath:null===St||void 0===St?void 0:St.brandRoutePath,hideNav:!0},e)),";"]}):Object(u.jsxs)(u.Fragment,{children:[Ue?Object(u.jsx)(jt,{show:!0,autoFocus:!0,classNames:"storeclosedmodal",children:yt,showCloseBtn:!0,closeButtonHandler:function(){return At()},modalTitleRequired:!0,backBtnClassName:"custom-modal-back",backBtnAlt:"back",closeDataTestId:"",backDataTestId:""}):null,!(null===St||void 0===St?void 0:St.isBrandPageContentLoading)&&(l?Object(u.jsx)("div",{"data-testid":"mobile-plp-container",onClick:gt,children:Object(u.jsx)(Kb,Object(a.a)(Object(a.a)({},e),{},{data:H,tenantData:T,tempData:K,filterList:z,dietaryList:Z,sortByListMob:ne,sortByOptions:xe,handleClearItems:ft,handleFilteredData:Ot,handleSearchdata:mt,recommendations:B,catalogs:y,selectedCat:O,triggerGetRecommends:pt,storeClosedData:{isStoreClosed:Ce,isStoreNone:_e,storeName:Le,isModalOpen:Ue},setProductId:Xe}))}):Object(u.jsx)("div",{"data-testid":"desktop-plp-container",className:"plp-container",onClick:gt,children:Object(u.jsx)(Pb,Object(a.a)(Object(a.a)({},e),{},{tenantData:T,data:H,tempData:K,filterList:z,dietaryList:Z,sortByList:ne,handleClearItems:ft,handleFilteredData:Ot,handleSearchdata:mt,recommendations:B,catalogs:y,selectedCat:O,triggerGetRecommends:pt,storeClosedData:{isStoreClosed:Ce,isStoreNone:_e,storeName:Le,isModalOpen:Ue}}))})),f.addToCart&&f.isLocalized&&!f.fromPdpPage?Object(u.jsx)(Xb,{}):null,w.showProductListingModal&&Object(u.jsx)(_d,{}),(null===(c=f.cartAlertData)||void 0===c?void 0:c.showCartAlert)&&Object(u.jsx)(Zb,{})]})},jv=n.p+"static/media/GoTop.c21e2377.svg",Ov=function(e){var t=e.showThreshold,n=void 0===t?300:t,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useState)(0),d=Object(j.a)(s,2),l=d[0],b=d[1];return Object(i.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop;r(!(e<n)),b(e<=0?0:e)};return ds.scroller.scrollTo("root",{duration:1500,delay:100,smooth:!0,containerId:"root"}),window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[l]),o&&Object(u.jsx)(ds.Link,{className:"backToTop show",to:"root",spy:!0,smooth:!0,activeClass:"active",children:Object(u.jsx)(C.a,{srcFile:jv,className:"back-to-top-icon",alt:"back-to-top"})})},mv=Ob((function(e){var t,n,a,r,s,d=gb.DISPOSITION,l=Object(i.useState)(T.U),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useContext)(E.a).userOrderState,I=Object(N.c)((function(e){return e.tenantReducer})),C=Object(x.J)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,S=(C=void 0===C?{}:C).categoryMapByUrl,A=void 0===S?{}:S,y=(null!==I&&void 0!==I?I:{}).tenantId,D=Object(o.h)().category_name,_=Object(i.useState)(!0),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(x.Cb)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,k=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(I)?I:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:L?L.store:{},dispositionType:L&&L.type?Object(x.H)(L.type):Object(x.H)(null===(e=I.authoredContent)||void 0===e?void 0:e.defaultdisposition),selectedTile:g&&Object(x.Db)(g.selectedTile)?g.selectedTile:JSON.parse(localStorage.getItem("selectedTile"))}}),[L,I,g]),M=null,F=null,H=null,U=Object(N.b)(),B=Object(N.c)((function(e){return e.appStateReducer.userStatus})),G=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantData:e.tenantReducer}}));if(G.marketPageContent&&G.tenantData&&G.homePageContent){F=Object(x.U)(G.homePageContent)||null;var Y=G.marketPageContent.headerData||{},K=Y.header,V=void 0===K?{}:K,W=Y.footer,q=void 0===W?{}:W;M=Object(x.V)(V),H=Object(x.N)(q)}return Object(i.useEffect)((function(){U(pb(I))}),[U,null===I||void 0===I?void 0:I.country]),Object(i.useEffect)((function(){U(hb(B))}),[U,B]),Object(i.useEffect)((function(){if(y){var e=Object(x.J)(function(e,t,n){var a=T.U,i={},c=(null!==e&&void 0!==e?e:{}).tenantId,o=null===t||void 0===t?void 0:t[n];if(c&&o){var r,s,d,l=null!==o&&void 0!==o?o:{},u=l.dname;u=void 0===u?[]:u;var b=Object(j.a)(u,1)[0],v=(b=void 0===b?{}:b).value,O=l.shortDescription;O=void 0===O?[]:O;var m=Object(j.a)(O,1)[0],f=(m=void 0===m?{}:m).value,p=l.longDescription;p=void 0===p?[]:p;var h=Object(j.a)(p,1)[0],g=(h=void 0===h?{}:h).value,N=l.imageName,E=void 0===N?[]:N;i={Category:v,CategoryURL:null===(r=window)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.href,CategoryDescription:null!==(d=null!==g&&void 0!==g?g:f)&&void 0!==d?d:v,CategoryImage:Object(x.R)(E,e)},a=T.T}return{seoPageName:a,seoObject:i}}(I,A,D)),t=e.seoPageName,n=e.seoObject;O(t),h(n)}}),[y,D]),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(vb,{}),Object(x.Db)(M)&&Object(u.jsx)(ni,{contentData:M,tenantReducerData:G.tenantData,userParams:B}),Object(u.jsx)(zr,{page:v,seoObj:p}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=F)||void 0===n?void 0:n[d])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=F)||void 0===r?void 0:r[d])&&void 0!==a?a:{}},userParams:B}),Object(u.jsx)(vv,{setShowTopScrollBtn:P,contentData:k,selectedCat:null===e||void 0===e||null===(s=e.location)||void 0===s?void 0:s.selectedCat,history:e.history}),Object(x.Db)(H)&&Object(u.jsx)(ha,{history:e.history,contentData:H,tenantReducerData:G.tenantData}),g.showCartClearAlert&&Object(u.jsx)(ol,{}),w&&Object(u.jsx)(Ov,{showThreshold:500})]})})),fv=n.p+"static/media/Native_select a kfc_grey image.6e97ff02.svg",pv=function(e){var t=e.couponApplyHandler,n=e.data,a=void 0===n?{}:n,o=e.tenantId,r=void 0===o?"":o,s=e.id,d=void 0===s?"":s,l=e.onStartOrderClick,b=e.showViewDetailsButton,v=void 0!==b&&b,O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(x.y)(window.innerWidth),g=function(){p(!0)},N=function(e){if((null===e||void 0===e?void 0:e.showTimer)&&Object(wt.g)(null===e||void 0===e?void 0:e.endTime)){var t=Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:kt}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.endTime})]});return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Pa.a,{src:wr,className:"offers-ribbon timer"}),Object(u.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null===e||void 0===e?void 0:e.header){var n=null===e||void 0===e?void 0:e.header;return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Pa.a,{src:Pr,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"ribbon-text text-white",children:n})]})}};return Object(u.jsxs)(c.a.Fragment,{children:[function(){switch(a.cardType){case"image-text":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[N(e),Object(u.jsx)(C.a,{"data-testid":"offers-deals-card-image",className:"offers-menu-product-image",srcFile:"".concat(Object(Lt.a)(Ht.M)).concat(r,"/images/offers/").concat(h,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.M)).concat(r).concat(kr.a)}),Object(u.jsxs)("div",{className:"offers-card-content","data-testid":"offers-deals-card-header",children:[Object(u.jsx)("h4",{className:"offers-deals-product-title",children:null===e||void 0===e?void 0:e.heading}),Object(u.jsx)("h5",{className:"offers-deals-product-desc",children:null===e||void 0===e?void 0:e.description})]}),Object(u.jsxs)("div",{"data-testid":"offers-deals-card-footer",className:"offer-button-container",children:[Object(u.jsx)(Ot.a,{disabled:!v,"data-testid":"details-button",className:"view-details-btn",onClick:function(){return g()},children:Object(Ce.e)(kr.v)}),Object(u.jsx)(Ot.a,{onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"redeem-btn","data-testid":"redeem-button",children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ce.e)(kr.p):Object(Ce.e)(kr.q)})})]})]},n)}(a,d);case"image":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[N(e),Object(u.jsx)(C.a,{"data-testid":"offers-deals-card-image",className:"offers-menu-product-full-image",srcFile:"".concat(Object(Lt.a)(Ht.M)).concat(r,"/images/offers/").concat(h,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.M)).concat(r).concat(kr.a)}),Object(u.jsxs)("div",{"data-testid":"offers-deals-card-footer",className:"offer-button-container",children:[Object(u.jsx)("button",{className:"view-details-btn image-full-text-btn",onClick:function(){return g()},"data-testid":"details-button",disabled:!v,children:Object(Ce.e)(kr.v)}),Object(u.jsx)("button",{className:"redeem-btn redeem-button-full-image-text",onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,"data-testid":"redeem-button",children:Object(u.jsx)("span",{"data-testid":"btn-txt",className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ce.e)(kr.p):Object(Ce.e)(kr.q)})})]})]},n)}(a,d);case"text":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[N(e),Object(u.jsxs)("div",{className:"offers-card-content-text",children:[Object(u.jsxs)("div",{className:"offers-card-title-desc","data-testid":"offers-deals-card-header",children:[Object(u.jsx)("h4",{className:"offers-deals-product-title",children:null===e||void 0===e?void 0:e.heading}),Object(u.jsx)("h5",{className:"offers-deals-product-desc",children:null===e||void 0===e?void 0:e.description}),(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("h5",{className:"offers-deals-product-valid",children:"".concat(Object(Ce.e)(kr.t)," ").concat(Object(wt.e)(null===e||void 0===e?void 0:e.endTime))})]}),Object(u.jsxs)("div",{className:"offer-button-container","data-testid":"offers-deals-card-footer",children:[Object(u.jsx)(Ot.a,{"data-testid":"details-button",disabled:!v,onClick:function(){return g()},className:"view-details-btn",children:Object(Ce.e)(kr.v)}),Object(u.jsx)(Ot.a,{"data-testid":"redeem-button",onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"redeem-btn",children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ce.e)(kr.p):Object(Ce.e)(kr.q)})})]})]})]},n)}(a,d);case"store":return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals store-card",children:[Object(u.jsx)("img",{src:fv,className:"offers-store-image",alt:""}),Object(u.jsx)("h3",{className:"offer-store-text",children:Object(Ce.e)(kr.g)}),Object(u.jsx)("div",{className:"offer-store-btn-container",children:Object(u.jsx)(Ot.a,{className:"store-btn",onClick:l,ariaLable:Object(Ce.e)(kr.d),children:Object(Ce.e)(kr.d)})})]});case"login":return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals login-card",children:[Object(u.jsx)("h3",{className:"offer-login-text",children:Object(Ce.e)(kr.s)}),Object(u.jsx)("div",{className:"offer-login-btn-container",children:Object(u.jsx)(Ot.a,{className:"login-btn","data-testid":"login-btn",onClick:on,ariaLable:Object(Ce.e)(kr.j),children:Object(Ce.e)(kr.j)})})]})}}(),f&&Object(u.jsx)(Mr,{"data-testid":"deals-modal",data:a,isDealModalOpen:f,handleClose:function(){p(!1)},couponApplyHandler:t})]})},hv=function(e){var t,n,a,c=e.isLocalized,o=void 0!==c&&c,r=e.onStartOrderClick,s=e.isLoggedIn,d=void 0!==s&&s,l=e.copyCoupon,b=Object(N.c)((function(e){return e.tenantReducer})),v=Object(i.useState)(kr.c),O=Object(j.a)(v,2),m=O[0],f=O[1],p=b.tenantId,h=void 0===p?"":p,g=b.componentOptions,E=((null===g||void 0===g||null===(t=g.routes)||void 0===t||null===(n=t.Home)||void 0===n?void 0:n.offersAndDeals)||{}).showViewDetailsButton,I=Object(N.c)((function(e){return e.cartReducer})),T=Object(N.c)((function(e){return e.profileReducer})),C=I.applicableCoupons,S=void 0===C?[]:C,A=I.cartData,y=void 0===A?{}:A,D=y.customer,_=(D=void 0===D?{}:D).id,R=nn.a.getInstance().customerId,w=Object(N.b)(),P=function(e,t,n){var a=Object(Oo.a)(n);return!t&&!ka.b.isGoogle&&a.unshift({cardType:"login"}),!e&&a.unshift({cardType:"store"}),a}(o,d,(a=Object(x.n)(S),Object(wt.i)(a))),L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Math.ceil(n.length/t);if(e<=a&&Array.isArray(n)&&n.length){var i=0,c=e*t>n.length-1?n.length:e*t;return n.slice(i,c)}return n}(m,kr.b,P),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Math.ceil(t.length/e)}(kr.b,P),M=function(t){o?(l(t),Object(x.yb)(e.history)):(l(t),r())};Object(i.useEffect)((function(){((null===y||void 0===y?void 0:y.id)||d||o)&&h&&F()}),[y,o,d,T,h]);var F=function(){o?R===_&&w(Object(Ct.g)({basketId:null===y||void 0===y?void 0:y.id,tenantId:h})):d?T.customerId&&w(Object(Ct.h)({tenantId:h,userId:T.customerId})):w(Object(Ct.i)({tenantId:h}))};return Object(u.jsxs)("div",{className:"offer-deals-container",children:[Object(u.jsx)("div",{className:"offer-card-container",children:L.map((function(e,t){return Object(u.jsx)(pv,{couponApplyHandler:M,onStartOrderClick:r,data:e,id:t,tenantId:h,showViewDetailsButton:E},t)}))}),m!==k&&k>1&&Object(u.jsxs)("div",{className:"load-more-container",children:[Object(u.jsx)(Ot.a,{"data-testid":"load-more-btn",className:"button whiteButton blackBorder load-btn",onClick:function(){return f(m+1)},disabled:m===k,children:Object(Ce.e)(kr.h)}),Object(u.jsx)("span",{className:"page-desc",children:"".concat(Object(Ce.e)(kr.u)," ").concat(kr.b*m," ").concat(Object(Ce.e)(kr.o)," ").concat(P.length)})]})]})},gv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAeCAYAAAB5c901AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABNSURBVHgB7c9BDQAgAMPAgQ4c4F8KDvABFuBHSe+9LGmZ6SsXWkY52b3yW/M5A+kMpDOQzkA6A+kMpDOQzkA6A+kMpDOQzkA6A+kMpNu9MQhKmC+cDgAAAABJRU5ErkJggg==",Nv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAUCAYAAAAOTSQ2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABDSURBVHgB7c4xDQAgEATBf3TgAP9ScIAPcPAkS0Ox014u2VwxdhR6zKz2l//t2+JjxlHGUcZRxlHGUcZRxlHGUcZRB8JSCDYbp9G6AAAAAElFTkSuQmCC",xv=function(e){var t=e.isLoggedIn,n=void 0!==t&&t,a=e.isMobile,i=e.isLocalized,c=void 0!==i&&i;return Object(u.jsxs)("div",{className:"deals-offers-header","data-testid":"offers-deals-header",children:[Object(u.jsx)("div",{className:"deals-offers-header-icon",children:Object(u.jsx)("img",{className:"deals-stripe-icon",src:a?Nv:gv,alt:""})}),Object(u.jsxs)("div",{className:"deals-header-text-container",children:[Object(u.jsx)("h2",{className:"header-text","data-testid":"header-text",children:n||c?Object(Ce.e)(kr.i):Object(Ce.e)(kr.n)}),!n&&Object(u.jsx)("p",{"data-id":T.o.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"offers-deals-signin-text",className:"login-text",onClick:on,children:Object(Ce.e)(kr.k)})]})]})},Ev=n.p+"static/media/offer_deals_banner.777f20e1.svg",Iv=function(e){var t=e.onStartOrderClick,n=e.copyCoupon,c=Object(i.useState)(Object(x.Ib)(window.innerWidth)),o=Object(j.a)(c,2),r=o[0],s=o[1],d=Object(N.c)((function(e){return e.appStateReducer})).userStatus,l=void 0===d?{}:d,b=l.localized,v=void 0!==b&&b,O=l.loggedIn,m=void 0!==O&&O,f=Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){return window.addEventListener("resize",p),function(){window.removeEventListener("resize",p)}}));var p=function(){s(Object(x.Ib)(window.innerWidth))};return Object(u.jsxs)("div",{className:"deals-offer-container-section",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(Ev,")")},className:"deals-header-image",children:Object(u.jsx)("h2",{className:"deals-image-text",children:Object(Ce.e)(kr.e)})}),Object(u.jsxs)("div",{className:"deals-offers-container",children:[Object(u.jsx)(xv,{isLoggedIn:m,isMobile:r,isLocalized:v}),Object(u.jsx)(hv,Object(a.a)({onStartOrderClick:t,copyCoupon:n,isLoggedIn:m,isLocalized:v},e))]}),f.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},Tv=function(e){var t,n,o,r,s=Object(N.c)((function(e){return e.appStateReducer.userStatus})),d=Ae.a.DISPOSITION_DATA,l=Object(i.useContext)(E.a),b=l.userOrderState,v=l.userOrderStateDispatch,j=Object(N.c)((function(e){return e.tenantReducer})),O=Object(x.Cb)(b.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):b.dispositionNew,m=(Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(j)?j:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:O?null===O||void 0===O?void 0:O.store:{},dispositionType:O&&O.type?Object(x.H)(O.type):Object(x.H)(null===j||void 0===j||null===(e=j.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[O,j]),null),g=null,T=null,C=f.a.DISPOSITION,S=Object(N.b)();Object(i.useEffect)((function(){S(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===j||void 0===j?void 0:j.country,"fields.channel":ka.b.channel,include:5}})),S(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:s}))}),[S,null===j||void 0===j?void 0:j.country,s]);var A=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null}}));if(A.marketPageContent&&A.tenantReducerContent&&A.homePageContent){m=Object(x.U)(A.homePageContent);var y=A.marketPageContent.headerData||{},D=y.header,_=void 0===D?{}:D,R=y.tenant,w=void 0===R?[]:R,P=y.footer,L=void 0===P?{}:P;g=Object(x.V)(_),T=Object(x.N)(L),Object(x.kb)(w)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(g)&&Object(u.jsx)(ni,{contentData:g,tenantReducerData:A.tenantReducerContent,userParams:s})||null,Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=m)||void 0===n?void 0:n[C])&&void 0!==t?t:{},contentDispositionData:null!==(o=null===(r=m)||void 0===r?void 0:r[C])&&void 0!==o?o:{}},userParams:s}),Object(u.jsx)(Iv,Object(a.a)({"data-testid":"deals-offers-container",copyCoupon:function(e){navigator&&navigator.clipboard&&navigator.clipboard.writeText(e),v({type:kr.r})},onStartOrderClick:function(){v({type:d,value:{showDisposition:!0}})}},e)),Object(x.Db)(T)&&Object(u.jsx)(ha,{history:e.history,contentData:T,tenantReducerData:A.tenantReducerContent})||null]})},Cv=n(216),Sv=function(e){var t=e.isMobile,n=Fn.a.CART_HEADER;return Object(u.jsxs)("div",{className:"cart-header","data-testid":"cart-header-test",children:[Object(u.jsx)("img",{src:t?Nv:gv,alt:" "}),Object(u.jsx)("h1",{className:"cart-header-text",children:Object(Ce.e)(n)})]})},Av=function(e,t,n){Object(x.Db)(e)?(t(e.id),n(e.price)):(t(""),n(0))},yv=function(e,t){Object(x.Db)(e)?t(e.id):t("")},Dv=function(e){var t,n=e.contentData,a=void 0===n?{}:n,c=e.currencySymbol,o=void 0===c?"":c,r=e.currencyConversionFactor,s=void 0===r?"":r,d=e.addHope,l=void 0===d?"":d,b=e.carryBag,v=void 0===b?"":b,O=e.bucketId,m=void 0===O?"":O,f=e.isMobile,p=e.tenantId,h=void 0===p?"":p,g=e.confirmChangesHandler,I=e.dispositionData,T=void 0===I?{}:I,C=a.totalAmount,S=void 0===C?"":C,A=a.quantity,y=void 0===A?"":A,D=a.additionalCharges,_=void 0===D?[]:D,R=a.discountAmounts,w=void 0===R?[]:R,P=a.subTotal,L=void 0===P?"":P,k=a.taxAmounts,M=void 0===k?"":k,F=Object(N.b)(),H=Ai({cartId:m},h,void 0,void 0,void 0,F,void 0).itemRemoveHandler,U=Fn.a.CART_SUMMARY_CARD,B=void 0===U?{}:U,G=Fn.a.FROMCHECKOUT,Y=void 0===G?"":G,K=B.QUANTITY_TEXT,V=B.QUANTITYS_TEXT,W=B.SUBTOTAL,q=B.ADD_HOPE_HEADER,z=B.ADD_HOPE_TEXT,Q=B.CHECKOUT,J=B.CARRY_BAG,X=B.TAKEAWAY,Z=B.RESTAURANT_HANDLING_CHARGE,$=B.GST,ee=B.DONATE,te=B.addHopeText,ne=B.largeCarryBagText,ae=B.SEARCH_IN_MENU,ie=B.SEARCH_IN_CART,ce=Object(i.useState)(!1),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,le=(de=void 0===de?{}:de).specialItemMapByName,ue=void 0===le?{}:le,be=(Object(N.c)((function(e){return e.cartReducer}))||{}).cartData,ve=void 0===be?{}:be,je=Object(i.useState)(),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(0),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useState)(),Ee=Object(j.a)(xe,2),Ie=Ee[0],Te=Ee[1],Se=Object(i.useState)(0),Ae=Object(j.a)(Se,2),ye=Ae[0],De=Ae[1],_e=Object(i.useState)(),Re=Object(j.a)(_e,2),we=Re[0],Pe=Re[1],Le=Object(i.useState)(),ke=Object(j.a)(Le,2),Me=ke[0],Fe=ke[1],He=Object(i.useContext)(E.a).userOrderState,Ue=localStorage.getItem("expiryMessage");Object(i.useEffect)((function(){if(ue){var e=Object(x.p)(ue,l,s,ae);Av(e,fe,Ne);var t=Object(x.v)(ue,v,s,ae);Av(t,Te,De)}}),[ue]),Object(i.useEffect)((function(){if(ve&&!(null===ve||void 0===ve?void 0:ve.errorCode)){var e=Object(x.p)(ve.foodLines,l,s,ie);yv(e,Pe);var t=Object(x.v)(ve.foodLines,v,s,ie);yv(t,Fe)}}),[null===ve||void 0===ve?void 0:ve.errorCode,null===ve||void 0===ve?void 0:ve.foodLines]);var Be=function(e,t){e.stopPropagation(),e.preventDefault();var n=e.target.checked,a=e.target.id;n?F(Object(Ct.a)({params:{basketId:m},tenantId:h},[{Id:a,categoryId:"",quantity:1,modGrps:[]}])):H({foodLineId:t,flag:"specialItems"});F(Object(Ct.r)(new Date))},Ge=function(){var e=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||t.top<0&&t.bottom<0||t.top<=0&&t.bottom>0}(document.getElementById("summary-card"));se(e)};Object(i.useEffect)((function(){return f&&document.addEventListener("scroll",Ge),function(){document.removeEventListener("scroll",Ge)}}),[]);var Ye=function(e){e.stopPropagation(),e.preventDefault(),g(Y),Xt()};return Object(u.jsxs)("div",{className:"cart-summary-card",id:"summary-card","data-testid":"cart-summary-card-test",children:[Object(u.jsxs)("h2",{className:"cart-summary-item-count",children:[y," ",Object(x.mb)(1===y,Object(Ce.e)(K),Object(Ce.e)(V))]}),Object(u.jsx)("div",{className:"cart-summary-coupons",children:Object(u.jsx)(Hn,{bucketId:m})}),Object(u.jsxs)("div",{className:"cart-summary-content",children:[Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ce.e)(W)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,L]})]}),Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ce.e)($)}),Object(u.jsx)("div",{className:"cart-summary-content-item-value",children:M})]}),_.length>0&&_.map((function(e,t){return Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ce.e)(Z)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,e.amount]})]},t)})),w.length>0&&w.map((function(e,t){return Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsxs)("div",{className:"cart-summary-content-item-name d-flex",children:[Object(u.jsxs)("span",{className:"cart-discount-code",children:[Object(Ce.e)("DiscountText")," (",e.couponCode,")"]}),Object(u.jsx)("span",{className:"cart-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:function(){return t=null===e||void 0===e?void 0:e.couponCode,localStorage.removeItem("expiryMessage"),void F(Object(Ct.m)({basketId:m,tenantId:h,couponCode:t}));var t},children:Object(u.jsx)("img",{src:Un})})]}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:["- ",o,e.amount]})]},t)})})),(null===He||void 0===He?void 0:He.couponErrorMessage)&&Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:At,alt:"close"}),Object(u.jsx)("span",{children:null===He||void 0===He?void 0:He.couponErrorMessage})]})})}),_v(Ue),T.type===X&&Me?Object(u.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-carry-bag-text",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ce.e)(ne)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,null===ye||void 0===ye?void 0:ye.toFixed(2)]})]}):null,we?Object(u.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-add-hope-text",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ce.e)(te)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,null===ge||void 0===ge?void 0:ge.toFixed(2)]})]}):null]}),T.type===X&&Ie?Object(u.jsxs)("div",{className:"cart-carry-bag-container",children:[Object(u.jsx)("input",{type:"checkbox",className:"cart-carry-bag-checkbox","data-testid":"cart-carry-bag-checkbox",checked:!!Me,id:Ie,onChange:function(e){return Be(e,Me)}}),Object(u.jsxs)("label",{className:"cart-carry-bag-header",htmlFor:Ie,children:[Object(u.jsx)("span",{children:"".concat(o).concat(ye.toFixed(2)," ")}),Object(u.jsx)("span",{children:Object(Ce.e)(J)})]})]}):null,me?Object(u.jsxs)("div",{className:"cart-add-hope-container",children:[Object(u.jsx)("input",{type:"checkbox",className:"cart-add-hope-checkbox","data-testid":"cart-add-hope-checkbox",checked:!!we,id:me,onChange:function(e){return Be(e,we)}}),Object(u.jsxs)("label",{htmlFor:me,className:"cart-add-hope-content",children:[Object(u.jsxs)("div",{className:"cart-add-hope-header",children:[Object(u.jsx)("span",{children:"".concat(Object(Ce.e)(ee)," ")}),Object(u.jsx)("span",{children:"".concat(o).concat(ge.toFixed(2)," ")}),Object(u.jsx)("span",{children:Object(Ce.e)(q)})]}),Object(u.jsx)("div",{className:"cart-add-hope-text",children:Object(Ce.e)(z)})]}),Object(u.jsx)("img",{className:"cart-add-hope-image",alt:"Add hope logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAkCAYAAAApbHJOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAy+SURBVHgB7RlpdBRF+qvunpnuCYFck5AQEhKTzEzkWARFRBdcRReVfagc+xBXhFV0UUHB97zQGBf2eOKKIF64bxGVQ9RVEFFxQS65BJFrEoPkDklmckySubtqv+o5ck0CZt9j//i91+maqq+++q76jg7AL9A3qDNYF9iN1j/B/wDnZXNWvWJ+uaJ/fsKFcAW4BEAI+y0w9qpDsTwGfQSRCGMIkAWKn25hSLI33EsilEDgJH8zBs86Yy2J0AcgauB4aHiNQzE/3BvuJRGKMva9NiAwwOWDO6EPICny+fZfZEJvuJdEKGSiMjySCAyBPkBc84lGRsDJxwzI8N5wL4lQARqoD48JAQP0EQiDH7U3sP694Uk9LTj05qlMglsYhYGiQF5rcbn2xhhjliLFj5PaznwFPwMkSXcnv1AcKIMY6AM06C8bqgJJRoH4zwSm6Sf4oyt0iyJ2g3UiI2w57hjWZYn79EAk03zeIyQPhdM+uAA4FOvVDNhfcTi+fZatS3IX/QEuEpoGZMQzn/FplcF85FYOz4sGT3x8U2lTtD0RS1XJ2RkGYngZD71dk5QRFwrXguOUEMpA7S9edpNetYAPfuiJkQY5P0Ml7FEUaKFGisE5VFJWcJVkwEUCRrnH/T6yiPOAJinF95Dwms8t8SgaVSjtTjkNljyZ6HdrAjGm4tQqySClo1Wi5hURSA70AHbZerdK1OOEC8RgB6hSviDCA+F1ZO7qIzBKB72AXZ9nQSvvwYDwdxQkwAS4S68XRmGeqg3jEBDMPe0XGmXLEK8AX+Bhmfi7WgU2Iclte1iLNiBURNuEUSip2xyeUy+b1+BtfgcPb0ZGZiZ5bBOJCK14L99sZwYMeXrfZT0xZDdY5oMo7qfArkXrFrjdrbmmNtv7AT99HS2fEkEkwnU90RAogU9CZi0jIF2d7Cneyxdq5CFDCKGLNRkENsfPuPtoVuT27RR9avrlmBxG61FCyFw8eJNHglHIyPoqGGVkJLAN3S8ZQ8QdKPmXHN8j+O+IKpBsfgZpr0IaXnSY8Yku2/ODodLdIJufRqVNowCvkJBLiwRugR41o1gYfyoM1tzwHJr+UZzz1uM8PovC81h77Q7hr+pEAwXi8w7ZXNhxHvE38flG2bqE/3bG5llC+2sY5Bg6C2R5gq/VGy2na9B7wvO1hrz5OE/tivXYJpgmhng+zHFrlPyroskUzlNMz6hSFZuXhEK8j5p6CbVLqUBnm9y25RFsyj4OjSay0L2oU8x4d9hIdJeNiZ6iZ/lcC1oOmdyFbjgNNbwl3nPmBT7fv6XYhpreg8OBDkUqiAhvNKehXy5DXIyo7MZUj610J0yQ6mTLk5hOViI/zX7Gbp8OH2iegnjr+VsHdJ1DyUnvKhRBDTQiWlynWQYn/TTw+1RfyamO03WQ348orBwZi8eAssYHZCmGzyfR9+9HFz6OanwB3XQo/n4E0Xk1/RFRAvcmNpQ4I5pXzOMEIDsQn4fn3V538yRBH5OlEyVeHzIsqeZKTFBUgc1DnOH4lDJVNynJd8IWplGAxnhIsfDfubh+XmV0Ol6bPRGhGo3m36mMvIrjdLROiwBshVP2Ls/qIQfUGi3zRAavB2Wny1GT76iUHOIBoAOanRHybJJrxht412lXGuhik3HzTKCw0+S1vcmjYabSehgtOyKiVwYe3LiOSf5nBraeretKg7uoHuAptGIdFcVVyW2nI7VhMCWhqcuMtaZMl9FO4Ds/XAAwyhViUJhHqX9csvdsiXYAIVNQy/EYhr82eVL2E9gVgJ8B3J3tcts0LekzdkqUvVt7Sq4XAgJ9hEpsIdJbbI6Oc4wxnsxj8fGg0O4L0XAk5PQnbnKrCmKaxNjRJo/32ywo9UTDteuHWo2iz2l0F1ddiC5xyNa5lNDJksE7O5pmeNlEBTWhze37JNqBKEjsypUrZ+VelnOfMcY4NMFPdTkVDhBTk+rEK3+1Q0iMW4ECHuq6r8lovUJl7CsWvHth8GLR+jcP8a8Z5D4byZH1smU8WnAXntaEFd8n6Jr1Al4VfDdgUqqSKP3hmDe9bLhSOdDpDrTy8OjRwqxsuafrwbyhsytmVVvXW6d0XV+yZMnl48aOPfrh5s2MUnQ+hNbWVvb5itWsKm4Ya7TeyNoKX0He2epuylLM79qDKaOszmj5J55fEU4vOHcuHNYLMCjUK9aS8FoPj9baYCRegHRXCIwRTSOosWu6CdXSwo2phX0mMqWLha7MHJxxDNvskdu3boVlBU+BvcIGRuaEmx64G47fOBrU0kpw/2W10HzdjAcDxed24p4IDRKqO4kqPJLsss3B6mOwSuFmrU7EYkAnwLYqSDU+B6Mwz4aSfpDPDbi+GIPKQhwvx4m1OM2LZmhL8b6R6C5aiNJZPwomTsvnEAXqZWsrX6+Tzfd2ECjd9fW+srsm3cp2/mcn2//Ze4w6KyKPo/wUW/bY46y+X35Em03jZ2CRoL4YplGnWNaHrFJfp8sZGZ4vw6oc3a04lMzn8LkmGBaPlizS6BhyeiyxwiCgbx4NaWBwNAQCtFxD7FjEulzPeR56LiOnwQ3b0ErWvCwIBILKPHWmGM6dK4PiqlLo2JsEDh0Hz1sbHkGFZGv0GHiDdHnvJ0TCvq9Z78L7EwwGTA12zAOaeb3JAxD4QcrnSmiIzx4APYDEQK3FipcLpUQXmxzERSsepJVRyFSMd/O22RRdC9KNKJ8L7n+0EFq9frjt5uv5RxakKsOfC5+A8ztmQ6arPU25X3xTJ8+byS2+BF0qwEBr+RqYSJzILdQbzGZ09tdwfQKubUzylmi1ot+rLMPzUzUlC/ApESSgHq0Mw24AtvtFdXlqa0l9u1CENBLNIhA1P6GP2/k6dqzhpnFMYM8h7T7kN3vhpSNHYP4fZ8LlVjOIqH5ZNkBiYiLYzpwFi1ftRItW1ULAVqJV1xQEf6iLzZUI+Qldrg0ZjwHe+hC2uswdszCiVwGTOQsmZMQ5ge843mNhVOXJeoRelWYxSM0jUOPShMLeqEojTcCETdl0PCcWL6EJ2cnC73XJSGAiBKU2hc7ID/xQpA2udTPYXNMImz74FHLy8sAydBjo9AaoOrcdcuxtYFW7FRNAfywdrQ0I9YbSJIZNXr2TZhyW+1X2Qaq/+HDHPQmufoUOpe0ZHB7EtmhCeJ7XjOgZw5kq+sMCaUJhiWPnFwu0vp9shFDjH8zKRPsQEBxBYgWkcxfVh783GAIUHvfIUMiDk78N9u/dBzOmTYastDFgf/vfEA0IC3sApl2ineDU69S7sdi1Qw9QCg4xFktFvCQ/dpw3uYqq8VXdFV9gkojFJolIyU2MUn2Bw1fx/sxijBaE12RjLC98j4vW9piR7QqAqawB+xsGmdnZcMvkKZrMFWNHwup8E3yRFgvfxkpQoiBL6EfEmnNaOxiLee08LKZ9AciGXqC/IoWa0vZPbb2B5GzzNCUoUgPyYQSJWk+2pJVc36Fuqzdabw1bBjM3r6yP6kaPCHjXfqjdqybMInSQCdJSU+HET+Ww78BR2LH7CEydNg3KmxqhX1wK3LDoIXA2N0Pd9ychKXfIwaD28BteyAsoI5fj61BPTKqCOJTHR0qIEy4ChFwo8fJCQPvlZeT6LoVogIbWODIT8E6TRsPsO9/1piTCmhQ9LE4hYB5/FYy+7gY4fPgwLHp4PtRWV0LGkExQRpih+u310IpJfEBcHOROuJaTWaERI9DakY/emMTPAaEgRSW4GKG0TYRopT0Vu3/51JPA2fDYR2kwN4jCUv+u95pn7dgAgzAwXDHmGshOS4B/vbUS+g2Ih7n3zQFnYyO4G50QFx8HOz/dGiaxCpVSEtJQYzvTQgP0yiQJfptgpLDBaOFd9jf47MJ/OBzAhyflGrshd2IYXwpugmruYAIVun1QSXSXVOImzkA8IeIgfB/hjKF1H/zu2z1rs1yqbt0778Ov45Ohde9hmGtvgbgpCyDpnhlwUyoGzMm3wWfbvwGYNfMI7n0+wiiGcRoKGqJIqnsTCgNKAgS/Xsq4J1h9MMB+lJRjhMZIyb73CtTWSShEbNY+dxL+gaQ7YKQ6gJsnYTU/uP0gsh4F06e89o+l4wpeHJSz5XinPkaMiwUioo4zB8HU2VM349R9uCfSBVS3CUWpCpbBwFaa3KcP9iaUQH0FAaLbhrHIgDx6kaHzWFmUp3lOV0T7SisFhYZyjSEC/aIRDVD/Yp0gbDB56UbopEGyFgXbkj7pN8v8X+4d6z90bDhrwHSjE8Fw2w1O0ZS4j2SkrkW8jV1p8i+8Fbp802Dn6V5dj0OC5ydeqpXDRYImCy/zDYRN94G6e6C75AD0AUINIi82eX/Uhk8VCuOA/wP8F2QYnk+6whGRAAAAAElFTkSuQmCC"})]}):null,f?Object(u.jsx)("div",{className:re?"cart-summary-checkout-button-mobile":"cart-summary-checkout-button-mobile fixed","data-testid":"navigation-checkout-mobile",onClick:function(e){return Ye(e)},children:Object(u.jsxs)(Ot.a,{className:"button redButton cart-summary-checkout-button",ariaLable:"checkout",children:[Object(u.jsx)("span",{children:Object(Ce.e)(Q)}),Object(u.jsxs)("span",{children:[o,S]})]})}):Object(u.jsxs)(Ot.a,{className:"button redButton cart-summary-checkout-button","data-testid":"navigation-checkout-desktop",onClick:function(e){return Ye(e)},children:[Object(u.jsx)("span",{children:Object(Ce.e)(Q)}),Object(u.jsxs)("span",{children:[o,S]})]})]})};function _v(e){return Object(u.jsx)(u.Fragment,{children:e&&Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:At,alt:"close"}),Object(u.jsx)("span",{children:e})]})})})})}var Rv=function(e){var t=e.contentData,n=void 0===t?[]:t,a=e.isModalOpen,c=Fn.a.PRICECHANGENOTIFICATION,o=Fn.a.OUTOFSTOCKNOTIFICATION,r=Object(i.useState)(!1),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1];return Object(i.useEffect)((function(){var e=n.filter((function(e){return e.toRemove}));e&&e.length>0?l(!0):l(!1);var t=n.filter((function(e){return e.requireModification}));t&&t.length>0?m(t.length):m(0)}),[n]),Object(u.jsxs)("div",{"data-testid":"cart-notification",children:[d&&!a?Object(u.jsxs)("div",{className:"notify-alert","data-testid":"out-of-stock-notify",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),Object(Ce.e)(o)]}):null,O&&!a?Object(u.jsxs)("div",{className:"notify-alert","data-testid":"price-update-notify",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),"".concat(O," ").concat(Object(Ce.e)(c))]}):null]})},wv=function(e){var t=e.contentData,n=void 0===t?[]:t,a=e.cartSummary,r=e.addHope,s=e.carryBag,d=e.maxItemCountPerLineItem,l=e.isMobile,b=e.currencySymbol,v=e.isModalOpen,j=e.bucketId,O=e.showPriceWithTax,m=Fn.a.CART_FOOD_LIST_ITEM,f=Fn.a.QUANTITY_ACTION,p=Fn.a.ALERT,h=m.EDIT,g=m.REMOVE,I=m.REMOVE_ALL,T=m.ITEM_QUANTITY,S=m.MODIFIER_QUANTITY,A=m.ADD_MORE_MENU,y=Object(x.J)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,D=(y=void 0===y?{}:y).productMapById,_=void 0===D?{}:D,R=Object(N.c)((function(e){return e.tenantReducer||{}})),w=R.tenantId,P=Object(i.useContext)(E.a),L=P.userOrderState,k=P.userOrderStateDispatch,M=L.cartAlertData,F=Ai(a,w,L.cartItems,_,k,Object(N.b)(),Object(o.f)()),H=F.itemAllRemoveAction,U=F.itemQuantityHandler,B=F.itemRemoveHandler,G=F.itemEditHandler,Y=F.itemAllRemoveHandler,K=F.addMoreMenuHandler,V=F.showCartAlert,W=function(e){var t;return Object(u.jsx)(oe,{header:e.foodName,children:Object(u.jsx)("div",{className:"cart-food-modifier",children:Object(u.jsx)("ul",{children:(null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.length)?e.modifiers.map((function(e){return Object(u.jsx)("li",{children:e})})):null})})})},q=function(e){var t;return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"cart-food-name",children:e.foodName}),Object(u.jsx)("div",{className:"cart-food-modifier",children:Object(u.jsx)("ul",{children:(null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.length)?e.modifiers.map((function(e){return Object(u.jsx)("li",{children:e})})):null})})]})},z=function(e){return e?"unavailable-image cart-food-image":"cart-food-image"},Q=function(e){return e?"outofstock cart-highlight cart-food-item-container":"cart-food-item-container"},J=function(e,t){var n;return Object(u.jsxs)("div",{className:"cart-food-quantity-price ".concat(Object(x.mb)(0===(null===(n=e.modifiers)||void 0===n?void 0:n.length),"empty-mods-quantity-price","")," \n      ").concat(t&&"coupon-item-quantity-price"),children:[Object(x.mb)(!t&&!e.toRemove,Object(u.jsx)(ss,{itemCount:e.quantity,itemQuantity:T,updateItemQuantity:U,quantityAction:f,item:e,itemName:e.foodName,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0}),null),e.toRemove||e.requireModification?null:Object(u.jsxs)("div",{className:"cart-food-price",children:[b,Object(x.f)(e.cartPrice,null===e||void 0===e?void 0:e.taxAmount,O)]}),!e.toRemove&&e.requireModification?Object(u.jsxs)("div",{className:"cart-food-price",children:[Object(u.jsxs)("span",{className:"old-price",children:[b,Object(x.f)(e.cartPrice,null===e||void 0===e?void 0:e.taxAmount,O)]}),Object(u.jsxs)("span",{className:"modified-price",children:[b,Object(x.f)(e.menuPrice,null===e||void 0===e?void 0:e.taxAmount,O)]})]}):null]})};return Object(u.jsxs)(c.a.Fragment,{children:[l?null:Object(u.jsx)("div",{className:"cart-notification",children:Object(u.jsx)(Rv,{contentData:n,isModalOpen:v})}),Object(u.jsxs)("div",{className:"cart-food-container","data-testid":"cart-food-item-test",children:[Object(u.jsx)("div",{className:"cart-discount-errors",children:Object(u.jsx)("div",{className:"cart-food-discount-lines",children:(null===L||void 0===L?void 0:L.couponErrorMessage)&&Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:At,alt:"close"}),Object(u.jsx)("span",{children:null===L||void 0===L?void 0:L.couponErrorMessage})]})})}),l&&Object(u.jsx)("div",{className:"cart-offers-mobile",children:Object(u.jsx)(Hn,{bucketId:j})}),n&&n.filter((function(e){var t=e.name;return t!==r&&t!==s})).map((function(e){var t=e.discountComponents,n=(null===t||void 0===t?void 0:t.length)>0;return console.log("Food List",e),l?Object(u.jsxs)("div",{className:Q(e.toRemove),children:[Object(u.jsx)("div",{className:"cart-food-edit-container",children:e.toRemove?Object(u.jsxs)("div",{"data-testid":"outofstock-text",className:"outofstock-text",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("span",{children:Object(Ce.e)("unavailable")})]}):null}),Object(u.jsxs)("div",{className:"image-cart-content",children:[Object(u.jsx)(C.a,{defaultPath:Object(x.R)(null,R,!0),srcFile:e.imageData.src,altText:" ",className:z(e.toRemove)}),Object(u.jsxs)("div",{className:"cart-food-content",children:[e.modifiers.length>S?W(e):q(e),!n&&e.customizable&&Object(u.jsx)("span",{className:"cart-food-edit","data-testid":"cart-food-edit",onClick:function(){return G(e)},children:Object(Ce.e)(h)}),!n&&Object(u.jsx)("span",{className:"cart-food-remove","data-testid":"cart-food-remove",onClick:function(){return B(e)},children:Object(Ce.e)(g)})]})]}),J(e,n)]},e.foodItemId):Object(u.jsxs)("div",{className:Q(e.toRemove),children:[Object(u.jsx)(C.a,{defaultPath:Object(x.R)(null,R,!0),srcFile:e.imageData.src,altText:e.imageData.altText,className:z(e.toRemove)}),Object(u.jsxs)("div",{className:"cart-food-content-parent",children:[Object(u.jsxs)("div",{className:"cart-food-content row",children:[e.modifiers.length>S?W(e):q(e),e.toRemove&&Object(u.jsxs)("div",{"data-testid":"outofstock-text",className:"outofstock-text",children:[Object(u.jsx)(C.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("span",{className:"outoftext-span",children:Object(Ce.e)("unavailable")})]})]}),Object(u.jsxs)("div",{className:"cart-action-price-quantity row",children:[Object(u.jsxs)("div",{children:[Object(x.mb)(!n&&!e.toRemove&&e.customizable,Object(u.jsx)("span",{className:"cart-food-edit","data-testid":"cart-food-edit",onClick:function(){return G(e)},children:Object(Ce.e)(h)}),null),!n&&Object(u.jsx)("span",{tabindex:"0","aria-label":"do you want to remove the above itams",className:"cart-food-remove","data-testid":"cart-food-remove",onClick:function(){return B(e)},children:Object(Ce.e)(g)})]}),J(e,n)]})]})]},e.foodItemId)})),Object(u.jsxs)("div",{className:"cart-food-remove-container",children:[Object(u.jsx)("span",{tabindex:"0","aria-label":"Remove all products",className:"cart-food-remove-all","data-testid":"remove-all-btn",onClick:Y,children:Object(Ce.e)(I)}),Object(u.jsx)(Ot.a,{className:"button  whiteButton blackBorder add-more-menu",ariaLable:"add more menu",onClickHandler:K,"data-testid":"add-more-menu",children:Object(Ce.e)(A)})]}),(null===M||void 0===M?void 0:M.showCartAlert)&&Object(u.jsx)(Ri,{classNames:"",handleClose:function(){return V(!1)},CartAlertForm:Object(u.jsx)(yi,{title:Object(Ce.e)(p.REMOVE_ALL_MSG),confirmButtonText:Object(Ce.e)(p.REMOVE_ALL),cancelButtonText:Object(Ce.e)(p.CANCEL),cancelHandler:function(){return V(!1)},confirmHandler:function(){return H(n)}})})]})]})},Pv=n.p+"static/media/Call_Icon.95900156.svg",Lv=n.p+"static/media/Mail_Icon.3eaa02d7.svg",kv=function(e){var t=e.faqAndContactData,n=void 0===t?{}:t,a=e.isMobile,i=n.faqData,c=void 0===i?{}:i,o=n.contactData,r=void 0===o?{}:o,s=Fn.a.CART_FAQ_HEADER;return Object(u.jsxs)("div",{className:"cart-faq-container","data-testid":"cart-faq-test",children:[(null===c||void 0===c?void 0:c.faqButtonText)&&Object(u.jsxs)("div",{className:"cart-faq-header-container",children:[Object(u.jsx)("h2",{className:"cart-faq-header",children:Object(Ce.e)(s)}),Object(u.jsx)("div",{className:"cart-faq-list",children:c.faqContent&&c.faqContent.map((function(e,t){return t<3?Object(u.jsx)("div",{className:"cart-accordian-container",children:Object(u.jsx)(oe,{header:e.question,children:Object(u.jsx)("div",{className:"cart-accordian-content",children:e.answer})})},t):null}))}),Object(u.jsx)(Ot.a,{className:"button  whiteButton blackBorder faq-view-all",onClickHandler:function(){e.history.push({pathname:"/faq"})},"data-testid":"view-all-btn","aria-label":Object(Ce.e)("viewallFaqs"),children:c.faqButtonText})]}),Object(u.jsxs)("div",{className:"cart-faq-contact-header-container",children:[Object(u.jsx)("h2",{className:"cart-faq-contact-header",children:r.headline}),Object(u.jsxs)("div",{className:"cart-faq-contact-content",children:[Object(u.jsx)("a",{href:"tel: 080-4275-4444",className:"anchorTags",tabIndex:"-1",children:Object(u.jsxs)(Ot.a,{className:"button  whiteButton blackBorder call-contact-button","aria-label":Object(Ce.e)("callUs"),children:[Object(u.jsx)("img",{src:Pv,alt:" "}),Object(u.jsx)("span",{className:"contact-text",children:a?"Call Us":r.callButtonText})]})}),Object(u.jsxs)(Ot.a,{className:"button  whiteButton blackBorder mail-contact-button",onClickHandler:function(){e.history.push({pathname:"/contactus"})},"data-testid":"contact-us-button","aria-label":Object(Ce.e)("contactUs"),children:[Object(u.jsx)("img",{src:Lv,alt:" "}),Object(u.jsx)("span",{className:"contact-text",children:r.mailButtonText})]})]})]})]})},Mv=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.currencySymbol,c=void 0===a?"":a,o=e.currencyConversionFactor,r=void 0===o?"":o,s=e.addHope,d=void 0===s?"":s,l=e.carryBag,b=void 0===l?"":l,v=e.isModalOpen,O=e.confirmChangesHandler,m=e.tenantId,f=void 0===m?"":m,p=e.maxItemCountPerLineItem,h=e.faqAndContactData,g=void 0===h?{}:h,N=e.dispositionData,E=void 0===N?{}:N,I=e.showPriceWithTax,T=void 0!==I&&I,C=n.cartList,S=void 0===C?[]:C,A=n.cartSummary,y=void 0===A?{}:A,D=n.bucketId,_=void 0===D?"":D,R=Object(i.useState)(Object(x.Ib)(window.innerWidth)),w=Object(j.a)(R,2),P=w[0],L=w[1],k=function(){var e=Object(x.Ib)(window.innerWidth);L(e)};Object(i.useEffect)((function(){window.addEventListener("resize",k)}),[P]);return P?Object(u.jsxs)("div",{className:"cart-page-container-mobile","data-testid":"cart-page-mobile-test",children:[Object(u.jsx)("div",{className:"cart-header-container-mobile",isMobile:!0,children:Object(u.jsx)(Sv,{})}),Object(u.jsx)("div",{className:"cart-notification",children:Object(u.jsx)(Rv,{contentData:S,isModalOpen:v})}),Object(u.jsx)("div",{className:"cart-content-container-mobile",children:Object(u.jsx)(wv,{contentData:S,isMobile:!0,currencySymbol:c,addHope:d,carryBag:b,maxItemCountPerLineItem:p,cartSummary:y,bucketId:_})}),y.recommendedItems.length>0&&Object(u.jsx)("div",{className:"cart-addon-container-mobile",children:Object(u.jsx)(Pd,{isMobile:!0,IndulgentData:y.recommendedItems})}),Object(u.jsx)("div",{className:"cart-summary-card-mobile",children:Object(u.jsx)(Dv,{contentData:y,currencySymbol:c,currencyConversionFactor:r,addHope:d,carryBag:b,isMobile:!0,confirmChangesHandler:O,tenantId:f,bucketId:_,dispositionData:E})}),Object(u.jsx)("div",{className:"cart-faq-container-mobile",children:Object(u.jsx)(kv,{faqAndContactData:g,isMobile:!0,history:e.history})})]}):Object(u.jsxs)("div",{className:"cart-page-container-desktop","data-testid":"cart-page-desktop-test",children:[Object(u.jsx)("div",{className:"cart-header-container-desktop",isMobile:!1,children:Object(u.jsx)(Sv,{})}),Object(u.jsxs)("div",{className:"cart-content-container-desktop",children:[Object(u.jsx)("div",{className:"cart-content-foodItemList",children:Object(u.jsx)(wv,{contentData:S,isMobile:!1,currencySymbol:c,addHope:d,carryBag:b,maxItemCountPerLineItem:p,cartSummary:y,bucketId:_,showPriceWithTax:T})}),Object(u.jsx)(Dv,{contentData:y,currencySymbol:c,currencyConversionFactor:r,addHope:d,carryBag:b,isMobile:!1,confirmChangesHandler:O,tenantId:f,bucketId:_,dispositionData:E})]}),y.recommendedItems.length>0&&Object(u.jsx)("div",{className:"cart-addon-container-desktop",children:Object(u.jsx)(Pd,{isMobile:!1,IndulgentData:y.recommendedItems})}),Object(u.jsx)("div",{className:"cart-faq-container-desktop",children:Object(u.jsx)(kv,{faqAndContactData:g,isMobile:!1,history:e.history})})]})},Fv=n.p+"static/media/empty_cart.32f17a45.png",Hv=Fn.a.EMPTY_CART;var Uv=function(){var e=Object(o.f)();return Object(u.jsxs)("div",{className:"cart-empty-placeholder cart-empty-root",children:[Object(u.jsxs)("div",{className:"cart-empty-placeholder-view",children:[Object(u.jsx)("span",{className:"cart-empty-placeholder-text",children:Object(Ce.e)(Hv.PLACEHOLDER_TEXT)}),Object(u.jsx)(Ot.a,{className:"button redButton start-order-btn cart-empty-placeholder-button","aria-label":Object(Ce.e)(Hv.START_ORDER),onClickHandler:function(){e.push({pathname:"/menu"})},id:"startOrderItemButton",type:"submit","data-testid":"empty-cart-start-order-button",children:Object(u.jsx)("span",{children:Object(Ce.e)(Hv.START_ORDER)})})]}),Object(u.jsx)(C.a,{className:"cart-empty-img",srcFile:Fv,altText:""})]})},Bv=n.p+"static/media/heart_icon_inactive_black.6fdb2766.svg",Gv=Ae.a.ADD_TO_CART_CLICK,Yv=Ae.a.MINI_PDP_DATA,Kv=Ae.a.FROMFLAGPLP,Vv=Ae.a.EDIT_CLICKED,Wv=Fn.a.RECOMENDATIONS,qv=Wv.SLIDES_TO_SCROLL,zv=Wv.SLIDES_TO_SHOW,Qv=Wv.ADD_TO_CART,Jv=Fe,Xv=hi.a.RESET_MODGROUP_IDS_UPDATE,Zv=function(e){var t=Object(Ce.e)(Qv),n="",a=!0;return(null===e||void 0===e?void 0:e.isStoreNone)?(t="Store Closed",n="no-store-selected",a=!1):(null===e||void 0===e?void 0:e.isStoreClosed)&&(t="Store Closed",n="store-closed",a=!1),{btnText:t,className:n,enabled:a}},$v=function(e,t,n,a){return e?"".concat(function(e,t){var n,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case Jv.LARGE:n="menu-cart-button";break;case Jv.MEDIUM:n="medium-menu-cart-button";break;case Jv.SMALL:n="small-menu-cart-button";break;case Jv.CAROUSAL:n="carousal-menu-cart-button";break;default:n=""}return"".concat(a," ").concat(n)}(t,n)," ").concat(Zv(a).className):"button btn-black medium-menu-cart-button"},ej=function(e){var t=e.saveProduct,n=e.favItems,a=e.item;return Object(u.jsx)(C.a,{srcFile:Object(x.r)(Array.isArray(n),null===n||void 0===n?void 0:n.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)})))?Ls:Bv,alt:"add to favourite",className:"recomendation-item-save",onClick:t,"data-testid":"add-to-fav-image"})},tj=function(e){var t=e.item,n=e.tenantData,a=e.storeClosedData,c=Object(i.useContext)(E.a),o=c.userOrderState,r=c.userOrderStateDispatch,s=Object(i.useState)(!0),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(null),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],I=h[1],T=Object(i.useState)(0),S=Object(j.a)(T,1)[0],A=Object(N.b)(),y=Object(x.ub)(JSON.parse(localStorage.getItem("currentStoreInfo"))),D=Object(N.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),_=Object(N.c)((function(e){return e.cartReducer})),R=Object(x.ub)(_).isAddItemLoading,w=void 0!==R&&R,P=t.customizable,L=Object(N.c)((function(e){var t;return Object(x.xb)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),k=Object(N.c)((function(e){var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),M=null===k||void 0===k?void 0:k.id,F=Object(i.useState)(Object(x.Ib)(window.innerWidth)),H=Object(j.a)(F,2),U=H[0],B=H[1],G=function(){var e=Object(x.Ib)(window.innerWidth);B(e)};Object(i.useEffect)((function(){window.addEventListener("resize",G)}),[U]);var Y=function(e,t,n){A(Object(pi.a)({tenantId:e,customerId:n},t))},K=function(){var e=Object(be.a)(ue.a.mark((function e(t,a,i,c){var o,r,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(x.vb)(null===(o=i[0])||void 0===o?void 0:o.price),s={mdmId:a.mdmId,id:a.id,name:a.name,imageName:a.imageName,description:a.longDescription,quantity:1,isCustomized:a.customizable,price:r/(null===n||void 0===n?void 0:n.currencyConversionFactor),additionalProperties:a.additionalProperties},e.next=4,Y(t,s,c);case 4:return e.next=6,A(Object(Ct.s)({showProductListingModal:!1,categorySelected:""}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),V=function(e,t,n){!function(e,t,n){A(Object(pi.b)({tenantId:e,customerId:t,itemId:n}))}(e,t,n.id)};Object(i.useEffect)((function(){b(!0)}),[S]);var W=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){Object(x.ob)(W,o)&&A(Object(Ct.s)({showProductListingModal:!0,categorySelected:g}))}),[W]);var q=t.id,z=null,Q=w&&m===q,J=n.currencyConversionFactor,X=void 0===J?1:J,Z=n.currencySymbol,$=void 0===Z?"":Z,ee=n.tenantId,te=void 0===ee?"":ee,ne=n.componentOptions,ae=(ne=void 0===ne?{}:ne).web,ie=(ae=void 0===ae?{}:ae).global,ce=(ie=void 0===ie?{}:ie).showPriceWithTax,oe=void 0!==ce&&ce,re=t.name,se=void 0===re?"":re,de=t.availability,le=t.shortDescription,ve=t.imageName,je=t.additionalProperties,Oe=le?le[0].value:"",me=Object(x.hb)(de[0],je,X,oe);return Object(u.jsxs)("div",{className:"recomendation-item-container",children:[Object(u.jsx)(C.a,{"data-testid":"recomendation-item-img",className:"recomendation-item-img",defaultPath:Object(x.R)(null,n,!0),srcFile:Object(x.R)(ve,n)}),U?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"recomendation-item-header",children:Object(u.jsx)("span",{className:"recomendation-item-name",children:se})}),Object(u.jsx)("span",{className:"recomendation-item-desc",children:Oe}),Object(u.jsxs)("div",{className:"recomendation-item-serving-conatiner",children:[Object(u.jsxs)("span",{className:"recomendation-item-price",children:[$,me]}),Object(u.jsx)("span",{className:"recomendation-item-serving",children:"Non veg \u2022 Serves 4"})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"recomendation-item-header",children:[Object(u.jsx)("span",{className:"recomendation-item-name",children:se}),Object(u.jsxs)("span",{className:"recomendation-item-price",children:[$,me]})]}),Object(u.jsxs)("div",{className:"recomendation-item-serving-conatiner",children:[Object(u.jsx)("img",{className:"recomendation-item-serving-type",src:_s,alt:""}),Object(u.jsx)("span",{className:"recomendation-item-serving",children:"Non veg \u2022 Serves 4"})]}),Object(u.jsx)("span",{className:"recomendation-item-desc",children:Oe})]}),Object(u.jsxs)("div",{className:"recomendation-item-actions",children:[Object(u.jsxs)(Ot.a,{tabIndex:"1",className:$v(l,"medium",Q,a),"data-testid":"add-to-cart-".concat(q),disabled:Es(a),onClickHandler:function(e){Zv(a).enabled&&function(e,t,a,i,c,o){var s,d,l,u;if(e&&e.stopPropagation(),f(t),D.localized){if(a)I(i),r({type:Yv,value:{id:t,flag:Kv,foodLineId:""}}),r({type:Xv}),r({type:Vv,value:{cartEditClicked:!0}}),A(Object(pi.c)({tenantId:n.tenantId,catalogName:null===y||void 0===y||null===(s=y.summary)||void 0===s||null===(d=s.menu)||void 0===d?void 0:d.catalogs[0],itemId:t}));else if(0===c){var b;A(Object(Ct.a)({params:{basketId:null===_||void 0===_||null===(b=_.cartData)||void 0===b?void 0:b.id},tenantId:n.tenantId},[{Id:t,categoryId:z,quantity:c+1,modGrps:[]}])),A(Object(Ct.r)(new Date))}}else r({type:Gv,value:{addToCart:!0,productItemId:t,categoryId:z,oldProduct:o,customizable:a,catalogs:null===y||void 0===y||null===(l=y.summary)||void 0===l||null===(u=l.menu)||void 0===u?void 0:u.catalogs[0],fromPdpPage:!1}})}(e,q,P,z,S,{productName:t.dname,productImage:ve,productPrice:Object(x.fb)(de[0],null===n||void 0===n?void 0:n.currencyConversionFactor)}),e.preventDefault(),e.stopPropagation()},"aria-label":Zv(a).btnText,children:[Zv(a).btnText,Object(x.j)(a.isStoreClosed)]}),(null===D||void 0===D?void 0:D.loggedin)&&Object(u.jsx)(ej,{saveProduct:function(){Object(x.r)(Array.isArray(L),null===L||void 0===L?void 0:L.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})))?V(te,M,t):K(te,t,de,M)},favItems:L,item:t})]})]})},nj=function(e){var t,n=e.recommendRules,a=e.storeClosedData;n=null===(t=n)||void 0===t?void 0:t.filter((function(e){return void 0!==e.name}));var o=Object(N.c)((function(e){return e.tenantReducer})),r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(Object(x.Ib)(window.innerWidth)),p=Object(j.a)(f,2),h=p[0],g=p[1],E=function(){var e=Object(x.Ib)(window.innerWidth);g(e)};Object(i.useEffect)((function(){window.addEventListener("resize",E)}),[h]);var I,C,S,A,y=c.a.useRef(null);return Object(u.jsxs)("div",{className:"cart-recomendations-list-container-root",children:[Object(u.jsx)("div",{className:"cart-recomendations-list-container",children:n.length&&Object(u.jsx)(Zo,{settings:(I=function(){if(d<n.length-1){var e=0;e=d+qv>n.length-zv-1?n.length-zv:d+qv,l(e),y.current.slickGoTo(e)}return!0},C=function(){return d>0&&(l(d-qv),y.current.slickGoTo(d-qv)),!0},S=m,A=l,{dots:!1,infinite:!1,speed:500,slidesToShow:zv,slidesToScroll:qv,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(_r,{clickNextCard:I}),prevArrow:Object(u.jsx)(Rr,{clickPrevCard:C}),beforeChange:function(e,t){return S(t)},afterChange:function(e,t){return A(e)},variableWidth:!0,responsive:T.h}),carousalRef:y,children:n.map((function(e){return Object(u.jsx)(tj,{item:e,tenantData:o,storeClosedData:a})}))})}),!h&&Object(u.jsx)("div",{className:"cart-recomendations-slideContainer",children:Object(u.jsx)("input",{className:"cart-recomendations-slider",type:"range",min:"0",max:n.length-zv,value:O,id:"myRange",onChange:function(e){m(e.target.value),y.current.slickGoTo(e.target.value)}})})]})},aj=function(e){var t=e.storeClosedData,n=e.recommendedProducts,a=null===n||void 0===n?void 0:n.filter((function(e){return!e.isHidden}));return Boolean(null===a||void 0===a?void 0:a.length)&&Object(u.jsxs)("div",{className:"cart-recomendations-container",children:[Object(u.jsx)("span",{className:"cart-recomendations-title",children:Object(Ce.e)(Fn.a.EMPTY_CART.SUGGESTION_TEXT)}),Object(u.jsx)(nj,{recommendRules:a,storeClosedData:t})]})},ij=function(e,t){return"".concat(t,e?"-mobile":"-desktop")},cj=function(e,t,n,a,i,c,o){return nc(e,t,n,null===a||void 0===a?void 0:a.isAvailable,1===(null===i||void 0===i?void 0:i.length)&&(null===c||void 0===c?void 0:c.toUpperCase())===Ze,o)},oj=function(e){var t,n,a=e.contentData,c=void 0===a?{}:a,o=e.faqAndContactData,r=void 0===o?{}:o,s=c.tenantId,d=c.country,l=Object(i.useState)(Object(x.Ib)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useContext)(E.a).userOrderState,f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],I=Object(N.c)((function(e){return e.menuReducer||{}})).recommendedProducts,T=Object(i.useMemo)((function(){return Object(x.Cb)(m.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):m.currentStoreInfo}),[m.currentStoreInfo]),C=Object(x.ub)(null===T||void 0===T||null===(t=T.summary)||void 0===t?void 0:t.timings),S=C.futureDates,A=C.scheduled,y=C.asap,D=Object(x.ub)(A).unavailibilities,_=Object(x.ub)((null===A||void 0===A||null===(n=A.periods)||void 0===n?void 0:n.length)&&(null===A||void 0===A?void 0:A.periods[0])),R=_.interval,w=void 0===R?0:R,P=_.startEndTime,L=void 0===P?{}:P,k=L.from,M=L.to,F=Object(i.useCallback)((function(){if(Object(x.Db)(T)){var e,t,n=null===(e=T.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=cj(k,M,w,y,S,d,D);"CLOSED"!==n||a.length?g(!1):g(!0)}else g(!1)}),[T]),H=function(){var e=Object(x.Ib)(window.innerWidth);O(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",H)}),[v]),Object(i.useEffect)((function(){F()}),[F]),Object(u.jsxs)("div",{className:ij(v,"cart-page-container"),children:[Object(u.jsx)("div",{className:ij(v,"cart-header-container"),isMobile:!1,children:Object(u.jsx)(Sv,{})}),Object(u.jsx)("div",{className:ij(v,"cart-content-container"),children:Object(u.jsx)(Uv,{tenantId:s})}),Object(u.jsx)(aj,{contentData:c,storeClosedData:{isStoreClosed:h},recommendedProducts:I}),Object(u.jsx)("div",{className:ij(v,"cart-faq-container"),children:Object(u.jsx)(kv,{faqAndContactData:r,isMobile:!1,history:e.history})})]})},rj=function(e){var t,n,a,c,o,r=e||{},s=r.contentData,d=void 0===s?{}:s,l=r.cartListContent,b=r.isModalOpen,v=r.confirmChangesHandler,j=r.dispositionData,O=d.cartReducer,m=d.tenantReducer,f=d.segmentedHelpData,p=Object(x.y)(window.innerWidth),h=(null!==m&&void 0!==m?m:{}).componentOptions,g=(h=void 0===h?{}:h).web,N=(g=void 0===g?{}:g).global,I=(N=void 0===N?{}:N).showPriceWithTax,T=void 0!==I&&I,C={};O&&O.cartData&&l.length&&(C=Object(fi.c)(O.cartData,l,null===m||void 0===m?void 0:m.tenantId,null===m||void 0===m?void 0:m.currencyConversionFactor,null===m||void 0===m?void 0:m.addHope,null===m||void 0===m?void 0:m.carryBag,p,null===m||void 0===m?void 0:m.country));var S=Object(i.useContext)(E.a).userOrderStateDispatch;return Object(i.useEffect)((function(){var e,t;0===(null===O||void 0===O||null===(e=O.cartData)||void 0===e||null===(t=e.discountLines)||void 0===t?void 0:t.length)&&(S({type:Dt.n,value:{couponErrorMessage:""}}),localStorage.removeItem("expiryMessage"))}),[null===(t=C)||void 0===t||null===(n=t.cartSummary)||void 0===n?void 0:n.quantity]),Object(i.useEffect)((function(){var e,t,n,a,i,c;(null===(e=C)||void 0===e||null===(t=e.cartSummary)||void 0===t||null===(n=t.discountAmounts[0])||void 0===n?void 0:n.isError)&&(S({type:Dt.n,value:{couponErrorMessage:Dt.e+(null===(a=C)||void 0===a||null===(i=a.cartSummary)||void 0===i||null===(c=i.discountAmounts[0])||void 0===c?void 0:c.errorMessages)}}),localStorage.removeItem("expiryMessage"))}),[null===(a=C)||void 0===a||null===(c=a.cartSummary)||void 0===c?void 0:c.discountAmounts]),C.cartList?Object(u.jsx)(Mv,(o={contentData:C,isModalOpen:b,currencySymbol:m.currencySymbol,currencyConversionFactor:m.currencyConversionFactor,addHope:m.addHope,carryBag:m.carryBag,confirmChangesHandler:v,faqAndContactData:f,tenantId:null===m||void 0===m?void 0:m.tenantId},Object(Re.a)(o,"currencyConversionFactor",null===m||void 0===m?void 0:m.currencyConversionFactor),Object(Re.a)(o,"maxItemCountPerLineItem",null===m||void 0===m?void 0:m.maxItemCountPerLineItem),Object(Re.a)(o,"isModalOpen",!1),Object(Re.a)(o,"dispositionData",j),Object(Re.a)(o,"history",e.history),Object(Re.a)(o,"showPriceWithTax",T),o)):Object(u.jsx)(oj,{contentData:C,faqAndContactData:f,history:e.history})},sj={FROMCONFIRM:"FROMCONFIRM"},dj=function(e){var t=e.unavailableItems,n=e.priceChangedItems,c=e.confirmChangesHandler,o=e.discardChangesHandler,r=Object(i.useContext)(E.a),s=r.userOrderState,d=r.userOrderStateDispatch,l=Wb.contentData,b=void 0===l?{}:l,v=sj.FROMCONFIRM,j=void 0===v?"":v,O=Object(x.Cb)(s.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):s.dispositionNew,m=Object(x.Cb)(s.dispositionOld)?JSON.parse(localStorage.getItem("dispositionOld")):s.dispositionOld,f=b.modalContent,p=void 0===f?{}:f,h=Ae.a.CART_STATES_DATA,g=Ae.a.SET_DISPOSITION,N=Ae.a.DISPOSITION_METHOD,I=Ae.a.SCHEDULE_ORDER_DATA,T=Ae.a.SCHEDULE_ORDER_TIME_DATA,C=function(){var e,t;d({type:g,value:{oldvalue:m,newValue:Object(a.a)({},m)}});var n=m||{},i=n.store,c=n.type,r=n.date,s=n.time,l=n.interval,u=n.deliveryAddress;o(i,c,null===i||void 0===i||null===(e=i.summary)||void 0===e||null===(t=e.menu)||void 0===t?void 0:t.catalogs[0]),d({type:N,value:{dispositionType:c}}),d({type:I,value:{showScheduleOrder:!1,selectedStoreInfo:i,deliveryAddress:u}});var b={time:s,interval:l,date:r};d({type:T,value:{selectedDateTime:b}}),localStorage.setItem("dispositionType",c),localStorage.setItem("storeInfo",i),localStorage.setItem("dateTimeOrder",JSON.stringify(b)),localStorage.setItem("dispositionOld",JSON.stringify(m)),localStorage.setItem("dispositionNew",JSON.stringify(m)),d({type:h,value:{showCartModal:!1}})},S=Object(u.jsx)(qb,{modalContent:p,onCartStatesMethodSubmit:function(e,t){e.stopPropagation(),e.preventDefault(),"discardChanges"===t?C():(d({type:g,value:{oldvalue:O,newValue:Object(a.a)({},O)}}),localStorage.setItem("dispositionOld",JSON.stringify(O)),localStorage.setItem("dispositionNew",JSON.stringify(O)),d({type:h,value:{showCartModal:!1}}),c(j))},unavailableItems:t,priceChangedItems:n});return Object(u.jsx)(zb,{handleClose:function(e){e.stopPropagation(),e.preventDefault(),C()},CartStatesModuleForm:S})},lj={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},uj=function(e){var t,n,a,r,s,d,l,b,v=Object(i.useContext)(E.a),O=v.userOrderState,f=v.userOrderStateDispatch,g=Object(o.f)(),T=Object(N.b)(),C=Object(N.c)((function(e){return e.tenantReducer})),S=Object(N.c)((function(e){return e.cartReducer})),A=Object(N.c)((function(e){return e.profileReducer})),y=S||{},D=y.cartData,_=void 0===D?{}:D,R=y.isValidated,w=void 0!==R&&R,P=y.isValidateBasketSuccess,L=void 0!==P&&P,k=y.showProductListingModal,M=void 0!==k&&k,F=y.qrCodeScanTime,H=(_||{}).validationResult,U=void 0===H?{}:H,B=Object(x.J)(Object(N.c)((function(e){return e.menuReducer}))),G=B.flatResponse,Y=(G=void 0===G?{}:G).itemMapById,K=void 0===Y?{}:Y,V=B.isLoading,W=void 0!==V&&V,q=B.currentItemDetails,z=void 0===q?{}:q,Q=C||{},J=Q.tenantId,X=Q.currencyConversionFactor,Z=Q.currencySymbol,$=Ae.a.CART_STATES_DATA,ee=Ae.a.DISPOSITION_CHANGED_FLAG,te=Ae.a.STORE_CHANGED_FLAG,ne=sj.FROMCONFIRM,ae=Object(i.useState)([]),ie=Object(j.a)(ae,2),ce=ie[0],oe=ie[1],re=Object(i.useState)(!1),se=Object(j.a)(re,2),de=se[0],le=se[1],ve=Object(i.useState)([]),je=Object(j.a)(ve,2),Oe=je[0],me=je[1],fe=Object(i.useState)([]),pe=Object(j.a)(fe,2),he=pe[0],ge=pe[1],Ne=Object(i.useState)([]),xe=Object(j.a)(Ne,2),Ee=xe[0],Ie=xe[1],Te=Object(i.useState)(!1),Ce=Object(j.a)(Te,2),Se=Ce[0],ye=Ce[1],De=Object(i.useState)(null),_e=Object(j.a)(De,2),Re=_e[0],we=_e[1],Pe=Object(N.c)((function(e){return e.appStateReducer.userStatus})),Le=He,ke=Object(x.Cb)(O.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):O.dispositionNew,Me=Object(x.Cb)(O.dispositionOld)?JSON.parse(localStorage.getItem("dispositionOld")):O.dispositionOld,Fe=ke||{},Ue=(Fe.date,Fe.time,Fe.store),Be=Object(o.g)(),Ge=Ue&&Ue.summary&&Ue.summary.menu&&Ue.summary.menu.catalogs&&Ue.summary.menu.catalogs.length&&Ue.summary.menu.catalogs[0]||(null===C||void 0===C?void 0:C.genericMenuName)||"",Ye=null,Ke=null,Ve=null,We=null;Object(i.useEffect)((function(){var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);var qe=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),helpReducerContent:m.a.get(e,"helpReducer",null)}}));if(qe.marketPageContent&&qe.tenantReducerContent&&qe.homePageContent&&qe.helpReducerContent){Ye=Object(x.xb)(Object(x.U)(qe.homePageContent));var ze=Object(x.ub)(qe.marketPageContent.headerData),Qe=ze.header,Je=void 0===Qe?{}:Qe,Xe=ze.tenant,Ze=void 0===Xe?[]:Xe,$e=ze.footer,et=void 0===$e?{}:$e;Ke=Object(x.V)(Je),Ve=Object(x.N)(et),Object(x.kb)(Ze),We=Object(x.xb)(Object(x.L)(qe.helpReducerContent))}var tt=Object(i.useMemo)((function(){var e;return{tenantReducer:C,cartReducer:S,segmentedHelpData:We,storeInfo:ke&&ke.store||{},dispositionType:ke&&ke.type?Object(x.H)(ke.type):Object(x.H)(null===(e=C.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[S,ke,We,C]);Object(i.useEffect)((function(){M&&T(Object(Ct.s)({showProductListingModal:!1,categorySelected:""}))}),[Be]),Object(i.useEffect)((function(){z&&O.cartEditClicked&&O.minipdpData.itemId===z.id&&T(Object(Ct.s)({showProductListingModal:!0,categorySelected:""}))}),[z,O.minipdpData.itemId,O.cartEditClicked]),Object(i.useEffect)((function(){var e,t=function(e,t,n){return!(!(null===e||void 0===e?void 0:e.id)||!t||n)}(_,J,Re),n=nn.a.getInstance().customerId;if(t&&n===(null===_||void 0===_||null===(e=_.customer)||void 0===e?void 0:e.id)){var a;_.id;T(Object(Ct.c)({tenantId:J,basketId:_.id})),T(Object(pi.d)({tenantId:J,catalogName:Ge},{storeId:null===(a=tt.storeInfo)||void 0===a?void 0:a.id,channel:Le,service:tt.dispositionType})),we(!0)}}),[T,J,null===_||void 0===_||null===(t=_.customer)||void 0===t?void 0:t.id,null===_||void 0===_?void 0:_.id,Ge,tt.dispositionType,null===(n=tt.storeInfo)||void 0===n?void 0:n.id,null===S||void 0===S||null===(a=S.cartData)||void 0===a?void 0:a.id,Le,Re]),Object(i.useEffect)((function(){T(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:Pe})),T(Object(Cv.a)({object:Object(I.a)(),contentFull:{content_type:"supportContent",select:"sys.id,fields","fields.title":"CartFAQ",include:"5"}})),T(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===C||void 0===C?void 0:C.country,"fields.channel":ka.b.channel,include:5}}))}),[T,null===C||void 0===C?void 0:C.country,Pe]),Object(i.useEffect)((function(){var e;if(null===(e=O.dispositionNew)||void 0===e?void 0:e.type){var t,n={channel:"web",service:Object(x.H)(null===(t=O.dispositionNew)||void 0===t?void 0:t.type)};T(Object(pi.e)(n))}}),[T,O.dispositionNew]);var nt=JSON.stringify(ke);Object(i.useEffect)((function(){ye(!1);var e=O.dispositionStateData.showDisposition,t=O.searchStoreData.showSearchStore,n=O.scheduleOrderData.showScheduleOrder;if(!e&&!t&&!n&&ke&&!Object(x.Eb)(Me,ke)){var a,i,c=ke.type,o=ke.store,r=ke.date,s=ke.time;if(Pe.localized&&""!==c&&""!==o&&""!==r&&""!==s)ye(!0),T(Object(pi.d)({tenantId:J,catalogName:Ge},{storeId:null===ke||void 0===ke||null===(a=ke.store)||void 0===a?void 0:a.id,channel:Le,service:(null===ke||void 0===ke?void 0:ke.type)?Object(x.H)(ke.type):Object(x.H)(null===(i=C.authoredContent)||void 0===i?void 0:i.defaultdisposition)})),f({type:$,value:{showCartModal:!0}});f({type:ee,value:{dispositionChanged:!1}}),f({type:te,value:{storeChanged:!1}})}}),[nt,Pe,$,ee,Le,te,Ge,T,J,null===(r=C.authoredContent)||void 0===r?void 0:r.defaultdisposition,O.dispositionStateData,O.scheduleOrderData,O.searchStoreData,f]),Object(i.useEffect)((function(){var e;if(K&&X&&!W)if((null===_||void 0===_||null===(e=_.foodLines)||void 0===e?void 0:e.length)>0){var t=_.foodLines.map((function(e){return function(e,t,n){var a,i=JSON.parse(JSON.stringify(e)),c={toRemove:!0,requireModification:!1,findings:["Item not available"],newFoodLineItem:i,menuPrice:void 0,cartPrice:i.amount/n},o=null===t||void 0===t?void 0:t[null===i||void 0===i||null===(a=i.item)||void 0===a?void 0:a.id];if(o){c.findings=[],c.toRemove=!1;var r=Object(x.fb)(o.availability[0],n),s=i.amount/n,d=Object(x.qb)(r,i.item.modGrps,i.quantity,n);d!==s?(c.findings.push("Item Price has changed Cart Price(".concat(s,"), Menu price(").concat(d,")")),c.requireModification=!0,c.menuPrice=d,c.cartPrice=s):(c.menuPrice=d,c.cartPrice=s,c.newFoodLineItem=i)}return c}(e,K,X)}));if(Se){var n=_.foodLines.map((function(e){return function(e,t){var n=JSON.parse(JSON.stringify(e));return{toRemove:!1,requireModification:!1,findings:[],newFoodLineItem:n,menuPrice:void 0,cartPrice:n.amount/t}}(e,X)}));oe(n)}else oe(t);me(t);var a=t.filter((function(e){return e.toRemove}));ge(a);var i=t.filter((function(e){return e.requireModification}));Ie(i)}else me([]),oe([]),ge([]),Ie([])}),[X,_,K,Se]);var at=function(e){(ye(!1),e===ne)?(le(!0),function(e){var t=e.unavailableItems,n=e.priceChangedItems,a=e.createAddValidateBasket,i=e.dispatch,c=e.cartId,o=e.tenantId;t.length||n.length?a():i(Object(Ct.w)({data:{id:c},tenantId:o}))}({unavailableItems:he,priceChangedItems:Ee,createAddValidateBasket:it,dispatch:T,cartId:null===_||void 0===_?void 0:_.id,tenantId:J})):(le(!1),T(Object(Ct.w)({data:{id:null===_||void 0===_?void 0:_.id},tenantId:J})))},it=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],Oe.forEach((function(e){if(!e.toRemove){var n,a,i,c,o,r={};r.id=null===e||void 0===e||null===(n=e.newFoodLineItem)||void 0===n||null===(a=n.item)||void 0===a?void 0:a.id,r.categoryId="",r.quantity=null===e||void 0===e||null===(i=e.newFoodLineItem)||void 0===i?void 0:i.quantity,r.modGrps=null===e||void 0===e||null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.modGrps,t.push(r)}})),T(Object(Ct.o)()),n=Object(x.Jb)(F),e.next=6,Object(x.u)(T,n,F,tt.storeInfo,tt.dispositionType,A.customerId);case 6:a=e.sent,J&&T(Object(Ct.e)({data:a,tenantId:J,shouldAddItem:!0,addItemList:t})),T(Object(Ct.r)(new Date));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){L&&ka.b.BindUser(null===Pe||void 0===Pe?void 0:Pe.loggedIn).then((function(){!function(e,t,n,a,i){var c=t.fromFlag,o=t.history;e?function(e,t){e||t.push({pathname:"/checkout"})}(c,o):(Object(x.zb)(n,a),!Object(x.Ab)(n)&&i(!1))}(w,{fromFlag:de,history:g},U,{currencyConversionFactor:X,currencySymbol:Z,store:Ue},we),T(Object(Ct.q)())}))}),[L,U,w,T,g,de]);var ct=lj.DISPOSITION;return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(Ke)&&Object(u.jsx)(ni,{contentData:Ke,tenantReducerData:qe.tenantReducerContent,userParams:Pe})||null,Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(s=null===(d=Ye)||void 0===d?void 0:d[ct])&&void 0!==s?s:{},contentDispositionData:null!==(l=null===(b=Ye)||void 0===b?void 0:b[ct])&&void 0!==l?l:{}},userParams:Pe}),Object(u.jsx)(rj,{contentData:tt,cartListContent:ce,isModalOpen:Se,confirmChangesHandler:at,dispositionData:ke,history:g}),M&&Object(u.jsx)(_d,{}),Object(x.Db)(Ve)&&Object(u.jsx)(ha,{contentData:Ve,history:g,tenantReducerData:qe.tenantReducerContent})||null,O.cartStateData.showCartState&&(he.length||Ee.length)&&Object(u.jsx)(dj,{unavailableItems:he,priceChangedItems:Ee,confirmChangesHandler:at,discardChangesHandler:function(e,t,n){T(Object(pi.d)({tenantId:J,catalogName:n},{storeId:null===e||void 0===e?void 0:e.id,channel:Le,service:t&&Object(x.H)(t)}))}}),O.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},bj=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.isMobile,i=void 0!==a&&a,c=e.userParams,o=void 0===c?{}:c,r=e.tenantReducerData,s=void 0===r?{}:r,d=e.paymentHeader,l=void 0!==d&&d,b=e.checkoutHeader,v=void 0!==b&&b,j=e.navigateHandler,O=void 0===j?null:j,m=e.history,f=s.basic,p=xa.LOGGEDIN_USER_SINGIN_TEXT,h=xa.BACK_TO_CART,g=xa.Go_TO_HOME_PAGE,N=Us.ArrowIcon,E=Us.HeaderLogo,I=Object(x.ub)(Ea(n,f)),S=I.navRight,A=void 0===S?[]:S,y=I.kfcLogo,D=void 0===y?{}:y,_=function(e){e.stopPropagation(),e.preventDefault(),m.push({pathname:"/cart"})};return Object(u.jsxs)(u.Fragment,{children:[v&&Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between secondaryChekoutheader",children:[Object(u.jsx)("div",{className:"secondary-header-element",children:i?Object(u.jsx)(Ot.a,{className:"btn",onClickHandler:function(e){return _(e)},children:Object(u.jsx)(C.a,{srcFile:N,alt:"Back to Cart"})}):Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder",onClickHandler:function(e){return _(e)},"data-testid":"Back-Button-checkout",ariaLable:Object(Ce.e)(h),children:Object(Ce.e)(h)})}),Object(u.jsx)(M,{className:"headerLogo secondary","data-testid":"desktop-navigate-handler",onClickHandler:O,children:Object(u.jsx)("span",{children:i?Object(u.jsx)("h3",{className:"textualLogo",children:Object(Ce.e)("cartCheckout")}):Object(u.jsx)(C.a,{srcFile:Object(x.sb)(D.src,E),alt:Object(x.sb)(D.alt,"KFC LOGO")})})}),Object(u.jsxs)("div",{className:"d-flex secondary-header-element",children:[Object(u.jsxs)(M,{className:"needHelpDesk",href:"/help",children:[Object(u.jsx)("span",{"aria-hidden":"true",className:"roundedQmark",children:"?"}),!i&&Object(u.jsx)("label",{className:"needHelp",children:"Need Help?"})]}),function(){var e=null;return A&&A.length&&(e=A.filter((function(e){if("Sign In"===e.name)return e}))[0]),e&&Object(u.jsxs)("div",{className:"signinLink ml-4","data-testid":"SignIn",tabIndex:"0",onClick:function(){return function(e,t){t.loggedIn?m.push({pathname:"/account"}):on()}(0,o)},children:[Object(u.jsx)(C.a,{"data-id":T.o.CHECKOUT_SIGN_IN_ATTR_DATA_ID,srcFile:e.url||e.imageUrl,className:"navRightIcons"}),!i&&Object(u.jsx)("span",{className:"notcarticon",children:e.name&&o.loggedIn?p:e.name})]})}()]})]}),l&&Object(u.jsx)("div",{className:"payment-header",children:i?Object(u.jsxs)("div",{className:"headerItems",children:[Object(u.jsx)("span",{children:Object(u.jsx)(M,{className:"needHelpDeskClose",href:T.hb.HOME_PAGE,children:Object(u.jsx)("span",{className:"backIcon",children:Object(u.jsx)("img",{src:N,alt:"back-btn"})})})}),Object(u.jsx)("span",{className:"TrackOrder",children:"Track Order"}),Object(u.jsx)("span",{children:Object(u.jsx)(M,{className:"needHelpDesk",href:T.hb.HELP,children:Object(u.jsx)("span",{className:"roundedQuesmark",children:"?"})})})]}):Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between payment-header-content",children:[Object(u.jsx)("div",{className:"secondary-header-element",children:Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder",onClickHandler:function(e){return function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("orderComplete",!0),m.push({pathname:"/"})}(e)},"data-testid":"Back-Button",ariaLable:Object(Ce.e)(g),children:Object(Ce.e)(g)})}),Object(u.jsx)("div",{children:Object(u.jsx)("span",{className:"headerLogo paymentHeader",tabIndex:"0",onClick:O,children:Object(u.jsx)(C.a,{srcFile:Object(x.sb)(D.src,E),alt:Object(x.sb)(D.alt,"KFC LOGO")})})}),Object(u.jsx)("div",{className:"d-flex secondary-header-element",children:Object(u.jsxs)(M,{className:"needHelpDesk",href:"/help",children:[Object(u.jsx)("span",{"aria-hidden":"true",className:"roundedQmark",children:"?"}),!i&&Object(u.jsx)("label",{className:"needHelp",children:"Need Help?"})]})})]})})]})},vj=Object(o.i)((function(e){var t=e.contentData,n=void 0===t?{}:t,c=e.history,o=Object(i.useState)(Object(x.Ib)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=function(){var e=Object(x.Ib)(window.innerWidth);d(e)};Object(i.useEffect)((function(){window.addEventListener("resize",l)}),[s]);return Object(u.jsx)("div",{className:"".concat(s?"mobile header":"desktop header"),"data-testid":"HeaderItems-component",children:Object(u.jsx)(bj,Object(a.a)({contentData:n,isMobile:s,navigateHandler:function(){c.push({pathname:"/"})}},e))})})),jj=n.p+"static/media/Lock.e846db0a.svg",Oj=n.p+"static/media/LocationOn.f57c1dfd.svg",mj=n.p+"static/media/WatchLater.3ca73ea2.svg",fj=n(4);var pj=function(e){var t,n=e.name,a=e.cardNumber,c=e.expiryDate,o=e.cvc,r=e.userEmail,s=e.userPhone,d=e.paymentRequestMessage;return Object(i.useEffect)((function(){var e,t;d&&a&&(null===(e=document)||void 0===e?void 0:e.form10)&&(null===(t=window.ccvalidation)||void 0===t||t.process({bdCardForm:"form10",transactionInfo:{cnumber:document.form10.cnumber,cardExpMonth:document.form10.expmon,cardExpYear:document.form10.expyr,cardHolderName:document.form10.cname2,cardPasscode:document.form10.cvv2},userInfo:{userEmail:document.form10.emailAdd,userMobile:document.form10.mobileAdd},MsgSrc:d}))}),[null===(t=document)||void 0===t?void 0:t.form10,d,a]),Object(u.jsx)("div",{children:a&&Object(u.jsxs)("form",{name:"form10",id:"form10",children:[Object(u.jsx)("input",{type:"hidden",name:"cname2",id:"cname2",value:n}),Object(u.jsx)("input",{type:"hidden",name:"cnumber",id:"cnumber",value:a.replace(/\s+/g,"")}),Object(u.jsx)("input",{type:"hidden",name:"expmon",id:"expmon",value:(c.split("/")[0]||"").trim()}),Object(u.jsx)("input",{type:"hidden",name:"expyr",id:"expyr",value:"20"+(c.split("/")[1]||"").trim()}),Object(u.jsx)("input",{type:"hidden",name:"cvv2",id:"cvv2",value:o}),Object(u.jsx)("input",{type:"hidden",name:"emailAdd",id:"emailAdd",value:r}),Object(u.jsx)("input",{type:"hidden",name:"mobileAdd",id:"mobileAdd",value:s})]})})};var hj=function(e){var t,n=e.requestParameters,a=e.postUrl;return Object(i.useEffect)((function(){var e,t;a&&(null===(e=document)||void 0===e||null===(t=e.bankForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.bankForm),a]),Object(u.jsx)("div",{children:a&&Object(u.jsx)("form",{name:"bankForm",method:"POST",action:a,children:n&&function(){var e=[];for(var t in n)e.push(Object(u.jsx)("input",{type:"hidden",name:t,value:n[t]}));return e}()})})};var gj=function(e){var t,n=e.merchantId,a=e.transactionId,c=e.transactionToken;return Object(i.useEffect)((function(){var e,t;a&&(null===(e=document)||void 0===e||null===(t=e.payTmForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.payTmForm),a]),Object(u.jsx)("div",{children:a&&Object(u.jsxs)("form",{name:"payTmForm",method:"POST",action:"".concat(Object(Lt.a)(Ht.F),"mid=").concat(n,"&orderId=").concat(a),children:[Object(u.jsx)("input",{type:"hidden",name:"mid",value:n}),Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"txnToken",value:c})]})})};var Nj=function(e){var t,n=e.tenderType,a=e.orderId,c=e.storeId,o=e.transactionAmount,r=e.transactionId,s=e.redirectUrl;return Object(i.useEffect)((function(){var e,t;s&&(null===(e=document)||void 0===e||null===(t=e.phonepeForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.phonepeForm),s]),Object(u.jsx)("div",{children:s&&Object(u.jsx)("form",{name:"phonepeForm",method:"POST",action:s,children:Object(u.jsx)("table",{border:"1",children:Object(u.jsxs)("tbody",{children:[Object(u.jsx)("input",{type:"hidden",name:"storeId",value:c}),Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"tenderType",value:n}),Object(u.jsx)("input",{type:"hidden",name:"transactionId",value:r}),Object(u.jsx)("input",{type:"hidden",name:"transactionAmount",value:o})]})})})})},xj=n(95),Ej=n(207);function Ij(e){var t,n,c,o,r,s,d,l,b,v,O,m,f,p=e.productMapById,h=e.cartData,g=e.isValidated,E=e.tenantId,I=e.userEmail,C=e.userPhone,S=e.createOrderRequest,A=e.subscription,y=e.checkoutProps,D=e.paymentEnabled,_=e.setIsPaymentTypeSelected,R=e.isClickContinuePayment,w=e.setIsClickContinuePayment,P=e.currencyConversionFactor,L=e.callBackValidateUserDetails,k=e.tenderInfo,M=e.paymentFormPayload,F=e.callBackPaymentErrorHandler,H=Object(N.b)(),U=Object(i.useState)(k||{name:"",payload:{}}),B=Object(j.a)(U,2),G=B[0],Y=B[1],K=Object(i.useState)(M||{}),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(!1),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(!1),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=null===h||void 0===h?void 0:h.id,re=Object(N.c)((function(e){return e})),se=re.paymentsReducer,de=re.profileReducer,le=re.paymentsGiftCardReducer,ve=re.orderReducer,je=Object(N.c)((function(e){var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),Oe=Object(N.c)((function(e){return(null===e||void 0===e?void 0:e.paymentsGoogleSpotReducer)||{}})),me=Oe.initiatePaymentStatus,fe=Oe.initiatePaymentResponse,pe=Oe.validatePaymentStatus,he=Oe.validatePaymentResponse,ge=Oe.transactionStatus,Ne=Oe.transactionStatusResponse,xe=Object(N.c)((function(e){return e.microAppPaymentReducer})),Ee=xe.response,Ie=void 0===Ee?{}:Ee,Te=xe.isPaymentCompleted,Se=void 0!==Te&&Te,Ae=xe.phonepeStatusResponse,ye=void 0===Ae?{}:Ae,De=Object(N.c)((function(e){return e.tenantReducer})).paymentStatusMaxCallCount,_e=Zt.c.CHECKOUT_TITLES,Re=Zt.c.ADD_PAY_METHOD,we=Zt.c.PHONEPE_SWITCH_CONSTANTS;Object(i.useEffect)((function(){H(Object(eb.l)())}),[]),Object(i.useEffect)((function(){var e,t;ka.b.isGoogle&&(null===h||void 0===h||null===(e=h.allowedTenders)||void 0===e?void 0:e.includes(ka.b.channel))?(Y({name:ka.b.channel}),_(!0)):ka.b.isPhonePe&&(null===h||void 0===h||null===(t=h.allowedTenders)||void 0===t?void 0:t.includes(T.cb.PHONEPE_SWITCH))&&(Y({name:T.cb.PHONEPE_SWITCH}),_(!0))}),[null===h||void 0===h?void 0:h.allowedTenders,_]),Object(i.useEffect)((function(){!function(e){var t=e.isClickContinuePayment,n=e.subscription,a=e.isLoggedIn,i=e.GuestContactDetailsClick,c=e.updatePaymentAnalytics,o=e.cartData,r=e.currencyConversionFactor,s=e.tender,d=e.productMapById,l=e.setIsValid,u=e.dispatchCreateOrderAction,b=e.dispatch,v=e.createOrderRequest;t&&(n&&!a&&i(),c(o,r,s,d),l(!1),u(b,s,o,v))}({isClickContinuePayment:R,subscription:A,isLoggedIn:null===je||void 0===je?void 0:je.loggedIn,GuestContactDetailsClick:qt,updatePaymentAnalytics:An,cartData:h,currencyConversionFactor:P,tender:G,productMapById:p,setIsValid:te,dispatchCreateOrderAction:nb,dispatch:H,createOrderRequest:S})}),[R]);var Pe=Object(i.useCallback)((function(){H(Object(eb.l)()),Object(x.Zb)(y)}),[y,H]);Object(i.useEffect)((function(){if(Se&&(null===ye||void 0===ye?void 0:ye.status))switch(null===ye||void 0===ye?void 0:ye.status){case fj.Bd.FAILURE:Pe();break;case fj.Bd.PENDING:case fj.Bd.SUCCESS:default:H(Object(eb.l)()),Object(x.ac)(y)}}),[Se,ye]);var Le=Object(i.useCallback)((function(e){var t;e===we.SUCCESS?H(Object(eb.b)({tenantId:E,customerId:null===h||void 0===h||null===(t=h.customer)||void 0===t?void 0:t.id,transactionId:null===Ie||void 0===Ie?void 0:Ie.transactionId,maxCallCount:De})):Pe()}),[we.SUCCESS,null===h||void 0===h||null===(t=h.customer)||void 0===t?void 0:t.id,H,null===Ie||void 0===Ie?void 0:Ie.transactionId,De,Pe,E]);Object(i.useEffect)((function(){if(ie&&(null===Ie||void 0===Ie?void 0:Ie.reservationId)&&ka.b.isPhonePe){var e="".concat(window.location.origin).concat(T.hb.CHECKOUT);Object(Ej.b)(null===Ie||void 0===Ie?void 0:Ie.reservationId,e,Le),ce(!1)}}),[Ie]);var ke=Object(i.useCallback)((function(){var e,t;!function(e,t,n,a,i,c){var o,r={tenantId:e,data:{OrderId:t,TenderType:n},customerId:(null===a||void 0===a||null===(o=a.customer)||void 0===o?void 0:o.id)||""};t&&i(Object(eb.e)(r)),c(!0)}(E,null===ve||void 0===ve||null===(e=ve.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id,null===G||void 0===G?void 0:G.name,h,H,ce),w(!1)}),[h,H,null===ve||void 0===ve||null===(n=ve.response)||void 0===n?void 0:n.order,w,E,null===G||void 0===G?void 0:G.name]),Me=Object(i.useCallback)((function(){ka.b.isGoogle&&(ce(!1),H(Object(xj.j)()),ka.b.payment=null,ka.b.oloPaymentInitializer=null,w(!1),Object(x.Zb)(y))}),[H,w]),Fe=Object(i.useCallback)((function(){var e,t,n,a,i={tenantId:E,body:{orderId:null===ve||void 0===ve||null===(e=ve.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id,tenderType:ka.b.channel}};ka.b.orderId=null===ve||void 0===ve||null===(n=ve.response)||void 0===n||null===(a=n.order)||void 0===a?void 0:a.id,ce(!0),H(Object(xj.d)(i))}),[H,null===ve||void 0===ve||null===(c=ve.response)||void 0===c?void 0:c.order,E]),He=Object(i.useCallback)((function(){ka.b.isGoogle&&(H(Object(xj.j)()),Object(x.ac)(y))}),[H]);return Object(i.useEffect)((function(){Object(be.a)(ue.a.mark((function e(){var t,n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ka.b.addFeedback("(initiatePaymentStatus, initiatePaymentResponse): ".concat(JSON.stringify({initiatePaymentStatus:me,initiatePaymentResponse:fe}))),!fe||!ie){e.next=10;break}return e.next=4,ka.b.BindPayment(fe);case 4:t=ka.b.payment,ka.b.addFeedback("Payment isSuccess data: "+t),1===(null===t||void 0===t?void 0:t.code)?w(!1):0===(null===t||void 0===t?void 0:t.code)||(null===t||void 0===t?void 0:t.code)&&1!==(null===t||void 0===t?void 0:t.code)?Me():t&&(n={tenantId:E,body:t},H(Object(xj.g)(n))),ce(!1),e.next=11;break;case 10:me===fj.Bd.FAILURE&&Me();case 11:case"end":return e.stop()}}),e)})))()}),[H,Me,fe,me,w,E,ie]),Object(i.useEffect)((function(){if(ka.b.addFeedback("(validatePaymentStatus, validatePaymentResponse): ".concat(JSON.stringify({validatePaymentStatus:pe,validatePaymentResponse:he}))),he)(null===he||void 0===he?void 0:he.status)===fj.Bd.SUCCESS?He():Me();else if(pe===fj.Bd.PENDING&&ka.b.transactionId){var e={tenantId:E,transactionId:ka.b.transactionId};H(Object(xj.a)(e))}}),[H,Me,He,E,he,pe]),Object(i.useEffect)((function(){ka.b.addFeedback("(transactionStatus, transactionStatusResponse): ".concat(JSON.stringify({transactionStatus:ge,transactionStatusResponse:Ne}))),Ne?(null===Ne||void 0===Ne?void 0:Ne.status)===fj.Bd.SUCCESS?(ka.b.addFeedback("Great, channel manager payment status is NOT fail... ".concat(null===Ne||void 0===Ne?void 0:Ne.status)),He()):(ka.b.addFeedback("Hmmm, channel manager payment status IS FAIL... ".concat(null===Ne||void 0===Ne?void 0:Ne.status)),Me()):ge===fj.Bd.FAILURE&&(ka.b.shouldGoogleSpotIgnoreOloFailure?He():Me())}),[H,Me,He,ge,Ne]),Object(i.useEffect)((function(){var e,t,n=null===ve||void 0===ve||null===(e=ve.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id;if(R&&n)switch(localStorage.setItem("postPaymentType",null===G||void 0===G?void 0:G.name),localStorage.setItem("paymentStatus",""),null===G||void 0===G?void 0:G.name){case T.cb.CREDIT_CARD:case T.cb.NET_BANKING:case T.cb.OTHER_WALLET:case T.cb.UPI:!function(e,t,n,i,c){var o={OrderId:n,TenderType:null===i||void 0===i?void 0:i.name};(null===i||void 0===i?void 0:i.name)!==T.cb.NET_BANKING&&(null===i||void 0===i?void 0:i.name)!==T.cb.OTHER_WALLET||(o=Object(a.a)(Object(a.a)({},o),{},{AdditionalAttributes:{BankId:null===c||void 0===c?void 0:c.bankId}})),n&&e(Object(Xu.e)({tenantId:t,data:o}))}(H,E,n,G,W);break;case T.cb.PAY_BY_CASH:Object(x.ac)(y);break;case T.cb.PAYTM:!function(e,t,n,a){var i={OrderId:n,TenderType:null===a||void 0===a?void 0:a.name};e(Object(Xu.d)({tenantId:t,data:i}))}(H,E,n,G);break;case T.cb.GIFT_CARD:!function(e,t,n,i,c,o){delete c.userEmail,delete c.userPhone;var r=o.customerId,s=Object(a.a)({OrderId:n,TenderType:null===i||void 0===i?void 0:i.name},c);e(Object($u.a)({tenantId:t,customerId:r,body:s}))}(H,E,n,G,W,de);break;case T.cb.PHONEPE:!function(e,t,n,a){var i={OrderId:n,TenderType:null===a||void 0===a?void 0:a.name};e(Object(Xu.f)({tenantId:t,data:i}))}(H,E,n,G);break;case T.cb.GOOGLE_PAY_SPOT:Fe();break;case T.cb.PHONEPE_SWITCH:ke()}}),[null===ve||void 0===ve||null===(o=ve.response)||void 0===o?void 0:o.order]),Object(i.useEffect)((function(){var e,t,n,i,c;if(R&&se&&(null===se||void 0===se?void 0:se.response))switch(null===G||void 0===G?void 0:G.name){case T.cb.CREDIT_CARD:q(Object(a.a)(Object(a.a)({},W),{},{paymentRequestMessage:null===se||void 0===se||null===(e=se.response)||void 0===e?void 0:e.requestMessage}));break;case T.cb.NET_BANKING:case T.cb.OTHER_WALLET:case T.cb.UPI:q(Object(a.a)(Object(a.a)({},W),{},{requestParameters:null===se||void 0===se||null===(t=se.response)||void 0===t?void 0:t.requestParameters,postUrl:null===se||void 0===se||null===(n=se.response)||void 0===n?void 0:n.postUrl}));break;case T.cb.PAYTM:(null===se||void 0===se||null===(i=se.response)||void 0===i?void 0:i.merchantId)&&""!==(null===se||void 0===se||null===(c=se.response)||void 0===c?void 0:c.merchantId)?q(Object(a.a)(Object(a.a)({},W),null===se||void 0===se?void 0:se.response)):F({errorCode:"payTmMerchantIdError"});break;case T.cb.GIFT_CARD:!0===le.giftCardTransactionStatus?Object(x.ac)(y):!1===le.giftCardTransactionStatus&&void 0===le.giftCardTransactionStatus&&Object(x.Zb)(y);break;case T.cb.PHONEPE:q(Object(a.a)(Object(a.a)(Object(a.a)({},W),null===se||void 0===se?void 0:se.response),{},{tenderType:null===G||void 0===G?void 0:G.name}))}}),[null===se||void 0===se?void 0:se.response,le]),Object(u.jsxs)(u.Fragment,{children:[R&&(null===G||void 0===G?void 0:G.name)===T.cb.CREDIT_CARD&&Object(u.jsx)(pj,Object(a.a)({},W)),R&&((null===G||void 0===G?void 0:G.name)===T.cb.NET_BANKING||(null===G||void 0===G?void 0:G.name)===T.cb.OTHER_WALLET||(null===G||void 0===G?void 0:G.name)===T.cb.UPI)&&Object(u.jsx)(hj,Object(a.a)({},W)),R&&(null===G||void 0===G?void 0:G.name)===T.cb.PAYTM&&Object(u.jsx)(gj,Object(a.a)({},W)),R&&(null===G||void 0===G?void 0:G.name)===T.cb.PHONEPE&&Object(u.jsx)(Nj,Object(a.a)({},W)),ka.b.isBrowser&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent contact-label pl-25px col-sm-4 col-4",children:Object(u.jsx)("h2",{"aria-label":Object(Ce.e)(_e.PAYMENT),children:Object(Ce.e)(_e.PAYMENT)})}),""===(null===G||void 0===G?void 0:G.name)&&Object(u.jsx)("div",{className:"addPaymentContent px-25px col-sm-8 col-8",children:Object(u.jsx)("div",{className:"d-flex flex-column mt-20px",children:Object(u.jsx)("button",{className:"payButton","data-testid":"pay-button",onClick:function(){return tb(D,J,X,q,I,C,Y,_,w,L)},children:Object(Ce.e)(Re)})})}),""!==(null===G||void 0===G?void 0:G.name)&&Object(u.jsx)("div",{className:"addPaymentContent col-sm-12 col-md-8 selectedPayment",children:Object(u.jsxs)("div",{className:"d-flex flex-column mt-20px",children:[Object(u.jsxs)(Ot.a,{className:"tenderButton","data-testid":"tender-btn",onClick:function(){return tb(D,J,X,q,I,C,Y,_,w,L)},children:[G&&(null===G||void 0===G?void 0:G.name)&&(null===G||void 0===G?void 0:G.payload)&&(null===G||void 0===G||null===(r=G.payload)||void 0===r?void 0:r.url)&&Object(u.jsx)("span",{className:"payment-image",children:Object(u.jsx)("img",{src:null===G||void 0===G||null===(s=G.payload)||void 0===s?void 0:s.url,alt:"TenderImage"})}),(null===G||void 0===G?void 0:G.name)===T.cb.CREDIT_CARD&&Object(u.jsx)("div",{className:"card-number-image",children:Object(u.jsx)("svg",Object(a.a)({},null===W||void 0===W?void 0:W.svgSource))}),Object(u.jsxs)("span",{className:"col-12 col-xs-10",children:[(null===G||void 0===G?void 0:G.name)===T.cb.CREDIT_CARD&&"x - "+(null===W||void 0===W||null===(d=W.cardNumber)||void 0===d||null===(l=d.trim())||void 0===l?void 0:l.substr((null===W||void 0===W||null===(b=W.cardNumber.trim())||void 0===b?void 0:b.length)-4)),((null===G||void 0===G?void 0:G.name)===T.cb.NET_BANKING||(null===G||void 0===G?void 0:G.name)===T.cb.OTHER_WALLET)&&(null===G||void 0===G||null===(v=G.payload)||void 0===v?void 0:v.displayName)+" : "+(null===W||void 0===W?void 0:W.bankName),(null===G||void 0===G?void 0:G.name)===T.cb.GIFT_CARD&&(null===G||void 0===G||null===(O=G.payload)||void 0===O?void 0:O.displayName)+": #"+(null===W||void 0===W||null===(m=W.AdditionalAttributes)||void 0===m?void 0:m.GiftCardNumber),((null===G||void 0===G?void 0:G.name)===T.cb.PAYTM||(null===G||void 0===G?void 0:G.name)===T.cb.PHONEPE||(null===G||void 0===G?void 0:G.name)===T.cb.PAY_BY_CASH||(null===G||void 0===G?void 0:G.name)===T.cb.UPI)&&(null===G||void 0===G||null===(f=G.payload)||void 0===f?void 0:f.displayName)]}),Object(u.jsx)("span",{className:"right-arrow-icon",children:Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANCAYAAAB7AEQGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACeSURBVHgBfdC9DQIxDAVgv9wCERNYAnoYgU3YAEaACRATMMqNANRQeITQUSCFl/BTXJJ7laN8jmKLMJozX0gjjrde0PWC2LegM7MgUfasfQviV6hO1wKcWLIJK7PbpUBjEMOnaxC1j6rOtmw/fOBr6UqgygE2+RDlyMEMJeA6BJomNrvvBtPVwR+NgYy+Gz+3QEoXQnh6P3kQXWsg5Q1LA016wKLMxwAAAABJRU5ErkJggg==",alt:""})})]}),(null===G||void 0===G?void 0:G.name)===T.cb.PAYTM&&Object(u.jsx)("span",{className:"paytmPaymentProcess mt-10px",children:" * Payment will process after place your order."})]})}),Object(u.jsx)(Zu,{isClickAddPayment:J,setIsClickAddPayment:X,cartData:h,isValidated:g,basketId:oe,tenantId:E,tender:G,setTender:Y,isValid:ee,checkoutProps:y,setIsValid:te,formPayload:W,setFormPayload:q,setIsPaymentTypeSelected:_,currencyConversionFactor:P})]})})]})}var Tj=f.a.DISPOSITION,Cj=!1,Sj=function(e){var t,n,o,r,s,d,l,b,v,O,m,f,p=Zt.c.CHECKOUT_TITLES,h=Zt.c.DELIVERY,g=Zt.c.TAKEAWAY,I=Zt.c.IS_DELIVERY,C=Zt.c.IS_TAKEAWAY,S=Zt.c.IS_DINEIN,A=Zt.c.AGREEMENT_LABEL,y=Zt.c.CONTINUE_PAYMENT,D=Zt.c.FORM_NAMES,_=Zt.c.ADDRESS_PH,R=Zt.c.DINE_IN,w=Object(N.b)(),P=Object(i.useContext)(E.a),L=P.userOrderState,k=P.userOrderStateDispatch,M=Ae.a.SCHEDULE_ORDER_DATA,F=Object(i.useState)(Object(x.Ib)(window.innerWidth)),H=Object(j.a)(F,2),U=H[0],B=H[1],G=Object(i.useState)(""),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)("leaveatmydoor"),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(Object(x.mb)(null===L||void 0===L?void 0:L.isPaymentAdded,null===L||void 0===L?void 0:L.isPaymentAdded,!1)),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(!1),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)(!1),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)({value:null!==(t=ka.b.name)&&void 0!==t?t:"",errorMessage:"",error:!1}),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)({value:null!==(n=ka.b.phone)&&void 0!==n?n:"",errorMessage:"",error:!1}),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)({value:null!==(o=ka.b.email)&&void 0!==o?o:"",errorMessage:"",error:!1}),Te=Object(j.a)(Ie,2),Se=Te[0],ye=Te[1],De=Object(i.useState)({value:!0,errorMessage:"",error:!1}),_e=Object(j.a)(De,2),Re=_e[0],we=_e[1],Pe=Object(i.useState)({value:"",errorMessage:"",error:!1}),Le=Object(j.a)(Pe,2),ke=Le[0],Me=Le[1],Fe=Object(i.useState)(""),He=Object(j.a)(Fe,2),Ue=He[0],Be=He[1],Ge=function(){var e=Object(x.Ib)(window.innerWidth);B(e)},Ye=Object(N.c)((function(e){return e})),Ke=Ye.cartReducer,Ve=Ye.tenantReducer,We=Ye.profileReducer,qe=Ye.orderReducer,ze=Ye.postOrderReducer,Qe=Object(x.J)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,Je=(Qe=void 0===Qe?{}:Qe).productMapById,Xe=void 0===Je?{}:Je,Ze=Object(x.mb)(Object(x.Cb)(L.dispositionNew),JSON.parse(localStorage.getItem("dispositionNew")),L.dispositionNew),$e=Object(x.Db)(Ze)?Ze:{},et=$e.type,tt=$e.store,nt=$e.date,at=$e.time,it=$e.deliveryAddress,ct=Ve.tenantId,ot=Ve.currencySymbol,rt=Ve.currencyConversionFactor,st=Object(x.r)(Object(x.Db)(ze),ze).orderAccepted,dt=void 0===st?{}:st,lt=Object(x.mb)(null===L||void 0===L?void 0:L.isPaymentAdded,null===dt||void 0===dt?void 0:dt.customer,null===We||void 0===We?void 0:We.basic),ut=Ke.cartData,bt=void 0===ut?{}:ut,vt=Ke.isValidated,jt=void 0!==vt&&vt,Ot=Object(N.c)((function(e){return e.appStateReducer.userStatus})),mt=Object(i.useState)({}),ft=Object(j.a)(mt,2),pt=ft[0],ht=ft[1];Object(i.useEffect)((function(){var t;(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.ShowPaymentError)&&ue(!0)}),[null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.ShowPaymentError]),Object(i.useEffect)((function(){Pn(document.title,pe.error,pe.errorMessage)}),[pe.errorMessage,pe.error]),Object(i.useEffect)((function(){Pn(document.title,xe.error,xe.errorMessage)}),[xe.errorMessage,xe.error]),Object(i.useEffect)((function(){Pn(document.title,Se.error,Se.errorMessage)}),[Se.errorMessage,Se.error]),Object(i.useEffect)((function(){!function(e,t,n){var a="";n?a=Object(Ce.e)(bn):t?a=Object(Ce.e)(un):e&&(null===e||void 0===e?void 0:e.error)&&(a=yn(e)),""!==a&&(Object(x.I)(document.title,a),Object(x.rb)(a))}(qe,le,je)}),[qe,le,je]),Object(i.useEffect)((function(){localStorage.setItem("paymentStatus",""),localStorage.setItem("postPaymentType",""),Cj=!1,Cn(bt,"BeginCheckoutClick",rt,Xe),Ot.loggedIn&&Cn(bt,"AddContactInfoClick",rt,Xe),wn(w,qe)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",Ge)}),[U]);var gt=function(){if(ka.b.isBrowser){var e=function(e){var t=Object(a.a)({},e),n=t.firstName,i=void 0===n?"":n,c=t.middleName,o=void 0===c?"":c,r=t.lastName,s=void 0===r?"":r,d=t.email,l=void 0===d?"":d,u=t.phone,b=void 0===u?"":u,v=t.phoneNumber;return{fullName:i||(""+o?o:""+s?s:""),email:l,phone:""!==b?b:void 0===v?"":v}}(lt);he(Object(a.a)(Object(a.a)({},pe),{},{value:e.fullName})),Ee(Object(a.a)(Object(a.a)({},xe),{},{value:e.phone})),ye(Object(a.a)(Object(a.a)({},Se),{},{value:e.email}))}else ka.b.isPhonePe&&(he(Object(a.a)(Object(a.a)({},pe),{},{value:ka.b.name})),Ee(Object(a.a)(Object(a.a)({},xe),{},{value:ka.b.phone})),ye(Object(a.a)(Object(a.a)({},Se),{},{value:ka.b.email})))};Object(i.useEffect)((function(){Object(x.Db)(lt)&&Ot.loggedIn&&gt()}),[lt,null===Ot||void 0===Ot?void 0:Ot.loggedIn]),Object(i.useEffect)((function(){var e=Boolean(pe.value&&Se.value&&xe.value),t=Boolean(ke.error||pe.error||Se.error||xe.error);ae(Object(x.r)(e,!t)),Object(x.r)(e,!t)&&(Cj||Ot.loggedIn||(Cn(bt,"AddContactInfoClick",rt,Xe),Cj=!0))}),[ke,z,pe,Se,xe]);var Nt=function(e){$(!1);var t=e.target.value,n=e.target.name,i=e.target.checked;fn(n===_,(function(){return Be(t)})),fn(n===D.VEHICAL_INFORMATION,(function(){return Me(Object(a.a)({},Sn(ke,t,et,z)))})),fn(n===D.DELIVERY_INSTRUCTION,(function(){return Me(Object(a.a)({},Sn(ke,t,et)))})),fn(n===D.SUBSCRIPTION,(function(){return we(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,n.error=!t,n}(Re,i)))})),fn(n===D.FULL_NAME,(function(){return he(Object(a.a)({},In(pe,t)))})),fn(n===D.PHONE,(function(){return Ee(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<10||t.length>12||isNaN(t)||!/^\d*$/.test(t)?(n.error=!0,n.errorMessage=Object(Ce.e)("invalidPhoneNumberErrMsg")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)("emptyPhoneNumberErrMsg")),n}(xe,t)))})),fn(n===D.EMAIL,(function(){return ye(Object(a.a)({},Tn(Se,t)))}))};Object(x.Db)(Ve)||JSON.parse(localStorage.getItem("tenantReducer")),Object(x.ub)(null===Ze||void 0===Ze?void 0:Ze.store),Ze&&Ze.type?Object(x.H)(Ze.type):Object(x.H)(null===(s=Ve.authoredContent)||void 0===s?void 0:s.defaultdisposition);Object(i.useEffect)((function(){Boolean((null===bt||void 0===bt?void 0:bt.total)&&ot&&rt)&&V(((null===bt||void 0===bt?void 0:bt.total)/rt).toFixed(2))}),[bt,ot,rt]);var xt=null,Et=null,Tt=Object(N.c)((function(e){var t,n;return{homePageContent:Object(x.xb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),marketPageContent:Object(x.xb)(null===e||void 0===e||null===(n=e.marketConfigReducer)||void 0===n?void 0:n.response),tenantReducerContent:Object(x.xb)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(Tt.marketPageContent&&Tt.tenantReducerContent&&Tt.homePageContent){var Ct;xt=Object(x.U)(Tt.homePageContent);var St=Object(x.ub)(null===Tt||void 0===Tt||null===(Ct=Tt.marketPageContent)||void 0===Ct?void 0:Ct.headerData),yt=St.header,Dt=void 0===yt?{}:yt,_t=St.tenant,Rt=void 0===_t?[]:_t,wt=St.footer,Pt=void 0===wt?{}:wt;Et=Object(x.V)(Dt),Object(x.N)(Pt),Object(x.kb)(Rt)}Object(i.useEffect)((function(){Object(x.r)(qe,null===qe||void 0===qe?void 0:qe.error)&&(Object(x.r)(ka.b.isBrowser,ae(!0)),$(!1))}),[qe]);return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(Et)&&Object(u.jsx)(vj,{contentData:Et,tenantReducerData:Tt.tenantReducerContent,userParams:Ot,paymentHeader:!1,checkoutHeader:!0}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(d=null===(l=xt)||void 0===l?void 0:l[Tj])&&void 0!==d?d:{},contentDispositionData:null!==(b=null===(v=xt)||void 0===v?void 0:v[Tj])&&void 0!==b?b:{}},userParams:Ot,showHeader:!1}),Object(u.jsx)("hr",{role:"presentation",className:"headerdivider"}),Object(u.jsx)("div",{className:"checkoutPagecont",children:Object(u.jsxs)("div",{className:"checkoutContainer".concat(hn(U)),"data-testid":"checkout-page",children:[Object(u.jsx)("img",{className:"px-25px",alt:"cart",src:Object(x.mb)(U,Nv,gv)}),Object(u.jsx)("div",{className:"checkoutHeader col-sm-7 col-md-12 col-lg-7 col-sm-12 mt-10px px-25px".concat(gn(U)),children:Object(u.jsxs)("div",{className:"d-flex align-items-baseline justify-content-between",children:[Object(u.jsx)("h3",{className:"checkoutTitle ".concat(hn(U)),children:Object(Ce.e)(p.TITLE)}),Object(u.jsxs)("div",{className:"secure-checkout",children:[Object(u.jsx)("img",{src:jj,alt:""}),Object(u.jsx)("span",{children:Object(Ce.e)("secureCheckout")})]})]})}),Object(u.jsxs)("div",{className:"checkoutBody".concat(hn(U)," row"),children:[Object(u.jsxs)("div",{className:"checkoutDescDetails col-sm-12 col-lg-7 col-md-12",children:[qe&&((null===qe||void 0===qe?void 0:qe.error)||le||je)&&Dn(qe,le,je),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent info-label pl-25px col-sm-4 col-12",children:Object(u.jsx)("h2",{children:Object(Ce.e)(xn(et))})}),Object(u.jsx)("div",{className:"deliveryInfoContent px-25px col-sm-8 col-12",children:Object(u.jsxs)("div",{className:"d-flex flex-column mt-20px",children:[Object(u.jsxs)("div",{className:"d-flex align-items-start mb-4",children:[Object(u.jsx)("label",{className:"checkoutIcons",children:Object(u.jsx)("img",{src:Oj,alt:""})}),Object(u.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-start",children:[Object(u.jsxs)("div",{className:"addressBox",children:[Object(u.jsx)("span",{className:"store_name d-block font-weight-bold",children:null===tt||void 0===tt||null===(O=tt.name[0])||void 0===O?void 0:O.value}),Object(x.bc)(et)===I&&Object(u.jsx)("span",{children:it}),[C,S].includes(Object(x.bc)(et))&&Object(u.jsx)("span",{children:null===(m=tt.addresses[0])||void 0===m||null===(f=m.address)||void 0===f?void 0:f.addressLines[0]}),Object(x.bc)(et)===I&&Object(u.jsxs)("div",{className:"addressField",children:[Object(u.jsx)("input",{id:_,type:"text",name:_,value:Ue,className:"form-control",placeholder:"".concat(Object(Ce.e)(_)),onChange:Nt}),Object(u.jsx)("label",{className:"form-label",children:"Address 2"})]})]}),Object(u.jsx)("button",{type:"button",variant:"link dark",onClick:function(e){return function(e,t){e.preventDefault(),e.stopPropagation(),k({type:M,value:{showScheduleOrder:!0,selectedStoreInfo:t,changeFlow:!0}})}(e,tt)},"data-testid":"schedule-order",children:Object(Ce.e)("change")})]})]}),Object(u.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[Object(u.jsx)("label",{className:"checkoutIcons",children:Object(u.jsx)("img",{src:mj,alt:""})}),Object(u.jsx)("div",{className:"sceduledAt",children:Nn({time:at,date:nt})})]})]})})]}),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent-checkout-options pl-25px col-sm-4 col-12 ".concat(Object(x.mb)(Object(x.bc)(et)===S,"type-dine-in","")),children:Object(u.jsx)("h2",{children:Object(Ce.e)(En(et))})}),Object(u.jsxs)("div",{className:"deliveryOptionsContent px-25px col-sm-8 col-12",children:[Object(u.jsxs)("div",{id:"radioButtons",className:"d-flex flex-column",value:z,onChange:function(){var e=Object(x.mb)("leaveatmydoor"===z,"handittome","leaveatmydoor");Q(e),Me(Object(a.a)(Object(a.a)({},ke),{},{value:"",error:!1})),Object(x.r)(Object(x.bc)(et)===C,"handittome"===e)&&Me(Object(a.a)(Object(a.a)({},ke),{},{value:"",error:!0}))},children:[Object(u.jsxs)("div",{className:"radioBtns",children:[Object(u.jsx)("input",{type:"radio",id:"leaveatmydoor",name:"checkoutoptions",value:"leaveatmydoor",defaultChecked:!0}),Object(u.jsx)("label",{for:"leaveatmydoor",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"leaveAtMyDoorTitle",tabIndex:"0",children:Object(Ce.e)(Object(x.mb)(Object(x.bc)(et)===I,h.LEAVE_AT_MY_DOOR.TITLE,Object(x.mb)(Object(x.bc)(et)===C,g.WALK_IN_THE_STORE.TITLE,R.DINEIN_WALK_IN_THE_STORE.TITLE)))}),Object(u.jsx)("div",{className:"ml-25px option-note",children:Object(Ce.e)(Object(x.mb)(Object(x.bc)(et)===I,h.LEAVE_AT_MY_DOOR.DESC,g.WALK_IN_THE_STORE.DESC))})]})})]}),Aj(C,I,et,bt,h,g)]}),yj(C,I,et,bt,h,g,z,D,Nt,ke)]})]}),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsxs)("div",{className:"labelContent contact-label pl-25px  col-sm-4 col-12",children:[Object(u.jsx)("h2",{children:Object(Ce.e)(p.CONTACT_INFO)}),!Ot.loggedIn&&Object(u.jsx)("button",{type:"button",className:"btn btn-outlined btn-margin","data-testid":"sign-in","data-id":T.o.CHECKOUT_SIGN_IN_ATTR_DATA_ID,onClick:function(){return localStorage.setItem(ln,JSON.stringify(!0)),void on()},children:"Sign in"})]}),Object(u.jsxs)("div",{className:"contactInfoContent  col-sm-8 col-12",children:[!U&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ce.e)(Zt.c.mandatorynote)}),Object(u.jsx)(It,{className:mn(pe.error),placeholder:"Full Name*",onChange:Nt,onBlur:Nt,inputTestId:"form-fullname",name:D.FULL_NAME,value:pe.value,autocomplete:"off",maxlength:"26"}),Object(u.jsxs)("div",{id:"userFullName",className:pn(pe.error),children:[pe.error&&Object(u.jsx)("img",{src:At,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:pe.errorMessage})]}),Object(u.jsx)(It,{className:mn(xe.error),placeholder:"Phone Number*",onChange:Nt,onBlur:Nt,inputTestId:"form-phone",name:D.PHONE,value:xe.value,autocomplete:"off",maxlength:"10"}),Object(u.jsxs)("div",{id:"userFullName",className:pn(xe.error),children:[xe.error&&Object(u.jsx)("img",{src:At,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:xe.errorMessage})]}),Object(u.jsx)(It,{className:mn(Se.error),placeholder:"Email*",onChange:Nt,onBlur:Nt,inputTestId:"form-email",name:D.EMAIL,value:Se.value,autocomplete:"off"}),Object(u.jsxs)("div",{id:"userEmail",className:pn(Se.error),children:[Se.error&&Object(u.jsx)("img",{src:At,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:Se.errorMessage})]}),Object(u.jsxs)("div",{className:"d-flex mt-20px mb-20px",children:[Object(u.jsx)("input",{tabIndex:"0",id:D.SUBSCRIPTION,type:"checkbox",name:D.SUBSCRIPTION,className:"common_checkbox mt-10px",value:Re.value,onChange:Nt,checked:Re.value}),Object(u.jsx)("label",{for:D.SUBSCRIPTION,title:!0,className:"form-check-label",children:Object(u.jsx)("span",{className:"agreeTxt",children:Object(Ce.e)(A)})})]})]})]}),Object(u.jsx)(Ij,{id:"paymentComp",productMapById:Xe,cartData:bt,isValidated:jt,tenantId:ct,userEmail:null===Se||void 0===Se?void 0:Se.value,userPhone:null===xe||void 0===xe?void 0:xe.value,createOrderRequest:pt,subscription:null===Re||void 0===Re?void 0:Re.value,checkoutProps:e,paymentEnabled:ne,setIsPaymentTypeSelected:re,isClickContinuePayment:Z,setIsClickContinuePayment:$,currencyConversionFactor:rt,callBackValidateUserDetails:function(){ne||(Nt({target:{value:ke.value,name:D.VEHICAL_INFORMATION,checked:!1}}),Nt({target:{value:pe.value,name:D.FULL_NAME,checked:!1}}),Nt({target:{value:xe.value,name:D.PHONE,checked:!1}}),Nt({target:{value:Se.value,name:D.EMAIL,checked:!1}}))},tenderInfo:null===L||void 0===L?void 0:L.tenderInfo,paymentFormPayload:null===L||void 0===L?void 0:L.paymentFormPayload,callBackPaymentErrorHandler:function(e){e&&"payTmMerchantIdError"===e.errorCode&&($(!1),ae(!0),Oe(!0))}})]}),Object(u.jsx)("div",{className:"checkoutAmountDetails mt-10px ".concat(Object(x.mb)(U,"py-25px mobile","")," col-sm-12 col-lg-5 col-md-12"),children:Object(u.jsx)("div",{className:"col-sm-12 col-12",children:Object(u.jsxs)("div",{className:"p-3 ".concat(Object(x.mb)(U,"priceCard mobile","")," card"),children:[Object(u.jsx)(Gn,{cartReducer:Ke,tenantReducer:Ve,userParams:Ot,type:et,dispositionData:Ze}),Object(u.jsxs)("button",{id:y,variant:"outlined",className:"".concat(ne&&oe?"enabled ":"","payButton"),onClick:function(){var e,t,n,a,i;Oe(!1),ue(!1),wn(w,qe);var c={basketId:null===bt||void 0===bt?void 0:bt.id,tenders:[],customer:{id:null===bt||void 0===bt||null===(e=bt.customer)||void 0===e?void 0:e.id,firstName:(null===pe||void 0===pe?void 0:pe.value)||(null===bt||void 0===bt||null===(t=bt.customer)||void 0===t?void 0:t.firstName)||"",lastName:(null===pe||void 0===pe?void 0:pe.value)||(null===bt||void 0===bt||null===(n=bt.customer)||void 0===n?void 0:n.lastName)||"",email:(null===Se||void 0===Se?void 0:Se.value)||(null===bt||void 0===bt||null===(a=bt.customer)||void 0===a?void 0:a.email),phoneNumber:(null===xe||void 0===xe?void 0:xe.value)||(null===bt||void 0===bt||null===(i=bt.customer)||void 0===i?void 0:i.phone),couponCodes:[],customProperties:null}};Re.value&&(c.marketingPreferences=["email","phone"]),Object(x.bc)(et)===I&&(c.isContactless="leaveatmydoor"===z,c.instruction=Object(x.mb)("leaveatmydoor"===z,"",ke.value),c.addressLines=[Ue],_n("DELIVERY","NA")),Object(x.bc)(et)===C&&((null===bt||void 0===bt?void 0:bt.availableCollectionPoints)&&(c.collectionPoint={name:Object(x.mb)("leaveatmydoor"===z,"in-store","curbside"),bayNumber:0}),_n("PICKUP",z),c.instruction=Object(x.mb)("leaveatmydoor"===z,"",ke.value)),Object(x.bc)(et)===S&&(c.collectionPoint={name:"in-store",bayNumber:0},_n("DINEIN",c.collectionPoint.name)),ht({tenantId:ct,request:c}),Object(x.r)(ne,$(!0)),Object(x.r)(ka.b.isBrowser,ae(!1))},disabled:!Object(x.r)(ne,oe),children:["".concat(Object(Ce.e)(y)),Object(u.jsxs)("span",{className:"rupee-text",children:[" ",ot,K," "]})]})]})})})]})]})}),L.showCartClearAlert&&Object(u.jsx)(ol,{})]})},Aj=function(e,t,n,a,i,c){return[e,t].includes(Object(x.bc)(n))&&Rn(null===a||void 0===a?void 0:a.availableCollectionPoints,Object(x.bc)(n))&&Object(u.jsxs)("div",{className:"radioBtns mt-10px pl-0px pr-0px",children:[Object(u.jsx)("input",{type:"radio",id:"handittome",name:"checkoutoptions",value:"handittome"}),Object(u.jsx)("label",{for:"handittome",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"handItToMe",tabIndex:"0",children:Object(Ce.e)(Object(x.mb)(Object(x.bc)(n)===t,i.HAND_IT_TO_ME.TITLE,c.KFC_TO_YOUR_CAR.TITLE))}),Object(u.jsx)("div",{className:"ml-25px option-note",children:Object(Ce.e)(Object(x.mb)(Object(x.bc)(n)===t,i.HAND_IT_TO_ME.DESC,c.KFC_TO_YOUR_CAR.DESC))})]})}),Object(u.jsx)("hr",{className:"handItToMe-hr"})]})},yj=function(e,t,n,a,i,c,o,r,s,d){return[e,t].includes(Object(x.bc)(n))&&Rn(null===a||void 0===a?void 0:a.availableCollectionPoints,Object(x.bc)(n))&&Object(u.jsxs)("div",{className:"".concat(o,"-radiobutton"),children:[Object(u.jsx)("form",{className:"deliveryInstrs mb-3",children:Object(u.jsx)("textarea",{id:"instruction",className:"textarea",name:"".concat(Object(x.mb)(Object(x.bc)(n)===t,r.DELIVERY_INSTRUCTION,r.VEHICAL_INFORMATION)),rows:"2",placeholder:"".concat(Object(x.mb)(Object(x.bc)(n)===t,Object(Ce.e)(i.HAND_IT_TO_ME.PLACE_HOLDER),Object(Ce.e)(c.KFC_TO_YOUR_CAR.PLACE_HOLDER)),"*"),"aria-label":"".concat(Object(x.mb)(Object(x.bc)(n)===t,Object(Ce.e)(i.HAND_IT_TO_ME.PLACE_HOLDER),Object(Ce.e)(c.KFC_TO_YOUR_CAR.PLACE_HOLDER)),"*"),maxlength:"100",onChange:s,value:d.value,onBlur:s})}),Object(x.r)(d.error,Object(u.jsx)("div",{id:"deliveryInstrs",className:"deliveryInstrs-error",children:Object(u.jsx)("span",{role:"alert",className:"deliveryInstrs-error",children:d.errorMessage})}))]})},Dj=n.p+"static/media/kfcCup.7ca71cd3.svg",_j=n.p+"static/media/kfc_bucket_mob.e7f992eb.svg",Rj={ERROR_CODE:"404",THERE_NO_FRIED_TEXT:"THERE'S NO FRIED",CHICKEN_PAGE_TEXT:"CHICKEN ON THIS PAGE...",TAKE_ME_HOME_TEXT:"takeMeHome",SIGN_UP_TEXT:"signUpText",SIGN_IN_TEXT:"signIn",SIGN_OUT_MESSAGE1:"signOutText1",SIGN_OUT_MESSAGE2:"signOutText2",SIGN_OUT_FAIL_MESSAGE1:"signOutFailText1",SIGN_OUT_FAIL_MESSAGE2:"signOutFailText2",DELETE_ACCOUNT_MESSAGE:"deleteAccountText"},wj=function(e){var t=Rj.ERROR_CODE,n=Rj.THERE_NO_FRIED_TEXT,a=Rj.CHICKEN_PAGE_TEXT,i=Rj.TAKE_ME_HOME_TEXT;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"not-found-container",children:[Object(u.jsx)("div",{className:"not-found-kfc-bucket-part",children:Object(u.jsx)(Pa.a,{src:Object(x.Ib)(window.innerWidth)?_j:Dj})}),Object(u.jsxs)("div",{className:"not-found-error-part",children:[Object(u.jsx)("p",{className:"not-found-error-text red-text",children:t}),Object(u.jsx)("p",{className:"not-found-error-text",children:n}),Object(u.jsx)("p",{className:"not-found-error-text",children:a}),Object(u.jsx)(Ot.a,{"data-testid":"take-me-homeid",className:"take-me-home-button",onClick:function(){e.history.push({pathname:"/"})},children:Object(Ce.e)(i)})]})]})})},Pj=function(e){var t,n,a,o,r=Object(N.c)((function(e){return e.appStateReducer.userStatus})),s=Object(N.c)((function(e){return e.tenantReducer})),d=null,l=null,b=null,v=f.a.DISPOSITION,j=Object(N.b)();Object(i.useEffect)((function(){j(pb(s))}),[j,null===s||void 0===s?void 0:s.country]),Object(i.useEffect)((function(){j(hb(r))}),[j,r]);var O=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null}}));if(O.marketPageContent&&O.tenantReducerContent&&O.homePageContent){d=Object(x.U)(O.homePageContent);var m=O.marketPageContent.headerData||{},p=m.header,h=void 0===p?{}:p,g=m.footer,E=void 0===g?{}:g;l=Object(x.V)(h),b=Object(x.N)(E)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(l)&&Object(u.jsx)(ni,{contentData:l,tenantReducerData:O.tenantReducerContent,userParams:r})||null,Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=d)||void 0===n?void 0:n[v])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=d)||void 0===o?void 0:o[v])&&void 0!==a?a:{}},userParams:r}),Object(u.jsx)(wj,{"data-testid":"not-found-404-testid",history:e.history}),Object(x.Db)(b)&&Object(u.jsx)(ha,{history:e.history,contentData:b,tenantReducerData:O.tenantReducerContent})||null]})},Lj=n(383),kj="effectiveDate",Mj=function(e){var t=e.headerData,n=void 0===t?{}:t,a=n.title,i=void 0===a?"":a,c=n.effectiveDate,o=void 0===c?"":c,r=kj;return Object(u.jsxs)("div",{className:"privacy-header-container",children:[Object(u.jsx)("img",{src:Hs,className:"privacy-icon",alt:""}),Object(u.jsx)("h1",{className:"privacy-header",children:i}),Object(u.jsxs)("div",{className:"privacy-eff-date",children:[Object(Ce.e)(r)," ",o]})]})},Fj=function(e){var t=e.description,n=void 0===t?{}:t;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(n)},className:"privacy-description"})})},Hj=function(e){var t=e.questionList,n=void 0===t?[]:t,a=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("privacy-accordian-open")?t.classList.remove("privacy-accordian-open"):t.classList.add("privacy-accordian-open")};return Object(u.jsx)("div",{children:n.map((function(e){return Object(u.jsx)("div",{className:"privacy-accordian",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:a,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(e.answer)},className:"privacy-accordian-answer"})})})}))})},Uj=function(e){var t=e.contentData,n=void 0===t?{}:t,a=n.headerData,c=void 0===a?{}:a,o=n.description,r=void 0===o?{}:o,s=n.questionList,d=void 0===s?[]:s,l=Object(i.useState)(Object(x.Ib)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=function(){var e=Object(x.Ib)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",m)}),[v]);return v?Object(u.jsxs)("div",{className:"privacy-mobile-container",children:[Object(u.jsx)("div",{className:"privacy-mobile-header",children:Object(u.jsx)(Mj,{headerData:c})}),Object(u.jsx)("div",{className:"privacy-mobile-description",children:Object(u.jsx)(Fj,{description:r})}),Object(u.jsx)("div",{className:"privacy-mobile-questions",children:Object(u.jsx)(Hj,{questionList:d})})]}):Object(u.jsxs)("div",{className:"privacy-desktop-container",children:[Object(u.jsx)("div",{className:"privacy-section-left",children:Object(u.jsx)(Mj,{headerData:c})}),Object(u.jsxs)("div",{className:"privacy-section-right",children:[Object(u.jsx)("div",{className:"privacy-description-desktop",children:Object(u.jsx)(Fj,{description:r})}),Object(u.jsx)("div",{className:"privacy-questions-desktop",children:Object(u.jsx)(Hj,{questionList:d})})]})]})},Bj=function(e){var t,n,a,r,s,d=Object(i.useContext)(E.a).userOrderState,l=Object(N.b)(),b=Object(N.c)((function(e){return e.appStateReducer.userStatus})),v=Object(o.g)().pathname.includes("privacyPolicy/true"),j=null,O=null,g=null,T=null,C=f.a.DISPOSITION,S=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),privacyPolicyContent:m.a.get(e,"privacyPolicyReducer.response",null)}}));if(S.marketPageContent&&S.tenantReducerContent&&S.homePageContent&&Object(x.Db)(S.privacyPolicyContent)){j=Object(x.U)(S.homePageContent);var A=S.marketPageContent.headerData,y=A.header,D=void 0===y?{}:y,_=A.tenant,R=void 0===_?[]:_,w=A.footer,P=void 0===w?{}:w;O=Object(x.V)(D),T=Object(x.N)(P),Object(x.kb)(R),g=Object(x.ib)(S.privacyPolicyContent)}return Object(i.useEffect)((function(){var e;l(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===S||void 0===S||null===(e=S.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ka.b.channel,include:5}}))}),[null===S||void 0===S||null===(t=S.tenantReducerContent)||void 0===t?void 0:t.country,l]),Object(i.useEffect)((function(){l(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:b}))}),[l,b]),Object(i.useEffect)((function(){l(Object(Lj.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Privacy Policy",include:"5"}}))}),[l]),Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(O)&&!v&&Object(u.jsx)(ni,{contentData:O,tenantReducerData:S.tenantReducerContent,userParams:b})||null,!v&&Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(n=null===(a=j)||void 0===a?void 0:a[C])&&void 0!==n?n:{},contentDispositionData:null!==(r=null===(s=j)||void 0===s?void 0:s[C])&&void 0!==r?r:{}},userParams:b}),Object(x.Db)(g)&&Object(u.jsx)(Uj,{contentData:g}),Object(x.Db)(T)&&!v&&Object(u.jsx)(ha,{history:e.history,contentData:T,tenantReducerData:S.tenantReducerContent})||null,d.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},Gj=n(384),Yj="effectiveDate",Kj=function(e){var t=e.headerData,n=void 0===t?{}:t,a=n.title,i=void 0===a?"":a,c=n.effectiveDate,o=void 0===c?"":c,r=Yj;return Object(u.jsxs)("div",{className:"ourAds-header-container",children:[Object(u.jsx)("img",{src:Hs,className:"ourAds-icon",alt:" "}),Object(u.jsx)("h1",{className:"ourAds-header",children:i}),Object(u.jsxs)("div",{className:"ourAds-eff-date",children:[Object(Ce.e)(r)," ",o]})]})},Vj=function(e){var t=e.description,n=void 0===t?{}:t;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(n)},className:"ourAds-description"})})},Wj=function(e){var t=e.questionList,n=void 0===t?[]:t,a=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("ourAds-accordian-open")?t.classList.remove("ourAds-accordian-open"):t.classList.add("ourAds-accordian-open")};return Object(u.jsx)("section",{children:n.map((function(e){return Object(u.jsx)("section",{className:"ourAds-accordian",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:a,children:Object(u.jsx)("section",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))})},qj=function(e){var t=e.contentData,n=void 0===t?{}:t,a=n.headerData,c=void 0===a?{}:a,o=n.description,r=void 0===o?{}:o,s=n.questionList,d=void 0===s?[]:s,l=Object(i.useState)(Object(x.Ib)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useContext)(E.a).userOrderState,f=function(){var e=Object(x.Ib)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",f)}),[v]);return v?Object(u.jsxs)("div",{className:"ourAds-mobile-container",children:[Object(u.jsx)("div",{className:"ourAds-mobile-header",children:Object(u.jsx)(Kj,{headerData:c})}),Object(u.jsx)("div",{className:"ourAds-mobile-description",children:Object(u.jsx)(Vj,{description:r})}),Object(u.jsx)("div",{className:"ourAds-mobile-questions",children:Object(u.jsx)(Wj,{questionList:d})}),m.showCartClearAlert?Object(u.jsx)(ol,{}):null]}):Object(u.jsxs)("div",{className:"ourAds-desktop-container",children:[Object(u.jsx)("div",{className:"ourAds-section-left",children:Object(u.jsx)(Kj,{headerData:c})}),Object(u.jsxs)("div",{className:"ourAds-section-right",children:[Object(u.jsx)("div",{className:"ourAds-description-desktop",children:Object(u.jsx)(Vj,{description:r})}),Object(u.jsx)("div",{className:"ourAds-questions-desktop",children:Object(u.jsx)(Wj,{questionList:d})})]}),m.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},zj=function(e){var t,n,a,r,s=Object(i.useContext)(E.a).userOrderState,d=Object(N.c)((function(e){return e.tenantReducer})),l=Object(N.b)(),b=Object(x.Cb)(s.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):s.dispositionNew,v=(Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(d)?d:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:b?null===b||void 0===b?void 0:b.store:{},dispositionType:b&&(null===b||void 0===b?void 0:b.type)?Object(x.H)(null===b||void 0===b?void 0:b.type):Object(x.H)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[b,d]),Object(N.c)((function(e){return e.appStateReducer.userStatus})));Object(i.useEffect)((function(){l(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===d||void 0===d?void 0:d.country,"fields.channel":ka.b.channel,include:5}}))}),[l]),Object(i.useEffect)((function(){l(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:v}))}),[l,v]);var j=Object(o.g)().pathname.includes("ourAds/true");Object(i.useEffect)((function(){l(Object(Gj.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"About Our Ads",include:"5"}}))}),[l]);var O=null,g=null,T=null,C=null,S=f.a.DISPOSITION,A=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),ourAdsContent:m.a.get(e,"ourAdsReducer.response",null)}}));if(A.marketPageContent&&A.tenantReducerContent&&A.homePageContent&&Object(x.Db)(A.ourAdsContent)){O=Object(x.U)(A.homePageContent);var y=A.marketPageContent.headerData,D=y.header,_=void 0===D?{}:D,R=y.tenant,w=void 0===R?[]:R,P=y.footer,L=void 0===P?{}:P;g=Object(x.V)(_),C=Object(x.N)(L),Object(x.kb)(w),T=Object(x.eb)(A.ourAdsContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(g)&&!j&&Object(u.jsx)(ni,{contentData:g,tenantReducerData:A.tenantReducerContent,userParams:v})||null,!j&&Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=O)||void 0===n?void 0:n[S])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=O)||void 0===r?void 0:r[S])&&void 0!==a?a:{}},userParams:v}),Object(x.Db)(T)&&Object(u.jsx)(qj,{contentData:T}),Object(x.Db)(C)&&!j&&Object(u.jsx)(ha,{history:e.history,contentData:C,tenantReducerData:A.tenantReducerContent})||null]})},Qj=n(217),Jj=n(105),Xj=function(e){var t=Vn.CURRENT_ORDER,n=void 0===t?"":t,a=Vn.PROCESSING,c=void 0===a?"":a,o=Vn.PROCESSING_YOUR,r=void 0===o?"":o,s=Vn.ORDER_READY_IN_JUST,d=void 0===s?"":s,l=Vn.SECOND,b=void 0===l?"":l,v=Vn.CONFIRMING_YOUR_ORDER,O=void 0===v?"":v,m=Vn.READY_IN_JUST_A_SECOND,f=void 0===m?"":m,p=Object(i.useState)(Object(x.Ib)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],N=h[1],E=function(){var e=Object(x.Ib)(window.innerWidth);N(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",E)}),[g]),Object(i.useEffect)((function(){if(e.retryCount>=0&&e.retryCount<=Jj.a){var t=document.getElementById("progressBarContainer"),n=document.getElementById("progressBar");console.log(t.offsetWidth);var a=t.offsetWidth/Jj.a*(e.retryCount+1);console.log(a),n.style.width=a+"px"}}),[e.retryCount]),Object(u.jsx)("div",{children:g?Object(u.jsx)("div",{className:"orderConfirmScreenMob","data-testid":"orderConfirmItems-component",children:Object(u.jsxs)("div",{className:"statusBar",children:[Object(u.jsx)("div",{className:"currentStatusMob",children:Object(Ce.e)(n)}),Object(u.jsx)("div",{id:"progressBarContainer",className:"ProgressMob",children:Object(u.jsx)("div",{id:"progressBar",className:"barMob","data-testid":"load-component"})}),Object(u.jsx)("div",{className:"progressBarMob",children:Object(Ce.e)(c)}),Object(u.jsx)("div",{className:"confirmOrderMobile",children:Object(Ce.e)(r)}),Object(u.jsxs)("div",{className:"confirmOrderMobile",children:[" ",Object(Ce.e)(d)]}),Object(u.jsxs)("div",{className:"confirmOrderMobile",children:[" ",Object(Ce.e)(b)]})]})}):Object(u.jsx)("div",{className:"orderConfirmScreen","data-testid":"orderConfirmItems-component",children:Object(u.jsxs)("div",{className:"statusBar",children:[Object(u.jsx)("div",{className:"currentStatus",children:Object(Ce.e)(n)}),Object(u.jsx)("div",{id:"progressBarContainer",className:"Progress",children:Object(u.jsx)("div",{id:"progressBar",className:"bar"})}),Object(u.jsx)("div",{className:"progressBar",children:Object(Ce.e)(c)}),Object(u.jsx)("div",{className:"confirmOrder",children:Object(Ce.e)(O)}),Object(u.jsxs)("div",{className:"confirmOrder",children:[" ",Object(Ce.e)(f)," "]})]})})})},Zj=n(126),$j=function(e){var t=e.isOpen,n=void 0!==t&&t,c=e.handleClose,o=e.onSave,r=e.tenantReducer,s=void 0===r?{}:r,d=e.OrderReducerData,l=void 0===d?{}:d,b=s.tenantId,v=void 0===b?"":b,O=l.id,m=void 0===O?"":O,f=l.customer,p=(f=void 0===f?{}:f).id,h=void 0===p?"":p,g=f.phoneNumber,E=void 0===g?"":g,I=Object(i.useState)(Object(x.Ib)(window.innerWidth)),T=Object(j.a)(I,2),C=T[0],S=T[1],A=Object(i.useState)(!0),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(i.useState)({value:"",errorMessage:"",error:!1}),w=Object(j.a)(R,2),P=w[0],L=w[1],k=Vn.THANKYOU,M=void 0===k?"":k,F=Vn.WE_SAVED,H=void 0===F?"":F,U=Vn.GIVE_A_NAME,B=void 0===U?"":U,G=function(e){var t=e.target.value;(function(){L(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<3?(n.error=!0,n.errorMessage=Object(Ce.e)(Vn.SAVE_ORDER_NAME_ERROR),_(!0)):(n.error=!1,n.errorMessage="",_(!1)):(n.error=!0,n.errorMessage=Object(Ce.e)(Vn.SAVE_ORDER_NAME_ERROR),_(!0)),n}(P,t)))})()},Y=Object(N.b)();Object(i.useEffect)((function(){return window.addEventListener("resize",K),function(){window.removeEventListener("resize",K)}}));var K=function(){S(Object(x.Ib)(window.innerWidth))},V=C?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:n,classNames:"save-order-modal",showCloseBtn:!0,closeButtonHandler:c,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:n,classNames:"save-order-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:c,autoFocus:!0};return Object(u.jsx)("div",{children:n&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},V),{},{children:Object(u.jsxs)("div",{className:"modalContants",children:[Object(u.jsx)("div",{className:"fontstyle",children:Object(Ce.e)(M)}),Object(u.jsx)("div",{className:"fontstyle",children:Object(Ce.e)(H)}),Object(u.jsx)("div",{className:"fontstyle",children:Object(Ce.e)(B)}),C?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"inputbox",children:Object(u.jsx)(Rt,{value:P.value,className:"inputfield",placeholder:"Name This Order","data-testid":"modal-coupon-input-field",onChange:G})}),Object(u.jsxs)("div",{id:"saveTrackOrderScreen",className:"error-text",children:[P.error,Object(u.jsx)("span",{role:"alert",children:P.errorMessage})]})]}):Object(u.jsxs)("div",{className:"inputbox trackOrderScreen",children:[Object(u.jsx)(Rt,{value:P.value,className:"inputfield",placeholder:"Name This Order","data-testid":"modal-coupon-input-field",onChange:G}),Object(u.jsxs)("div",{id:"saveTrackOrderScreen",className:"error-text",children:[P.error,Object(u.jsx)("span",{role:"alert",children:P.errorMessage})]})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return console.log("close"),void c()},children:"Cancel"}),Object(u.jsx)(Ot.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:function(e){return function(e){var t=Object(a.a)({},P);e.stopPropagation(),console.log("saved"),""!==P.value?(Y(Object(Zj.a)({customerId:h,tenantId:v,phoneNumber:E},{orderId:m,name:P.value})),o(!0),c()):(t.error=!0,t.errorMessage=Object(Ce.e)(Vn.SAVE_ORDER_NAME_ERROR),_(!0),L(t))}(e)},disabled:D,children:"Save"})]})]})}))})};$j.defaultProps={isOpen:!1,closeModal:null};var eO=$j,tO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgBtctBDQAgCAVQIxjBCEaxgRE0ghFsZgQjGAE5wObcQC6y/Qv/fed+HABkzMB4K+arLxwxi3A7i4IJVlzpOXkkYioDYR4lEQsjULEw0vE16prZA0KiodJlD34AAAAASUVORK5CYII=",nO=Us.phoneImg,aO=Us.Direction,iO=Vn.GST,cO=Vn.YOUR_ORDER,oO=Vn.ORDER,rO=Vn.ORDER_FROM_CAPS,sO=Vn.GET_DIRECTION,dO=Vn.SUB_TOTAL,lO=Vn.TOTAL,uO=Vn.largeCarryBagText,bO=Vn.addHopeText,vO=Vn.SEARCH_IN_CART,jO=Vn.DELIVERY,OO=Vn.PICKUP,mO=Vn.ONLY_IMAGE,fO=Vn.DELIVERY_FEE,pO=Vn.DISCOUNT_TEXT,hO=Vn.HH_MM,gO=Vn.HH_MM_A,NO=Vn.TOTAL_GST_INCLUDED,xO=function(e,t,n){return null===e||void 0===e?void 0:e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name)!==n}))},EO=function(e){null===e||void 0===e||e.substr(0,null===e||void 0===e?void 0:e.indexOf(" "));var t=null===e||void 0===e?void 0:e.substr((null===e||void 0===e?void 0:e.indexOf(" "))+1);return(null===t||void 0===t?void 0:t.slice(0,3))+"-"+(null===t||void 0===t?void 0:t.slice(3,6))+"-"+(null===t||void 0===t?void 0:t.slice(6))},IO=function(e,t,n){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ce.e)(iO)}),Object(u.jsxs)("span",{className:"amount",children:[e,ua(null===t||void 0===t?void 0:t.inclusiveTaxTotal,n)," "]})]})},TO=function(e){return(null===e||void 0===e?void 0:e.toUpperCase())===jO?Object(Ce.e)(fO):Object(Ce.e)(Vn.RESTAURANT_HANDLING_CHARGE)},CO=function(e,t,n,a){return e&&e.map((function(e,i){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:TO(a)}),Object(u.jsxs)("span",{className:"amount",children:[t,ua(null===e||void 0===e?void 0:e.amount,n)," "]})]},i)}))},SO=function(e){var t,n,a,i,c,o;return"".concat(null===e||void 0===e||null===(t=e.deliveryAddress)||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.join(" ")," ").concat(null===e||void 0===e||null===(a=e.deliveryAddress)||void 0===a?void 0:a.city," ").concat(null===e||void 0===e||null===(i=e.deliveryAddress)||void 0===i?void 0:i.state," ").concat(null===e||void 0===e||null===(c=e.deliveryAddress)||void 0===c?void 0:c.country," ").concat(null===e||void 0===e||null===(o=e.deliveryAddress)||void 0===o?void 0:o.pinCode)},AO=function(e){return(null===e||void 0===e?void 0:e.id)?null===(null===e||void 0===e?void 0:e.posOrderId)||""===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId:""},yO=function(e,t,n){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"line",children:va(null===e||void 0===e?void 0:e.item,t,n)}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ce.e)(dO)}),Object(u.jsxs)("span",{className:"amount",children:[t,null===e||void 0===e?void 0:e.subTotal]})]}),(null===e||void 0===e?void 0:e.taxValue)&&Object(u.jsx)("div",{children:IO(t,e,n)}),Object(u.jsx)("div",{children:CO(null===e||void 0===e?void 0:e.additionalCharges,t,n,null===e||void 0===e?void 0:e.service)}),(null===e||void 0===e?void 0:e.discountTotal)>0&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ce.e)(pO)}),Object(u.jsxs)("span",{className:"amount",children:[" ","- ",t,null===e||void 0===e?void 0:e.discountTotal]})]})]})},DO=function(e,t,n,a,i){return(null===e||void 0===e?void 0:e.service)===jO?function(e,t,n,a){var i,c,o,r,s,d,l,b,v=Object(x.t)(null===e||void 0===e?void 0:e.operatingHours),j=Object(ye.r)(Object(x.db)(v),hO,gO),O=Object(ye.r)(Object(x.x)(v),hO,gO);return Object(u.jsxs)("div",{className:"Bill",children:[Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ce.e)("deliveryAddress")}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.fullAddressDetails}),(null===e||void 0===e?void 0:e.instruction)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ce.e)("instructions")}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.instruction})]}),Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ce.e)("preparedBy")}),Object(u.jsxs)("div",{className:"place",children:[Object(u.jsxs)("span",{className:"fnt-bld mob-display",children:[null===e||void 0===e?void 0:e.storeName," "]}),(null===v||void 0===v?void 0:v.length)&&Object(u.jsxs)("span",{className:"hrs-view mob-display",children:["Hours: ","".concat(j,"-").concat(O)]})]}),yO(e,t,n),(null===e||void 0===e?void 0:e.total)&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsxs)("span",{className:"total",children:[Object(Ce.e)(NO),":"]}),Object(u.jsxs)("span",{className:"total",children:[t,null===e||void 0===e?void 0:e.total]})]}),Object(u.jsx)("div",{class:"hr-payment-type"}),Object(u.jsxs)("div",{className:"totalAmount mt-5",children:[Object(u.jsx)("span",{className:"total",children:Object(Ce.e)("Payment")}),Object(u.jsx)("span",{className:"total payment-type",children:(null===a||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.displayFormat)===mO?Object(u.jsx)("img",{src:null===a||void 0===a||null===(c=a.fields)||void 0===c||null===(o=c.icon)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.desktopImage)||void 0===s||null===(d=s.fields)||void 0===d||null===(l=d.file)||void 0===l?void 0:l.url,alt:"paymentMethod"}):Object(u.jsx)("span",{children:null===a||void 0===a||null===(b=a.fields)||void 0===b?void 0:b.displayName})})]})]})}(e,n,a,t):function(e,t,n,a,i){var c,o,r,s,d,l,b,v;return Object(u.jsxs)("div",{className:"Bill",children:[Object(u.jsxs)("div",{className:"orderTitle",children:[Object(u.jsx)("h2",{className:"yourOrder",children:Object(Ce.e)(cO)}),Object(u.jsxs)("span",{className:"orderId",children:[Object(u.jsx)("span",{className:"OrderClass",children:Object(Ce.e)(oO)}),null===e||void 0===e?void 0:e.orderId]})]}),Object(u.jsx)("div",{className:"orderingDateTime",children:"".concat(null===e||void 0===e?void 0:e.orderingDate," ").concat(Object(Ce.e)("At")," ").concat(null===e||void 0===e?void 0:e.orderingTime)}),Object(u.jsxs)("div",{className:"postorder-payment-details",children:[Object(u.jsx)("h2",{className:"payment-header",children:Object(Ce.e)("paymentHeader")}),Object(u.jsx)("div",{className:"payment-details",children:(null===t||void 0===t||null===(c=t.fields)||void 0===c?void 0:c.displayFormat)===mO?Object(u.jsx)("img",{src:null===t||void 0===t||null===(o=t.fields)||void 0===o||null===(r=o.icon)||void 0===r||null===(s=r.fields)||void 0===s||null===(d=s.desktopImage)||void 0===d||null===(l=d.fields)||void 0===l||null===(b=l.file)||void 0===b?void 0:b.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"payment-completed",children:null===t||void 0===t||null===(v=t.fields)||void 0===v?void 0:v.displayName})})]}),Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ce.e)(rO)}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.storeName}),Object(u.jsx)("div",{className:"Address",children:null===e||void 0===e?void 0:e.addressLines}),Object(u.jsxs)("div",{className:"ContactDetail",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("img",{src:nO,alt:"",className:"phoneIcon"}),Object(u.jsx)("span",{className:"phoneNum",children:Object(u.jsx)("a",{href:"tel:{orderDetails?.phoneNumber}",className:"anchorTag",children:null===e||void 0===e?void 0:e.phoneNumberFormat})})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("img",{src:aO,alt:"",className:"phoneIcon"}),Object(u.jsx)("span",{"data-testid":"get-direction",tabIndex:"0",className:"phoneNum",onClick:function(){return i()},children:Object(Ce.e)(sO)})]})]}),yO(e,n,a),(null===e||void 0===e?void 0:e.service)===OO&&(null===e||void 0===e?void 0:e.carryBagDataExistsId)&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ce.e)(uO)}),Object(u.jsx)("span",{className:"amount",children:null===e||void 0===e?void 0:e.carryBagDataPrice})]}),Boolean(null===e||void 0===e?void 0:e.addHopeDataExistsId)&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ce.e)(bO)}),Object(u.jsx)("span",{className:"amount",children:null===e||void 0===e?void 0:e.addHopeDataPrice})]}),(null===e||void 0===e?void 0:e.total)&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsx)("span",{className:"total",children:Object(Ce.e)(lO)}),Object(u.jsxs)("span",{className:"total",children:[n,null===e||void 0===e?void 0:e.total]})]})]})}(e,t,n,a,i)},_O=function(e){var t,n=e.orderReducerData,a=void 0===n?{}:n,c=e.tenantReducer,o=void 0===c?{}:c,r=e.getDirectionClickForMaps,s=e.enableAccordion,d=e.isOpenAccordion,l=e.orderDetailsObj,b=void 0===l?{}:l,v=a.tenders,O=o.currencySymbol,m=o.currencyConversionFactor,f=o.addHope,p=o.carryBag,h=Object(N.c)((function(e){return null===e||void 0===e?void 0:e.paymentsContentReducer})).tendersContent.items,g=Object(N.b)();Object(i.useEffect)((function(){g(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]);var E=Object(i.useState)({fields:{displayFormat:""}}),T=Object(j.a)(E,2),C=T[0],S=T[1],A=Object(i.useState)({service:"",orderId:"",storeName:"",phoneNumber:"",subTotal:0,taxValue:[],additionalCharges:[],discountTotal:0,total:"",item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",inclusiveTaxTotal:"",operatingHours:null===b||void 0===b||null===(t=b.operatingTime)||void 0===t?void 0:t.operatingHours}),y=Object(j.a)(A,2),D=y[0],_=y[1];return Object(i.useEffect)((function(){if(null===a||void 0===a?void 0:a.id){var e,t,n,i,c,r,s,d=Object(x.r)(f,p)?ja(a,f,p,vO,void 0,void 0,o):{};_({service:null===a||void 0===a||null===(e=a.service)||void 0===e?void 0:e.toUpperCase(),orderId:AO(a),storeName:null===a||void 0===a||null===(t=a.store)||void 0===t?void 0:t.name,phoneNumber:null===a||void 0===a||null===(n=a.store)||void 0===n?void 0:n.phoneNumber,phoneNumberFormat:EO(null===a||void 0===a||null===(i=a.store)||void 0===i?void 0:i.phoneNumber),subTotal:ua(null===a||void 0===a?void 0:a.subTotal,m),taxValue:null===a||void 0===a?void 0:a.taxLines,additionalCharges:null===a||void 0===a?void 0:a.additionalChargeLines,discountTotal:ua(null===a||void 0===a?void 0:a.discountTotal,m),total:ua(null===a||void 0===a?void 0:a.total,m),item:xO(null===a||void 0===a?void 0:a.foodLines,f,p),addHopeDataExistsId:(null===d||void 0===d?void 0:d.addHopeDataExistsId)||"",carryBagDataExistsId:(null===d||void 0===d?void 0:d.carryBagDataExistsId)||"",addHopeDataPrice:(null===d||void 0===d?void 0:d.addHopeDataPrice)||"",carryBagDataPrice:(null===d||void 0===d?void 0:d.carryBagDataPrice)||"",orderingDate:Object(x.E)(null===a||void 0===a?void 0:a.orderingDateTime),orderingTime:Object(x.nb)(null===a||void 0===a?void 0:a.orderingDateTime),fullAddressDetails:SO(a),instruction:null===a||void 0===a?void 0:a.instruction,addressLines:null===a||void 0===a||null===(c=a.store)||void 0===c||null===(r=c.address)||void 0===r?void 0:r.addressLines,inclusiveTaxTotal:null===a||void 0===a?void 0:a.inclusiveTaxTotal,operatingHours:null===b||void 0===b||null===(s=b.operatingTime)||void 0===s?void 0:s.operatingHours}),Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.b.BindOrder();case 2:case"end":return e.stop()}}),e)})))()}}),[null===a||void 0===a?void 0:a.id,f,p]),Object(i.useEffect)((function(){Object(x.r)(null===h||void 0===h?void 0:h.length,null===v||void 0===v?void 0:v.length)&&h.forEach((function(e){e.fields.title===v[0].type&&S(e)}))}),[v]),s?function(e,t,n,a,i,c){return Object(u.jsx)("div",{className:"accordion-bill",children:Object(u.jsxs)("div",{className:"accordion-bill-info",children:[Object(u.jsx)("div",{class:"circle-topp"}),Object(u.jsx)("div",{className:"accordion-Title",children:Object(u.jsx)("div",{className:"bill-accordian",id:null===e||void 0===e?void 0:e.orderId,children:Object(u.jsx)(oe,{cssClass:"bill-container",header:"".concat(Object(Ce.e)(oO)," ").concat(null===e||void 0===e?void 0:e.orderId),open:!c,onClickHandler:function(e){var t,n,a,i,c,o,r=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(a=n.parentElement)||void 0===a?void 0:a.parentElement;(null===r||void 0===r||null===(i=r.classList)||void 0===i?void 0:i.contains("terms-accordian-open"))?null===r||void 0===r||null===(c=r.classList)||void 0===c||c.remove("terms-accordian-open"):null===r||void 0===r||null===(o=r.classList)||void 0===o||o.add("terms-accordian-open")},children:Object(u.jsx)("div",{className:"bill-accordian-description",children:DO(e,t,n,a,i)})})})}),Object(u.jsx)("div",{class:"circle-bottomm"})]})})}(D,C,O,m,r,d):DO(D,C,O,m,r)},RO=function(e,t){return!e&&t.loggedIn&&Object(u.jsx)("div",{className:"linebreak"})},wO=function(e){var t=e.orderReducerData,n=void 0===t?{}:t,a=e.userParams,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(Object(x.Ib)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],N=h[1],E=Object(i.useState)(!1),I=Object(j.a)(E,2),T=I[0],C=I[1],S=Object(i.useState)(""),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)(""),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Vn.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER,k=void 0===L?"":L,M=Vn.SAVED_TO_FAVORITE_MENU,F=void 0===M?"":M,H=Vn.SAVE_THIS_Order,U=void 0===H?"":H,B=function(){var e=Object(x.Ib)(window.innerWidth);N(e)};Object(i.useEffect)((function(){window.addEventListener("resize",B)}),[g]),Object(i.useEffect)((function(){m&&(Wt.b.dark(Object(u.jsx)("div",{className:"img-text-div",children:Object(u.jsxs)("span",{className:"notifyText",children:[Object(u.jsx)("img",{src:tO,alt:"tick",className:"TickImg"}),Object(Ce.e)(F)]})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),4e3))}),[m]);var G,Y,K=function(){!function(e){e(!0)}(C)};return Object(i.useEffect)((function(){if(n.id){D(n.service);var e=n.fulfillmentDateTime,t=Object(x.nb)(e);P(t)}}),[n]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"OrderReceivedContainer",children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"NotifyOrderPlaced",children:Object(u.jsxs)("div",{className:"tickimage",children:["DELIVERY"===y.toUpperCase()?Object(u.jsx)("div",{children:(G=n,Y=w,Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:Kn,alt:"success"}),Object(u.jsxs)("div",{className:"allSet",children:[Object(Ce.e)(ta),"."]}),Object(u.jsxs)("div",{className:"idAndTime",children:[Object(Ce.e)(null===qn||void 0===qn?void 0:qn.toUpperCase())," ",Object(u.jsxs)("span",{className:"red",children:["#",null===(null===G||void 0===G?void 0:G.posOrderId)?null===G||void 0===G?void 0:G.id:null===G||void 0===G?void 0:G.posOrderId," "]}),Object(Ce.e)(Xn.toUpperCase()),Object(u.jsx)("div",{className:"red",children:Y})]})]}))}):Object(u.jsx)("div",{children:la(n,w,y)}),RO(m,c),c.loggedIn&&Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdiv",children:[Object(u.jsx)("span",{className:"saving",children:Object(Ce.e)(k)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(Ot.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:function(){return sa(b)},ariaLable:Object(Ce.e)(U),children:Object(Ce.e)(U)})})]})})]})}),Object(u.jsx)(_O,{orderReducerData:n,tenantReducer:r,getDirectionClickForMaps:K})]})}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(eO,{"data-testid":"confirm-modal",isOpen:l,handleClose:function(){return b(!1)},onSave:function(){return da(f,!0)},tenantReducer:r,OrderReducerData:n})}),T&&Object(u.jsx)("div",{children:Object(u.jsx)(xt,{"data-testid":"map-modal",isOpen:T,handleClose:function(){return C(!1)},OrderReducerData:n})})]})},PO=Us.CallIcon,LO=function(e){var t,n,a,i,c,o,r=e.orderReducerData,s=void 0===r?{}:r,d=e.orderDetails,l=void 0===d?{}:d,b=e.isMobile,v=void 0!==b&&b,j=s.deliveryPartner,O=s.store,m=void 0===O?{}:O,f=T.ab.CREATED,p=T.ab.ASSIGNED,h=T.ab.PICKED_UP,g=T.ab.OUT_FOR_DELIVERY,N=T.ab.ARRIVED,x=(null===l||void 0===l||null===(t=l.status)||void 0===t?void 0:t.toUpperCase())===f,E=(null===l||void 0===l||null===(n=l.status)||void 0===n?void 0:n.toUpperCase())===p||(null===l||void 0===l||null===(a=l.status)||void 0===a?void 0:a.toUpperCase())===h||(null===l||void 0===l||null===(i=l.status)||void 0===i?void 0:i.toUpperCase())===g,I=(null===l||void 0===l||null===(c=l.status)||void 0===c?void 0:c.toUpperCase())===N,C=(null===l||void 0===l||null===(o=l.status)||void 0===o?void 0:o.toUpperCase())!==f;return Object(u.jsx)("div",{className:"delivery-info-daas",children:Object(u.jsxs)("div",{className:"info-content",children:[Object(u.jsxs)("div",{className:"dis-flex-first",children:[Object(u.jsx)("div",{className:"left-sec head-text mr-set",children:Object(u.jsx)("span",{children:Object(Ce.e)("contactKFC")})}),(null===j||void 0===j?void 0:j.rider_phone)&&C&&!v&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("span",{className:"set-opacity",children:Object(Ce.e)("contact")})," ",Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})]}),v&&E&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})," ",Object(u.jsx)("span",{className:"set-opacity",children:Object(Ce.e)("isOnTheWay")})]}),v&&I&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name}),Object(u.jsx)("span",{className:"set-opacity",children:Object(Ce.e)("arrvingSoon")})]})]}),Object(u.jsxs)("div",{className:"dis-flex-sec",children:[x&&Object(u.jsx)("div",{className:"left-sec mr-set created-driverstatus",children:Object(u.jsxs)("span",{className:"set-opacity",children:[Object(Ce.e)("findingDriver"),"..."]})}),!v&&E&&Object(u.jsxs)("div",{className:"left-sec mr-set",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})," ",Object(u.jsx)("span",{className:"set-opacity",children:Object(Ce.e)("isOnTheWay")})]}),!v&&I&&Object(u.jsxs)("div",{className:"left-sec mr-set",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name}),Object(u.jsx)("span",{className:"set-opacity",children:Object(Ce.e)("arrvingSoon")})]}),v&&C&&(null===j||void 0===j?void 0:j.rider_phone)&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("span",{className:"set-opacity",children:Object(Ce.e)("contact")})," ",Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})]}),C&&Object(u.jsxs)("div",{className:"rgt-sec algn-rgt mr-set",children:[v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:PO,alt:" "}),Object(u.jsx)("a",{href:"tel:"+(null===j||void 0===j?void 0:j.rider_phone),className:"anchorTags",children:Object(u.jsx)("span",{className:"contact-text",children:Object(Ce.e)("call")})})]}),!v&&Object(u.jsx)("span",{className:"contact-text-mob",children:null===j||void 0===j?void 0:j.rider_phone})]})]}),Object(u.jsx)("div",{className:"hr-line"}),Object(u.jsx)("div",{className:"dis-flex-sec",children:Object(u.jsx)("div",{className:"left-sec mr-set",children:Object(u.jsx)("span",{className:"set-opacity",children:Object(Ce.e)("kfcRestaraunt")})})}),Object(u.jsxs)("div",{className:"dis-flex-sec",children:[Object(u.jsx)("div",{className:"left-sec mr-set",children:Object(u.jsx)("strong",{children:null===m||void 0===m?void 0:m.name})}),Object(u.jsxs)("div",{className:"rgt-sec algn-rgt mr-set",children:[v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:PO,alt:" "}),Object(u.jsx)("a",{href:"tel:"+(null===m||void 0===m?void 0:m.phoneNumber),className:"anchorTags",children:Object(u.jsx)("span",{className:"contact-text",children:Object(Ce.e)("call")})})]}),!v&&Object(u.jsx)("span",{className:"contact-text-mob",children:null===m||void 0===m?void 0:m.phoneNumber})]})]})]})})},kO=function(e){var t=e.orderDetails,n=void 0===t?{}:t,a=ls.d.TRACK_ORDER;return Object(u.jsx)("iframe",{title:Object(Ce.e)(a),src:function(){var e,t=null===n||void 0===n||null===(e=n.deliveryPartner)||void 0===e?void 0:e.tracking_url;return(t&&-1===t.indexOf(ls.c)?ls.c:"")+t}()})},MO=n(40),FO=function(e){var t,n=e.orderDetails,a=e.status,i=e.imageSrc,c=e.statusMessage,o=e.getTime,r=e.cardToFill,s=e.showProgressBar,d=T.qb.ESTIMATED_ARRIVAL,l=T.qb.ASK_FOR_OTP,b=T.ab.SENT_TO_POS_COMPLETED;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(a,"-delivery"),children:Object(Ce.e)(d)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red",children:o(null===n||void 0===n?void 0:n.orderTime)})}),i&&Object(u.jsx)("img",{src:i,alt:a}),s&&Object(u.jsx)("div",{className:"progress-bar-list",children:function(){var e=[];return 0!==r&&m.a.times(5,(function(t){e.push(Object(u.jsx)("div",{id:"progressBarContainer",className:"ProgressDelivery ".concat(t+1<=r?"selectedBar":"Bar")},t))})),e}()}),Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(a,"-delivery-allSet"),children:Object(Ce.e)(c)}),a!==b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg",children:Object(Ce.e)(l)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:null===n||void 0===n||null===(t=n.deliveryPartner)||void 0===t?void 0:t.otp})})]})]})},HO=Us.ConfirmedImg,UO=Us.TakeAwayImg,BO=Us.TakeawayCompleted,GO=function(e){return Object(x.s)(Object(MO.g)(e),Object(MO.i)(e))?Object(MO.i)(e)?"distaIframeContainer-delivered":Object(MO.g)(e)?"distaIframeContainer-cancelled":"":""},YO=function(e){var t=e.orderDetails,n=void 0===t?{}:t,a=e.orderReducerData,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=T.ab.DELIVERED,d=T.ab.SENT_TO_POS_COMPLETED,l=T.ab.CREATED,b=T.ab.ASSIGNED,v=T.ab.CANCEL,O=T.qb.ORDER_RECEIVED,m=T.qb.ORDER_READY,f=T.qb.FOUND_DRIVER,p=Object(i.useState)({imageSrc:"",statusMessage:"",showProgressBar:!1}),h=Object(j.a)(p,2),g=h[0],N=h[1],E=Object(i.useState)(0),I=Object(j.a)(E,2),C=I[0],S=I[1],A=Object(i.useState)(!1),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(i.useState)(Object(x.Ib)(window.innerWidth)),w=Object(j.a)(R,2),P=w[0],L=w[1],k=function(){var e=Object(x.Ib)(window.innerWidth);L(e)};Object(i.useEffect)((function(){window.addEventListener("resize",k)}),[P]);var M=Object(MO.j)(n)&&!Object(MO.i)(n),F=function(){return Object(u.jsx)(_O,{orderReducerData:c,tenantReducer:r,enableAccordion:"true",isOpenAccordion:M,orderDetailsObj:n})};Object(i.useEffect)((function(){N(function(e){switch(Object(x.bc)(null===e||void 0===e?void 0:e.status)){case d:if(S(1),!D)var t=setTimeout((function(){_(!0),t&&clearTimeout(t)}),Jj.d);return{imageSrc:HO,statusMessage:O,showProgressBar:!D};case l:return S(2),{imageSrc:UO,statusMessage:m,showProgressBar:!0};case b:return S(3),{imageSrc:BO,statusMessage:f,showProgressBar:!0};case s:case v:return S(0),{imageSrc:"",statusMessage:"",showProgressBar:!1}}}(n))}),[null===n||void 0===n?void 0:n.deliveryDistaRetryCountFlag,null===c||void 0===c?void 0:c.id]);var H=M?"adjust-delivery-info bill-accordion-section":"bill-accordion-section";return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"OrderReceivedContainer",children:[Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"NotifyOrderPlaced ".concat(GO(n)," ").concat(Object(MO.k)(n)?" distaIframeContainer":""),children:Object(MO.k)(n)?Object(u.jsx)(kO,{orderDetails:n}):Object(u.jsx)("div",{className:"tickimage",children:Object(u.jsx)("div",{children:Object(u.jsx)(FO,{orderDetails:n,status:Object(x.bc)(null===n||void 0===n?void 0:n.status),imageSrc:null===g||void 0===g?void 0:g.imageSrc,statusMessage:null===g||void 0===g?void 0:g.statusMessage,getTime:x.nb,cardToFill:C,showProgressBar:null===g||void 0===g?void 0:g.showProgressBar})})})}),!P&&!Object(MO.j)(n)&&!Object(MO.i)(n)&&F()]}),Object(u.jsxs)("div",{className:H,children:[(Object(MO.h)(n)||Object(MO.j)(n))&&Object(u.jsx)(LO,{isMobile:P,orderReducerData:c,orderDetails:n}),Object(MO.j)(n)&&F(),P&&!Object(MO.j)(n)&&!Object(MO.i)(n)&&F()]})]})})},KO=function(e){var t=e.orderReducerData,n=void 0===t?{}:t,a=e.userParams,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(Object(x.Ib)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],N=h[1],E=Vn.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER,I=Vn.SAVED_TO_FAVORITE_MENU,T=Vn.SAVE_THIS_Order,C=Vn.REORDER_FAVOURITES,S=Vn.CREATE_KFC_ACCOUNT,A=function(){var e=Object(x.Ib)(window.innerWidth);N(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",A)}),[g]),Object(i.useEffect)((function(){m&&(Wt.b.dark(Object(u.jsx)("div",{className:"img-text-div",children:Object(u.jsxs)("span",{className:"notifyText",children:[Object(u.jsx)("img",{src:tO,alt:"tick",className:"TickImg"}),Object(Ce.e)(I)]})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),4e3))}),[m]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:c.loggedIn?Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdivDelivery",children:[Object(u.jsx)("span",{className:"savingText",children:Object(Ce.e)(E)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(Ot.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:function(){return sa(b)},ariaLable:Object(Ce.e)(T),children:Object(Ce.e)(T)})})]})}):Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdivDelivery",children:[Object(u.jsx)("span",{className:"savingText",children:Object(Ce.e)(C)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(Ot.a,{"data-testid":"save-guest-order",className:"button transparent-btn black-border",onClick:function(){return e=n,t=100,st(),on(),void at({orderValue:((null===e||void 0===e?void 0:e.total)/t).toFixed(2)||"NA"});var e,t},ariaLable:Object(Ce.e)(S),children:Object(Ce.e)(S)})})]})})}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(eO,{"data-testid":"confirm-modal",isOpen:l,handleClose:function(){return b(!1)},onSave:function(){return da(f,!0)},tenantReducer:r,OrderReducerData:n})})]})},VO=function(e){var t,n=null,o=null,r=Object(i.useContext)(E.a).userOrderState,s=Object(N.c)((function(e){return e})),d=s.tenantReducer,l=s.appStateReducer,b=s.orderReducer,v=s.postOrderReducer,O=s.cartReducer,m=s.storesReducer,f=Object(N.b)(),g=l.userStatus,C=O.cartData,S=O.isBasketLoading,A=O.qrCodeScanTime,y=Object(x.Cb)(r.dispositionNew)?JSON.parse(localStorage.getItem(T.S.DISPOSITION_NEW)):r.dispositionNew,D=Object(i.useState)(Object(MO.u)(null===d||void 0===d?void 0:d.tenantId,Object(MO.e)(v,b,{},!1),null===b||void 0===b||null===(t=b.response)||void 0===t?void 0:t.order,y)),_=Object(j.a)(D,2),R=_[0],w=_[1],P=Object(i.useState)(!0),L=Object(j.a)(P,2),k=L[0],M=L[1],F=Object(i.useState)(0),H=Object(j.a)(F,2),U=H[0],B=H[1],G=Object(i.useState)(!1),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)(!1),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(d)?d:JSON.parse(localStorage.getItem(T.S.TENANT_REDUCER)),storeInfo:y?null===y||void 0===y?void 0:y.store:{},dispositionType:y&&(null===y||void 0===y?void 0:y.type)?Object(x.H)(null===y||void 0===y?void 0:y.type):Object(x.H)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[y,d]);Object(i.useEffect)((function(){window.scrollTo(0,0)})),Object(i.useEffect)((function(){return window.removeEventListener("beforeunload",(function(){return Object(MO.t)(f)}),!0),window.addEventListener("beforeunload",(function(){return Object(MO.t)(f)})),function(){window.removeEventListener("beforeunload",(function(){return Object(MO.t)(f)}),!0),w({}),Object(MO.t)(f)}}),[]),Object(i.useEffect)((function(){var t=Object(MO.e)(v,b,{},!1);if(t&&Object.keys(t).length){if(!Object(MO.p)(t)&&!Z)!function(e){var t,n=[{storeId:null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.storeId,channel:ka.b.channel,service:null===e||void 0===e?void 0:e.service}],a=null===d||void 0===d?void 0:d.tenantId;f(Object(ii.c)({data:n,tenantId:a,isFavoritePage:!1}))}(t),!function(e,t){var n,a,i,c,o,r,s,d,l,u=[];null===e||void 0===e||null===(n=e.foodLines)||void 0===n||n.forEach((function(e,n){var a,i="";null===(a=e.item.modGrps)||void 0===a||a.forEach((function(e){i=i+e.modifiers[0].name+","})),u.push({item_name:e.item.dname[0].value||"NA",item_id:e.item.id||"NA",price:e.item.unitPrice/t||"NA",item_variant:i||"NA",quantity:e.quantity||"NA"})}));var b=ka.b.shouldGoogleSpotIgnoreOloFailure&&ka.b.transactionId?ka.b.transactionId:null!==(a=null===e||void 0===e||null===(i=e.paymentReferences)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.transactionId)&&void 0!==a?a:"NA";tt({transaction_id:b,value:(null===e||void 0===e?void 0:e.total)?e.total/t:"NA",tax:(null===e||void 0===e?void 0:e.taxTotal)?e.taxTotal/t:"NA",shipping:"delivery-charge"===(null===e||void 0===e||null===(o=e.additionalChargeLines)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.chargeType)?(null===(s=e.additionalChargeLines)||void 0===s?void 0:s[0].amount)/t:"NA",currency:"INR",coupon:(null===e||void 0===e||null===(d=e.discountLines)||void 0===d||null===(l=d[0])||void 0===l?void 0:l.couponCode)||"NA",items:u||"NA"})}(t,d.currencyConversionFactor),$(!0);Object(MO.q)(t,z,Q),Object(MO.v)(t,R,w,z,e)}}),[null===v||void 0===v?void 0:v.orderAccepted,null===b||void 0===b?void 0:b.pastOrderResponse]);var te=function(){var t=Object(MO.e)(v,b,{},!1);Object(MO.s)(f,R,U,t,B,e)};Object(i.useEffect)((function(){k&&U>0&&te()}),[U]),Object(i.useEffect)((function(){if((null===d||void 0===d?void 0:d.tenantId)&&localStorage.getItem(T.S.ORDER_TRACKING)){var e,t,n,i=JSON.parse(localStorage.getItem(T.S.ORDER_TRACKING));if(i&&Object.keys(i).length)(null===i||void 0===i?void 0:i.postOrderDetails)&&0===Object.keys(null===i||void 0===i?void 0:i.postOrderDetails).length&&Object(MO.c)(f,i),w(Object(a.a)(Object(a.a)(Object(a.a)({},R),i),{},{deliveryDistaRetryCountFlag:(null===i||void 0===i?void 0:i.postOrderDetails)?1:0,operatingTime:null===m||void 0===m||null===(e=m.storesWithStatus)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings}));else R&&te()}}),[null===d||void 0===d?void 0:d.tenantId]),Object(i.useEffect)((function(){var e;f(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===ne||void 0===ne||null===(e=ne.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ka.b.channel,include:5}}))}),[f]),Object(i.useEffect)((function(){f(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userStatus:g}))}),[f,g,null===d||void 0===d?void 0:d.tenantId]),Object(i.useEffect)((function(){var t=null;if(k&&!Object(MO.m)(R)){var n=function(){var t=Object(be.a)(ue.a.mark((function t(){var n,a;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(MO.e)(v,b,{},!1),t.next=3,Object(MO.r)(n,M,e);case 3:a=t.sent,Object(MO.a)(f,R,n,C,r,l,S,a,A);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}return Object(MO.f)(R)&&!K&&(V(!0),M(!1)),(null===R||void 0===R?void 0:R.orderId)&&Object(MO.n)(R)&&(t=setTimeout((function(){Object(MO.c)(f,R)}),Jj.b)),function(){t&&clearTimeout(t)}}),[null===R||void 0===R?void 0:R.deliveryDistaRetryCountFlag]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem(T.S.POST_PAYMENT_TYPE)&&(localStorage.setItem(T.S.PAYMENT_STATUS,T.bb.SUCCESS),Object(x.Xb)(e))}),[]);var ne=Object(N.c)((function(e){return{homePageContent:Object(x.xb)(e.contentReducer.response),marketPageContent:Object(x.xb)(e.marketConfigReducer.response),tenantReducerContent:Object(x.xb)(e.tenantReducer)}}));if(ne.marketPageContent&&ne.tenantReducerContent&&ne.homePageContent){var ae=Object(x.ub)(ne.marketPageContent.headerData),ie=ae.header,ce=void 0===ie?{}:ie,oe=(ae.tenant,ae.footer),re=void 0===oe?{}:oe;n=Object(x.V)(ce),o=Object(x.N)(re)}return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"PostPaymentProcessComponent",children:[Object(x.Db)(n)&&Object(u.jsx)(vj,{contentData:n,tenantReducerData:ne.tenantReducerContent,userParams:ee,paymentHeader:!0,checkoutHeader:!1}),k&&Object(u.jsx)(Xj,{retryCount:U}),Object(MO.o)(R)&&!Object(MO.l)(R)&&Object(u.jsx)(wO,{orderReducerData:Object(MO.e)(v,b,R),userParams:ee,tenantReducer:d,orderDetails:R}),K&&Object(u.jsxs)("div",{children:[Object(u.jsx)(YO,{orderDetails:R,orderReducerData:Object(MO.e)(v,b,R),tenantReducer:d}),Object(u.jsx)(KO,{orderReducerData:Object(MO.e)(v,b,R),userParams:ee,tenantReducer:d,orderDetails:R})]}),Object(x.Db)(o)&&Object(u.jsx)(ha,{contentData:o,history:e.history,tenantReducerData:ne.tenantReducerContent})]})})},WO=function(e){return function(t){var n=null,i=null,o=Object(N.c)((function(e){var t,n;return{homePageContent:Object(x.xb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),marketPageContent:Object(x.xb)(null===e||void 0===e||null===(n=e.marketConfigReducer)||void 0===n?void 0:n.response),tenantReducerContent:Object(x.xb)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(o.marketPageContent&&o.tenantReducerContent&&o.homePageContent){var r;Object(x.U)(o.homePageContent);var s=Object(x.ub)(null===o||void 0===o||null===(r=o.marketPageContent)||void 0===r?void 0:r.headerData),d=s.header,l=void 0===d?{}:d,b=s.tenant,v=void 0===b?[]:b,j=s.footer,O=void 0===j?{}:j;n=Object(x.V)(l),i=Object(x.N)(O),Object(x.kb)(v)}var m=Object(N.c)((function(e){return e.appStateReducer.userStatus}));return Object(u.jsxs)(c.a.Fragment,{children:[qO(n,o,m,!0,!1),Object(u.jsx)(e,Object(a.a)({},t)),zO(i,t.history,o)," "]})}},qO=function(e,t,n,a,i){return Object(x.Db)(e)&&Object(u.jsx)(vj,{contentData:e,tenantReducerData:t.tenantReducerContent,userParams:n,paymentHeader:a,checkoutHeader:i})},zO=function(e,t,n){return Object(x.Db)(e)&&Object(u.jsx)(ha,{contentData:e,history:t,tenantReducerData:n.tenantReducerContent})},QO=WO((function(e){var t,n=Object(N.b)(),a=Object(N.c)((function(e){return e})),c=a.tenantReducer,o=a.paymentsReducer,r=a.orderReducer,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1];return Object(i.useEffect)((function(){var t,a;localStorage.getItem("postPaymentType")===T.cb.PAYTM?(null===c||void 0===c?void 0:c.tenantId)&&(null===r||void 0===r?void 0:r.response)&&(null===o||void 0===o||null===(t=o.response)||void 0===t?void 0:t.transactionId)&&(!function(e,t,n,a){var i=(null===a||void 0===a?void 0:a.order).customer,c={tenantId:t,transactionId:n,customerId:null===i||void 0===i?void 0:i.id};e(Object(Xu.a)(c))}(n,null===c||void 0===c?void 0:c.tenantId,null===o||void 0===o||null===(a=o.response)||void 0===a?void 0:a.transactionId,null===r||void 0===r?void 0:r.response),b(!0)):Object(x.ac)(e)}),[null===c||void 0===c?void 0:c.tenantId,null===r||void 0===r?void 0:r.response,null===o||void 0===o?void 0:o.response]),Object(i.useEffect)((function(){var t;localStorage.getItem("postPaymentType")===T.cb.PAYTM?(null===o||void 0===o?void 0:o.paytmStatusData)&&l&&(b(!1),"success"===(null===o||void 0===o||null===(t=o.paytmStatusData)||void 0===t?void 0:t.status)?Object(x.ac)(e):Object(x.Zb)(e)):console.log("useEffect")}),[l,null===o||void 0===o||null===(t=o.paytmStatusData)||void 0===t?void 0:t.status]),Object(u.jsx)("div",{className:"PostPaymentProcessComponent",children:Object(u.jsx)(Xj,{showLoader:"false"})})})),JO=n.p+"static/media/Issue.15271b1b.svg";function XO(e){e.tenantId;var t=e.paymentFailedProps,n=Object(i.useState)(Object(x.Ib)(window.innerWidth)),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Vn.THAT_AINT_RIGHT,s=Vn.FAILED_MSG,d=Vn.BACK_TO_CART,l=function(){var e=Object(x.Ib)(window.innerWidth);o(e)};Object(i.useEffect)((function(){Object(x.Sb)(r,s)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",l)}),[c]);var b=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(x.Vb)(t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"paymentFailed",children:Object(u.jsxs)("div",{className:"FailedDisplay",children:[Object(u.jsx)("div",{className:"Failimage",children:Object(u.jsx)("img",{src:JO,alt:"image"})}),Object(u.jsx)("div",{className:"notRight",children:Object(Ce.e)(r)}),Object(u.jsx)("div",{className:"Reason",children:Object(Ce.e)(s)}),Object(u.jsx)("div",{className:"backToCart",children:Object(u.jsx)(Ot.a,{"data-testid":"Back-Cart-Button",className:"button whiteButton blackBorder back-To-Cart",onClick:b,children:Object(Ce.e)(d)})})]})})}var ZO=function(e,t,n,a){Object(x.i)(e,Ct.e,t,n,a),e(Object(mt.e)()),e(Object(tn.b)()),localStorage.setItem(T.S.PAYMENT_STATUS,""),localStorage.setItem(T.S.POST_PAYMENT_TYPE,"")},$O=function(e){var t=null,n=null,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useContext)(E.a).userOrderState,d=Object(N.c)((function(e){return e.tenantReducer})),l=d.tenantId,b=Object(N.b)(),v=Object(N.c)((function(e){return e.appStateReducer})).userStatus,O=Object(N.c)((function(e){return e.cartReducer})).qrCodeScanTime,f=Object(N.c)((function(e){return e.appStateReducer.userStatus})),g=Object(x.Cb)(s.dispositionNew)?JSON.parse(localStorage.getItem(T.S.DISPOSITION_NEW)):s.dispositionNew,C=Object(N.c)((function(e){return e})),S=(C.authReducer,C.postOrderReducer),A=C.orderReducer,y=S.orderAccepted;Object(i.useEffect)((function(){!function(e,t,n,a,i,c){var o;if(t&&(null===e||void 0===e?void 0:e.response)&&Object.keys(null===e||void 0===e?void 0:e.response).length)if(null===e||void 0===e||null===(o=e.response)||void 0===o?void 0:o.order){var r,s,d,l,u,b={orderId:null===e||void 0===e||null===(r=e.response)||void 0===r||null===(s=r.order)||void 0===s?void 0:s.id,tenantId:t,customerId:null===e||void 0===e||null===(d=e.response)||void 0===d||null===(l=d.order)||void 0===l||null===(u=l.customer)||void 0===u?void 0:u.id};Object(MO.d)(n,b)}else ZO(n,t,a,c),Object(x.Yb)(i)}(A,l,b,s,e,O)}),[l,null===A||void 0===A?void 0:A.response]),Object(i.useEffect)((function(){!function(e,t,n,a,i,c,o){e&&Object.keys(e).length&&(localStorage.setItem(T.S.PAYMENT_STATUS,T.bb.FAILED),(null===e||void 0===e?void 0:e.id)?Object(x.bc)(null===e||void 0===e?void 0:e.status)===T.ab.SENT_TO_POS_FAILED||Object(x.bc)(null===e||void 0===e?void 0:e.status)===T.ab.ACCEPTED||Object(MO.l)(e)?(ZO(t,n,a,o),i(!0)):(Object(x.Wb)(c,!0),i(!1)):(ZO(t,n,a,o),Object(x.Yb)(c)))}(y,b,l,s,r,e,O)}),[y]),Object(i.useEffect)((function(){b(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userStatus:v}))}),[b,v,l]),Object(i.useEffect)((function(){var e;b(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===D||void 0===D||null===(e=D.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ka.b.channel,include:5}}))}),[b]),Object(i.useEffect)((function(){b(Object(Xu.g)())}),[f]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem(T.S.POST_PAYMENT_TYPE)&&(localStorage.setItem(T.S.PAYMENT_STATUS,T.bb.FAILED),Object(x.Xb)(e,!0))}));var D=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null)}}));Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(d)?d:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:g?null===g||void 0===g?void 0:g.store:{},dispositionType:g&&(null===g||void 0===g?void 0:g.type)?Object(x.H)(null===g||void 0===g?void 0:g.type):Object(x.H)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[g,d]);if(D.marketPageContent&&D.tenantReducerContent&&D.homePageContent){var _=D.marketPageContent.headerData||{},R=_.header,w=void 0===R?{}:R,P=_.tenant,L=void 0===P?[]:P,k=_.footer,M=void 0===k?{}:k;t=Object(x.V)(w),n=Object(x.N)(M),Object(x.kb)(L)}return o&&Object(u.jsxs)("div",{className:"PaymentFailedScreen",children:[Object(x.Db)(t)&&Object(u.jsx)(vj,{contentData:t,tenantReducerData:D.tenantReducerContent,userParams:f,paymentHeader:!0,checkoutHeader:!1}),Object(u.jsx)(XO,{paymentFailedProps:e,basketId:null===y||void 0===y?void 0:y.basketId,tenantId:l}),Object(x.Db)(n)&&Object(u.jsx)(ha,{contentData:n,history:e.history,tenantReducerData:D.tenantReducerContent})]})},em=n(160),tm=n(386),nm=n.n(tm),am=function(e){var t=e.appUpdateContents;return t&&0!==t.length?Object(u.jsx)("div",{className:"app-update align-items-center d-flex flex-column",children:t.map((function(e,t){return T.Db.CMS_CONTENT_TYPES.LOGO_ICON===e.contentType&&Object(u.jsx)("div",{className:"d-flex p-2 ".concat(e.className),children:Object(u.jsx)("img",{src:e.imgSrc,alt:e.altTxt})},t)||T.Db.CMS_CONTENT_TYPES.MULTI_TEXT===e.contentType&&Object(u.jsx)("div",{className:"update-txt text-uppercase",children:e.txts.map((function(e,t){return Object(u.jsx)("span",{children:e},t)}))},t)||T.Db.CMS_CONTENT_TYPES.CALL_TO_ACTION===e.contentType&&Object(u.jsx)("div",{className:"p-2 mt-2",children:Object(u.jsx)(Ot.a,{className:"button blackButton text-uppercase","aria-label":"app-update-button",onClickHandler:e.onClickHandler,id:"appUpdateButton",type:"submit","data-testid":"app-update-button",children:Object(u.jsx)("span",{children:e.txt})})},t)}))}):Object(u.jsx)(u.Fragment,{})},im="AppStore",cm="PlayStore",om=function(e){var t,n,a=e.history,c=Object(i.useState)(null),o=Object(j.a)(c,2),r=o[0],s=o[1],d=Object(N.b)(),l=Object(N.c)((function(e){var t;return{appUpdateContent:(null===e||void 0===e||null===(t=e.appUpdateReducer)||void 0===t?void 0:t.response)||null}})).appUpdateContent,b=function(){var e={key:"OpenInBrowser",value:""},t=Object(O.filter)(v,{contentType:T.Db.CMS_CONTENT_TYPES.NAVIGATION_LINK,storeLinkId:"iOS"===r?im:cm});e.value=t[0].storeUrl;var n=JSON.stringify(e);window.sendToMobile(r,n)},v=null===l||void 0===l||null===(t=l.headerData)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.map((function(e){var t,n,a,i,c,o,r,s,d,l,u,v,j,O={},m=null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(n=t.contentType)||void 0===n||null===(a=n.sys)||void 0===a?void 0:a.id;T.Db.CMS_CONTENT_TYPES.LOGO_ICON===m&&(O={contentType:m,className:null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i.category,imgSrc:null===e||void 0===e||null===(c=e.fields)||void 0===c||null===(o=c.mobileImage)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url,altTxt:null===e||void 0===e||null===(d=e.fields)||void 0===d?void 0:d.altText});T.Db.CMS_CONTENT_TYPES.MULTI_TEXT===m&&(O={contentType:m,txts:null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.listText});T.Db.CMS_CONTENT_TYPES.CALL_TO_ACTION===m&&(O={contentType:m,txt:null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.buttonText,onClickHandler:b});T.Db.CMS_CONTENT_TYPES.NAVIGATION_LINK===m&&(O={contentType:m,storeUrl:null===e||void 0===e||null===(v=e.fields)||void 0===v?void 0:v.externalurl,storeLinkId:null===e||void 0===e||null===(j=e.fields)||void 0===j?void 0:j.linkId});return O})),m=Object(i.useCallback)((function(){a.push({pathname:"/"})}),[a]);return Object(i.useEffect)((function(){var t=nm.a.parse(e.location.search);if(Object(O.isEmpty)(null===t||void 0===t?void 0:t.appurl))m();else{var n=Object(x.d)(null===t||void 0===t?void 0:t.appurl),a=n.DeviceId,i=n.DeviceType;a||m(),s(i)}}),[m,e.location.search]),Object(i.useEffect)((function(){d(Object(em.c)({object:Object(I.a)(),contentFull:{content_type:"appUpdate","fields.updateStatus":"major",include:5}}))}),[d]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(am,{appUpdateContents:v})})},rm=n.p+"static/media/LightwhiteCrossClose.21785371.svg",sm="| Enter question or search term",dm="singleResult",lm="MultipleResults",um=function(e){return"".concat(0===e?"active":"")},bm=function(e){var t=e.contentData,n=void 0===t?{}:t,o=Object(i.useState)(Object(x.Ib)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(""),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)({isSearchedMode:!1,searchedData:""}),N=Object(j.a)(g,2),I=N[0],T=N[1],S=Object(i.useState)([]),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)([]),R=Object(j.a)(_,2),w=R[0],P=R[1],L=Object(i.useState)([]),k=Object(j.a)(L,2),M=k[0],F=k[1],H=Object(i.useState)(!1),U=Object(j.a)(H,2),B=U[0],G=U[1],Y=Object(i.useContext)(E.a).userOrderState,K=Object(i.useState)(!1),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useRef)(null),Q=function(){var e=Object(x.Ib)(window.innerWidth);d(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",Q),function(){window.removeEventListener("resize",Q)}}),[s]),Object(i.useEffect)((function(){var e=localStorage.getItem("SelectedFaqItem");!function(e,t,n){if(""!==t){var a=t;console.log("dataReceived",a),ds.scroller.scrollTo(a,{duration:1500,delay:100,smooth:!0,containerId:"",offset:n?-240:-100})}else ds.scroller.scrollTo(e.FinalData[0].Title.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:n?-240:-100})}(n,e,s)}),[n]),Object(i.useEffect)((function(){return function(){localStorage.setItem("SelectedFaqItem","")}}),[]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",J),function(){document.removeEventListener("mousedown",J)}}));var J=function(e){z.current&&!z.current.contains(e.target)&&h(!1)};return function(){var t=function(e){var t=Object(x.ub)(n).FinalData;t&&void 0!==e&&(F(null===t||void 0===t?void 0:t.map((function(t){return t.QuesAns.filter((function(t){return-1!==t.question.toLowerCase().indexOf(e.toLowerCase().toString())}))})).flat().slice()),P([]))},i=function(e){if("Enter"===e.key){if(""===e.target.value)return void D([]);q(!1),h(!1),t(e.target.value.toLowerCase().toString()),T({isSearchedMode:!0,searchedData:v})}},o=function(e){O(e.target.value),e.target.value.toString().length>2?p||(h(!0),d(e.target.value.toString())):p&&(h(!1),d(""),t(),T({isSearchedMode:!1,searchedData:""}))},r=function(){P([]),F([]),O(""),h(!1),d(""),t(),T({isSearchedMode:!1,searchedData:""})},d=function(e){var t=Object(x.ub)(n).FinalData;D(null===t||void 0===t?void 0:t.map((function(t){return t.QuesAns.filter((function(t){return-1!==t.question.toLowerCase().indexOf(e.toLowerCase().toString())}))})).flat().slice(0,7))},l=function(e,t){t&&ds.scroller.scrollTo(n.FinalData[t].Title.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:Object(x.mb)(s,-240,-100)})},b=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("ourAds-accordian-open")?t.classList.remove("ourAds-accordian-open"):t.classList.add("ourAds-accordian-open")},j=function(e){!function(e){var t=[];t.push(e),P(t),F([])}(e),h(!1),O(e.question),T({isSearchedMode:!0,searchedData:e.question}),q(!1)};var m={id:"FiltePopup",role:"dialog",modalTitleId:"FiltePopup",show:W,classNames:"mobileFilter",showCloseBtn:!0,showBackBtn:!1,autoFocus:!0,closeButtonHandler:function(){q(!1)},modalTitle:Object(Ce.e)("Refine Items")},f=Object(u.jsx)(Rt,{"aria-label":"Enter question or search term",className:"faq-search-menu-input",id:"inputFocus",onClick:function(){G(!0),q(!0)},onKeyPress:function(e){return i(e)},onChange:function(e){return o(e)},value:v,placeholder:Object(Ce.e)(sm),autocomplete:"off",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(Object(Ce.e)(sm))}}),g=Object(u.jsxs)("div",{ref:z,className:"inputAutoComplete",children:[Object(u.jsx)("div",{className:"SuggestionHeader",children:"Suggested Search Terms"}),Object(u.jsx)("ul",{className:"autoCompleteList",children:v.length>2&&(null===y||void 0===y?void 0:y.length)>0&&y.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return j(e)},"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoComplete",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(C.a,{srcFile:Ib})}),Object(u.jsx)("span",{children:e.question})]},t)}))})]}),N=Object(u.jsx)(C.a,{srcFile:Eb,className:"search-icon-img"}),E=Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("img",{className:"faq-input-dark-cross",onClick:function(){return r()},src:Tb,alt:"crossCancel"})]}),S=function(e,t,n){return console.log("fnfile",e),Object(u.jsx)("div",{children:e.FinalData.map((function(a,i){return Object(u.jsxs)(ds.Element,{name:a.Title,id:"faqLinkOption-".concat(i),tabIndex:"-1",children:[Object(u.jsx)("h2",{className:n?"Mob-AccordianTitle":"AccordianTitle",id:e.FinalData[0].Title===a.Title?"FirstHeading":"",children:a.Title}),a.QuesAns.map((function(e,n){var i=a.QuesAns.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===n+1?"lastElement":"",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))]})}))})}(n,b,s),A=function(e,t,n,a){return Object(u.jsx)("div",{children:Object(u.jsxs)(ds.Element,{children:[e.length>0&&0===n.length&&Object(u.jsxs)("div",{className:"totalNumbers",children:[e.length," ","",1===e.length?Object(Ce.e)(dm):Object(Ce.e)(lm)," ","",Object(u.jsxs)("span",{className:"enteredSearch",children:["\u201c",a,"\u201d"]})]}),n.length>0&&0===e.length&&Object(u.jsxs)("div",{className:"totalNumbers",children:[n.length," ","",1===e.length?Object(Ce.e)(dm):Object(Ce.e)(lm)," ","",Object(u.jsxs)("span",{className:"enteredSearch",children:["\u201c",a,"\u201d"]})]}),e.length>0&&e.map((function(n,a){var i=e.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===a+1?"lastElement":"",children:Object(u.jsx)(oe,{header:n.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(n.answer)},className:"ourAds-accordian-answer"})})})})),n.length>0&&n.map((function(e,a){var i=n.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===a+1?"lastElement":"",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))]})})}(w,b,M,v),_=function(e,t,n){return console.log("isMobile",n),Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.ButtonInfo.map((function(e){if("navigationLink"===e.sys.contentType.sys.id)return Object(u.jsx)("span",{className:n?"ContactUsButtonMob":"ContactUsButton",children:Object(u.jsxs)(Ot.a,{ariaLable:e.fields.linkText,"data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Message-button",onClickHandler:t,children:[Object(u.jsx)(C.a,{srcFile:e.fields.icon.fields.desktopImage.fields.file.url,alt:"",className:n?"MessageimageMob":"Messageimage"}),e.fields.linkText]})})}))})}(n,(function(){e.history.push({pathname:"/contactus"})}),s);return s?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"Mob-faq-container",children:Object(u.jsx)(Nb.a,{children:Object(u.jsxs)("div",{className:"faq-nav",children:[Object(u.jsxs)("div",{className:"TopDiv",children:[Object(u.jsx)(Nb.a,{className:"Mob-faq-stripes-section",children:Object(u.jsx)(C.a,{srcFile:La,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"Mob-faq-title",children:"FAQ"}),!I.isSearchedMode&&Object(u.jsx)("div",{className:"ListItems",children:Object(u.jsx)("ul",{className:"mob-outer-ul",children:null===n||void 0===n?void 0:n.FinalData.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(ds.Link,{to:e.Title,spy:!0,smooth:!0,offset:-460,onClick:function(e){return l(0,t)},activeClass:um(),onSetActive:function(){var e;return null===(e=document.querySelector("li > a.active"))||void 0===e?void 0:e.scrollIntoView({inline:"center"})},children:e.Title})},t)}))})}),Object(u.jsxs)("div",{className:"Mob-faq-search-menu",children:[Object(u.jsx)("span",{className:"Mob-faq-search-icon",children:N}),f,v.length>2&&E]})]}),0===w.length&&!I.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:S}),w.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:A}),M.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:A}),Object(u.jsxs)("div",{className:"LastDiv",children:[Object(u.jsx)("div",{className:"stillAQues",children:"Still Have a question?"}),Object(u.jsx)("hr",{className:"Line"}),Object(u.jsxs)("div",{className:"ButtonDiv",children:[null===n||void 0===n?void 0:n.ButtonInfo.map((function(e){if("callToAction"===e.sys.contentType.sys.id){var t="tel:"+e.fields.phoneNumber;return Object(u.jsx)("span",{children:Object(u.jsx)("a",{href:t,className:"anchorTags",children:Object(u.jsxs)(Ot.a,{ariaLable:"","data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Contact-button",id:"callUs",children:[Object(u.jsx)(C.a,{srcFile:e.fields.image.fields.file.url,alt:"desktopImage",className:"phoneIconMob"}),e.fields.buttonText]})})})}})),_]})]})]})})}),W&&B&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},m),{},{children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(u.jsx)(Rt,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:function(e){return o(e)},onKeyPress:function(e){return i(e)},value:v,placeholder:"search"}),Object(u.jsx)("span",{className:"search-iconMob",children:Object(u.jsx)(C.a,{srcFile:Ib,className:"search-icon-img"})}),v.length>2&&Object(u.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:function(){return r()},src:rm,alt:"clearIcon"}),p&&g]})})})),Y.showCartClearAlert?Object(u.jsx)(ol,{}):null]}):Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"faq-container",children:Object(u.jsxs)(Nb.a,{className:"faq-row",children:[Object(u.jsxs)(xb.a,{md:"4",className:"faq-left-nav",children:[Object(u.jsx)(Nb.a,{className:"faq-stripes-section",children:Object(u.jsx)(C.a,{srcFile:La,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"faq-title",children:"FAQ"}),I.isSearchedMode?Object(u.jsx)(Ot.a,{className:"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:r,children:"Clear Search"}):Object(u.jsx)("ul",{className:"outer-ul",children:null===n||void 0===n?void 0:n.FinalData.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(ds.Link,{tabIndex:"0",href:"#faqLinkOption-".concat(t),to:e.Title,spy:!0,smooth:!0,onClick:function(e){return l(0,t)},onKeyPress:function(e){return l(0,t)},activeClass:um(t),offset:-160,children:e.Title})},t)}))}),Object(u.jsx)("hr",{className:"Line"}),null===n||void 0===n?void 0:n.ButtonInfo.map((function(e){if("callToAction"===e.sys.contentType.sys.id){var t="tel:"+e.fields.phoneNumber,n="".concat(e.fields.buttonText," ").concat(e.fields.phoneNumber);return Object(u.jsx)("a",{tabIndex:"-1",href:t,className:"anchorTags",children:Object(u.jsxs)(Ot.a,{ariaLable:n,"data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Contact-button",children:[Object(u.jsx)(C.a,{srcFile:e.fields.image.fields.file.url,alt:"",className:"phoneIcon"}),e.fields.buttonText," ",e.fields.phoneNumber]})})}})),_]}),Object(u.jsxs)(xb.a,{md:"8",className:"faq-right-nav",children:[Object(u.jsx)(Nb.a,{className:"SearchBar",children:Object(u.jsxs)("div",{className:"faq-search-menu",children:[f,Object(u.jsx)("span",{className:"faq-search-icon",children:N}),v.length>2&&E]})}),p&&g,0===w.length&&!I.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:S}),w.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:A}),M.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:A})]})]})}),Y.showCartClearAlert?Object(u.jsx)(ol,{}):null]})}()},vm=function(e){var t,n,a,o,r=Object(N.c)((function(e){return e.tenantReducer})),s=Object(N.b)(),d=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){s(pb(r))}),[s,null===r||void 0===r?void 0:r.country]),Object(i.useEffect)((function(){s(hb(d))}),[s,d]),Object(i.useEffect)((function(){s(Object(fb.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"FAQ",include:"5"}}))}),[]);var l=null,b=null,v=null,j=null,O=f.a.DISPOSITION,m=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,ourFaqContent:e.ourFaqReducer.response||null}}));if(m.marketPageContent&&m.tenantReducerContent&&m.homePageContent&&Object(x.Db)(m.ourFaqContent)){l=Object(x.U)(m.homePageContent);var p=m.marketPageContent.headerData,h=p.header,g=void 0===h?{}:h,E=p.tenant,C=void 0===E?[]:E,S=p.footer,A=void 0===S?{}:S;b=Object(x.V)(g),j=Object(x.N)(A),Object(x.kb)(C),v=Object(x.O)(m.ourFaqContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(b)&&Object(u.jsx)(ni,{contentData:b,tenantReducerData:m.tenantReducerContent,userParams:d})||null,Object(u.jsx)(zr,{page:T.D}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=l)||void 0===n?void 0:n[O])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[O])&&void 0!==a?a:{}},userParams:d}),Object(x.Db)(v)&&Object(u.jsx)(bm,{contentData:v,history:e.history}),Object(x.Db)(j)&&Object(u.jsx)(ha,{history:e.history,contentData:j,tenantReducerData:m.tenantReducerContent})||null]})},jm=n(387),Om=n(188),mm=f.a.KFC_Gift_Card,fm=function(e){var t=ku,n=wu,c=Mu,o=Au,r=yu,s=Cu,d=e.isOpen,l=e.handleClose,b=e.tenantId,v=Object(i.useState)(Object(x.Ib)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],E=h[1],I=Object(i.useState)(""),T=Object(j.a)(I,2),C=T[0],S=T[1],A=Object(i.useState)(!0),y=Object(j.a)(A,2),D=y[0],_=y[1],R=Object(i.useState)(!1),w=Object(j.a)(R,2),P=w[0],L=w[1],k=Object(i.useState)(!1),M=Object(j.a)(k,2),F=M[0],H=M[1],U=Object(N.b)(),B=Object(N.c)((function(e){return e})),G=B.tenantReducer,Y=B.profileReducer,K=B.createBalanceReducer,V=G.currencySymbol,W=K.response,q=function(){var e=Object(x.Ib)(window.innerWidth);f(e)};Object(i.useEffect)((function(){window.addEventListener("resize",q)}),[m]),Object(i.useEffect)((function(){switch(W.cardStatus){case o:S(W.cardBalance),L(!0),H(!1);break;case r:L(!1),H(!0)}}),[W]);var z=Object(i.useState)({value:"",errorMessage:"",error:!1}),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)({value:"",errorMessage:"",error:!1}),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)({value:"",errorMessage:"",error:!1}),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1];Object(i.useEffect)((function(){var e=""!==(ee.value&&ie.value),t=!1===(ee.error||ie.error);_(!e||!t)}),[ee,ie]),Object(i.useEffect)((function(){Pn(mm,ee.error,ee.errorMessage)}),[ee.errorMessage,ee.error]),Object(i.useEffect)((function(){Pn(mm,ie.error,ie.errorMessage)}),[ie.errorMessage,ie.error]),Object(i.useEffect)((function(){Pn(mm,J.error,J.errorMessage)}),[J.errorMessage,J.error]);var oe=function(e){E(e.target.value);var t,i=Object(a.a)({},J);i.value=g,g&&(t=g,!n.test(t))?(i.error=!0,i.errorMessage=Object(Ce.e)("invalidEmailErrMsg")):(i.error=!1,i.errorMessage=""),X(Object(a.a)({},i))},re=function(e,t){e&&t()},se=function(e){var t=e.target.value,n=e.target.name;re("cardNumber"===n,(function(){return te(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<16||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ce.e)("invalidcardNumber")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)(bu)),n}(ee,t)))})),re("pinNumber"===n,(function(){return ce(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?6!==t.length||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ce.e)("invalidPin")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)(vu)),n}(ie,t)))}))},de=function(){te({value:""}),ce({value:""}),S(""),L(!1),X({value:""}),E(""),L(!1)},le=Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(u.jsxs)("div",{className:"balanceHeader",children:[Object(u.jsx)("h3",{className:"InputboxHeading",children:Object(Ce.e)(t.GIFTCARD_HEADER)}),!m&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ce.e)(s)})]}),Object(u.jsx)("div",{className:"inputcardNumbox",children:Object(u.jsx)(It,{"data-testid":"card-no",className:ee.error?"error-text":"details",name:"cardNumber",placeholder:Object(Ce.e)(t.GIFTCARDNUM_INPUT),value:ee.value,onChange:se,onKeyPress:function(e){return function(e){/[0-9]/.test(e.key)||e.preventDefault()}(e)},maxLength:16,helperTextClassName:"error-text",helperText:ee.errorMessage,error:ee.error,required:!0})}),Object(u.jsx)("div",{className:"inputpinNumbox",children:Object(u.jsx)(It,{"data-testid":"pin-no",className:ie.error?"error-text":"details",name:"pinNumber",placeholder:Object(Ce.e)(t.GIFTCARDPN_INPUT),value:ie.value,onChange:se,maxLength:6,helperTextClassName:"error-text",helperText:ie.errorMessage,error:ie.error,required:!0})}),Object(u.jsx)("div",{className:"inputmailbox",children:Object(u.jsx)(It,{"data-testid":"email-id",className:J.error?"error-text":"details",type:"email",name:"mailId",placeholder:Object(Ce.e)(t.EMAIL_ADDR),value:g,onChange:function(e){return oe(e)},helperTextClassName:"error-text",helperText:J.errorMessage,error:J.error,required:!0})})]})}),ue=m?{role:"dialog",modalTitleId:"CheckBalancepopup",show:d,classNames:"giftcard-checkbalance-modal",showCloseBtn:!0,closeButtonHandler:l,autoFocus:!0,modalTitle:Object(Ce.e)("giftcardCheckbalnaceTitle"),closeDataTestId:"giftcheck-balance"}:{role:"dialog",modalTitleId:"CheckBalancepopup",show:d,classNames:P?"giftcard-resbal-modal":"giftcard-checkbal-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:l,modalTitle:Object(Ce.e)("giftcardCheckbalnaceTitle"),autoFocus:!0,closeDataTestId:"giftcheck-balance",ariaLabel:Object(Ce.e)("closeGiftClose")};return Object(u.jsxs)("div",{className:"giftcardContainer".concat(m?" mobile":""),"data-testid":"giftcard-checkBal",children:[d&&Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},ue),{},{children:[Object(u.jsx)("div",{className:"checkBalModalContent",children:le}),Object(u.jsxs)("div",{className:"buttonGiftModal",children:[Object(u.jsx)(Ot.a,{"data-testid":"canc-button",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return te({value:""}),ce({value:""}),E(""),void X({value:""})},children:Object(Ce.e)(t.CANCEL_BUTTONT)}),Object(u.jsx)(Ot.a,{"data-testid":"subm-button",className:"button blackButton blackBorder save-button",onClick:function(e){return function(e){if(""!==(ee.value&&ie.value)){var t={customerId:Y.customerId,tenantId:b,body:{cardNumber:ee.value,cardPin:ie.value}};console.log("cardNumber",ee.value),Object(x.xb)(b)&&U(Object(zu.a)(t))}}()},disabled:D,children:Object(Ce.e)(t.SUBMIT_BUTTON)})]})]})),";",P&&Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},ue),{},{children:[Object(u.jsxs)("div",{className:"resultBalModalContent",children:[Object(u.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(u.jsx)("div",{className:"InputboxHeading",children:Object(Ce.e)(t.GIFTCARD_HEADER)}),Object(u.jsx)("div",{className:"inputcardNumboxup",children:Object(u.jsx)(It,{"data-testid":"result-cardnum",className:"details",type:"tel",placeholder:Object(Ce.e)(c.GIFTCARDNUM_SHOW),value:ee.value})}),Object(u.jsx)("div",{className:"inputpinNumbox",children:Object(u.jsx)(It,{"data-testid":"result-pinnum",className:"details",type:"tel",placeholder:Object(Ce.e)(c.GIFTCARDNUM_SHOWSHOW),value:ie.value})}),Object(u.jsx)("div",{className:"inputmailbox",children:Object(u.jsx)(It,{"data-testid":"result-mailid",className:"details",type:"email",placeholder:Object(Ce.e)(c.EMAIL_SHOW),value:g})})]}),Object(u.jsxs)("div",{className:"BalanceText",children:[Object(Ce.e)("balanceText")," ",V," ",C]})]}),Object(u.jsxs)("div",{className:"addPayButton",children:[Object(u.jsx)("div",{className:"payButton",children:Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder ",children:Object(Ce.e)(t.CHECKBALANCE_BUTTON)})}),Object(u.jsx)("div",{className:"resetButton",children:Object(u.jsx)(Ot.a,{"data-testid":"reset-button",className:"button whiteButton ",onClick:de,children:Object(u.jsx)("u",{children:Object(Ce.e)(t.RESET_BUTTON)})})})]})]})),";",F&&Object(u.jsx)("div",{className:"checkBal-errorModal",children:Object(u.jsx)(Ri,{CartAlertForm:Object(u.jsx)(yi,{title:Object(Ce.e)(t.INVALID_MODALTITLE),contentMsg:Object(Ce.e)(t.INVALID_MODALCONTENT),cancelHandler:function(){de(),H(!1)},cancelButtonText:Object(Ce.e)(t.INVALID_OKBUTTON)})})}),";"]})};var pm=function(e){var t,n=e.giftCardPurchaseData,a=n.orderId,c=n.tenderType,o=n.transactionId,r=n.transactionAmount,s=n.postUrl,d=n.requestMessage;return Object(i.useEffect)((function(){var e,t,n;null===(e=document)||void 0===e||null===(t=e.giftcard)||void 0===t||t.submit(),(null===(n=document)||void 0===n?void 0:n.giftcard)&&localStorage.setItem("postPaymentType","giftCardPurchase")}),[document,null===(t=document)||void 0===t?void 0:t.giftcard]),Object(u.jsx)("div",{children:s&&Object(u.jsxs)("form",{method:"POST",action:s,name:"giftcard",children:[Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"tenderType",value:c}),Object(u.jsx)("input",{type:"hidden",name:"transactionId",value:o}),Object(u.jsx)("input",{type:"hidden",name:"transactionAmount",value:r}),Object(u.jsx)("input",{type:"hidden",name:"msg",value:d})]})})},hm=n.p+"static/media/GiftCard.58a3fe2e.svg",gm=n.p+"static/media/purchasefailure.ea27383e.svg",Nm=function(e){var t=Fu,n=Hu,c=Uu,o=e.isOpen,r=e.handleClose,s=e.purchaseStatus,d=e.paymentStatus,l=Object(i.useState)(Object(x.Ib)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=function(){var e=Object(x.Ib)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",m)}),[v]);var f=function(){r()},p=v?{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:o,classNames:"giftcard-purchase-success",showCloseBtn:!0,closeButtonHandler:r,autoFocus:!0,modalTitle:" ",closeDataTestId:"purchase-success"}:{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:o,classNames:"giftcard-purchase-success",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:r,modalTitle:" ",autoFocus:!0,closeDataTestId:"purchase-success"};return Object(u.jsx)("div",{className:"giftcardContainer".concat(v?" mobile":""),"data-testid":"giftcard-success",children:o&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},p),{},{children:"success"===s?Object(u.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(u.jsx)("div",{className:"imageComp",children:Object(u.jsx)(C.a,{srcFile:hm,alt:"giftcard",className:"giftcard-confirm"})}),Object(u.jsx)("div",{className:"congratsMsg",children:Object(Ce.e)(t.CONGRATS_TEXT)}),Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Ce.e)(t.FEEDBACK_MESSAGE)}),Object(u.jsx)("div",{className:"buttonTobuy",children:Object(u.jsx)("button",{"data-testid":"buy-card",className:"button whiteButton blackBorder",onClick:f,children:Object(Ce.e)(t.BUY_NEWGIFTCARD)})})]}):Object(u.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(u.jsx)("div",{className:"imageComp",children:Object(u.jsx)(C.a,{srcFile:gm,alt:"giftcardfailure",className:"giftcard-confirm"})}),Object(u.jsx)("div",{className:"congratsMsg",children:Object(Ce.e)(n.FAILURE_TEXT)}),"Failed"===d?Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Ce.e)(c)}):Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Ce.e)(n.FAILURE_MESSAGE)}),Object(u.jsx)("div",{className:"buttonTobuy",children:Object(u.jsx)("button",{"data-testid":"reset",className:"button whiteButton blackBorder",onClick:f,children:Object(Ce.e)(n.RETRY)})})]})}))})},xm=f.a.PAYMENT_FAILED_MESSAGE,Em=f.a.KFC_Gift_Card,Im=function(e){return wu.test(e)},Tm=function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),r=n[0],s=n[1],d=Object(i.useState)(!0),l=Object(j.a)(d,2),b=l[0],v=l[1],O=e.contentData,m=O.headerData,f=void 0===m?{}:m,p=O.desktopImage,h=void 0===p?{}:p,g=O.giftAmount,E=void 0===g?{}:g,I=O.termsncondition,T=void 0===I?{}:I,C=e.isMobile,S=Ou,A=mu,y=fu,D=pu,_=hu,R=gu,w=Nu,P=xu,L=Du,k=_u,M=Ru,F=Su,H=Cu,U=Object(N.b)(),B=Object(o.g)(),G=Object(N.c)((function(e){return e.tenantReducer})),Y=G||{},K=Y.tenantId,V=Y.currencySymbol,W=Object(N.c)((function(e){return e.profileReducer.customerId})),q=Object(N.c)((function(e){return e.giftCardPurchaseReducer}))||{},z=q.giftCardPurchaseData,Q=void 0===z?{}:z,J=q.isPurchaseSuccess,X=void 0!==J&&J,Z=(Object(N.c)((function(e){return e.paymentsGiftCardReducer}))||{}).giftCardPurchaseStatResp,$=void 0===Z?{}:Z,ee=function(e){e.preventDefault(),s(!1)};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&ee(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var te=Object(i.useState)({value:"",errorMessage:"",error:!1}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)({value:"",errorMessage:"",error:!1}),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useState)({value:"",errorMessage:"",error:!1}),le=Object(j.a)(de,2),ue=le[0],be=le[1],ve=Object(i.useState)({value:"",errorMessage:"",error:!1}),je=Object(j.a)(ve,2),Oe=je[0],me=je[1],fe=Object(i.useState)(""),pe=Object(j.a)(fe,2),he=pe[0],ge=pe[1],Ne=Object(i.useState)(""),xe=Object(j.a)(Ne,2),Ee=xe[0],Ie=xe[1],Te=Object(i.useState)(!1),Se=Object(j.a)(Te,2),Ae=Se[0],ye=Se[1],De=Object(i.useState)(!0),_e=Object(j.a)(De,2),Re=_e[0],we=_e[1],Pe=Object(i.useState)(!1),Le=Object(j.a)(Pe,2),ke=Le[0],Me=Le[1];Object(i.useEffect)((function(){Ee>0&&""!==(ue.value&&Oe.value&&re.value&&ae.value)&&!1===(ue.error||Oe.error||re.error||ae.error)?we(!1):we(!0)}),[ae,re,ue,Oe,Ee]),Object(i.useEffect)((function(){Pn(Em,re.error,re.errorMessage)}),[re.errorMessage,re.error]),Object(i.useEffect)((function(){Pn(Em,Oe.error,Oe.errorMessage)}),[Oe.errorMessage,Oe.error]),Object(i.useEffect)((function(){Pn(Em,ue.error,ue.errorMessage)}),[ue.errorMessage,ue.error]),Object(i.useEffect)((function(){Pn(Em,ae.error,ae.errorMessage)}),[ae.errorMessage,ae.error]),Object(i.useEffect)((function(){X&&ye(!0)}),[X]),Object(i.useEffect)((function(){(null===B||void 0===B?void 0:B.ShowFailureError)&&(Me(!0),Object(x.I)("KFC Gift Card",xm))}),[null===B||void 0===B?void 0:B.ShowFailureError]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem("postPaymentType")&&"Success"===localStorage.getItem("paymentStatus")&&K&&U(Object($u.b)({tenantId:K,orderId:null===Q||void 0===Q?void 0:Q.orderId}))}),[localStorage.getItem("paymentStatus")]);var Fe=function(e,t){var n=e.target.value;t===L.USER_FULL_NAME&&se(Object(a.a)({},function(e,t){var n=Lu,i=Object(a.a)({},e);return i.value=t,n.test(t)?(i.error=!0,i.errorMessage=Object(Ce.e)("namevalidationmsg")):!t||t.length<2||t.length>26?(i.error=!0,i.errorMessage=Object(Ce.e)("emptyYourNameErrMsg")):(i.error=!1,i.errorMessage=""),i}(re,n))),t===L.USER_PHONE&&me(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?10!==t.length||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ce.e)("invalidPhoneNumberErrText")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)("phonenumberEmptyHelpText")),n}(Oe,n))),t===L.USER_EMAIL&&be(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?Im(t)?(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)("invalidYourEmailErrText")):(n.error=!0,n.errorMessage=Object(Ce.e)("yourEmailHelpText")),n}(ue,n))),t===L.RECP_EMAIL&&ie(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?Im(t)?(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ce.e)("invalidRecipientEmailErrText")):(n.error=!0,n.errorMessage=Object(Ce.e)("recipientEmptyEmailHelpText")),n}(ae,n))),t===L.MESSAGE&&ge(n)};return Object(u.jsxs)("div",{className:"giftcard-container",children:[Object(u.jsxs)("div",{className:"giftcard-headline-container",children:[Object(u.jsx)("h1",{className:"giftcard-headline",children:f.headline}),Object(u.jsx)("button",{"data-testid":"toggle-modal",className:"button whiteButton blackBorder check-balance",onClick:function(){return s(!0),void U(Object(zu.b)())},children:Object(Ce.e)(S)}),r&&Object(u.jsx)(fm,{tenantId:G.tenantId,isOpen:r,handleClose:ee})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsx)("h2",{className:"buy-card-text",children:f.subHeadline}),Object(u.jsx)("img",{src:h.url,alt:"KFC Gift Card",className:"card-image"}),Object(u.jsxs)("div",{className:"card-amount-container",children:[Object(u.jsx)("h3",{className:"card-amount-heading container-heading",children:E.title}),Object(u.jsxs)("div",{className:"amount-list",children:[E&&E.list&&E.list.map((function(e,t){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)(Ot.a,{"data-testid":"selected-amt",id:"gift-amount",className:e===Ee?"amount-block amount-block-select":"amount-block",onClick:function(t){Ie(e),function(e,t,n){document.getElementById("gift-amount").setAttribute("aria-label",t+n+"selected")}(0,e,V)},ariaLable:e+V,children:[V,e]})})})),"INDIA"!==(null===G||void 0===G?void 0:G.country)&&Object(u.jsx)("div",{className:"amount-block",children:F})]})]}),Object(u.jsxs)("div",{className:"infomation-container",children:[Object(u.jsx)("h3",{className:"information-heading container-heading",children:M}),Object(u.jsxs)("div",{className:"infomation-input-container",children:[!C&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ce.e)(H)}),Object(u.jsx)(It,{"data-testid":"recept-email",autoComplete:"on",value:ae.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",placeholder:Object(Ce.e)(A),"aria-required":"true",onChange:function(e){return Fe(e,L.RECP_EMAIL)},helperText:ae.errorMessage,error:ae.error}),Object(u.jsx)(It,{"data-testid":"user-name",autoComplete:"on",value:re.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"26","aria-required":"true",placeholder:Object(Ce.e)(y),onChange:function(e){return Fe(e,L.USER_FULL_NAME)},helperText:re.errorMessage,error:re.error}),Object(u.jsx)(It,{"data-testid":"user-email",autoComplete:"on",value:ue.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text","aria-required":"true",placeholder:Object(Ce.e)(D),onChange:function(e){return Fe(e,L.USER_EMAIL)},helperText:ue.errorMessage,error:ue.error}),Object(u.jsx)(It,{"data-testid":"user-phone",autoComplete:"on",value:Oe.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"10","aria-required":"true",placeholder:Object(Ce.e)(_),onChange:function(e){return Fe(e,L.USER_PHONE)},helperText:Oe.errorMessage,error:Oe.error})]})]}),Object(u.jsxs)("div",{className:"msg-container",children:[Object(u.jsx)("h3",{className:"msg-heading container-heading",children:k}),Object(u.jsx)("textarea",{"data-testid":"msg-input",value:he,className:"msg-inputbox",placeholder:Object(Ce.e)(R),"aria-label":Object(Ce.e)(R),onChange:function(e){return Fe(e,L.MESSAGE)}})]})]}),Object(u.jsxs)("div",{id:"terms-condition-button-container",children:[Object(u.jsxs)("div",{className:"terms-condition-container",children:[Object(u.jsx)("div",{className:"terms-condition-title","aria-label":T.title,children:T.title}),Object(u.jsx)("div",{className:"terms-condition-data","aria-label":T.data,children:T.data})]}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("button",{"data-testid":"clear-input",className:"button whiteButton blackBorder cancel-button",onClick:function(){return ie({value:""}),se({value:""}),be({value:""}),me({value:""}),ge(""),void Ie("")},children:Object(Ce.e)(w)}),Object(u.jsx)("button",{"data-testid":"payment-button",className:"button redButton payment-button",disabled:Re,onClick:function(){Ee>0&&""!==(ue.value&&Oe.value&&re.value&&ae.value)&&U(Object(Om.a)({body:{RecipientEmail:ae.value,BuyerName:re.value,BuyerEmail:ue.value,BuyerMobileNumber:Oe.value,Message:he,GiftCardAmount:Ee},tenantId:K,customerId:W}))},children:Object(Ce.e)(P)})]})]}),Ae&&Object(u.jsx)(pm,{giftCardPurchaseData:Q}),b&&(ke||"Success"===localStorage.getItem("paymentStatus"))&&Object(u.jsx)(Nm,{isOpen:b,handleClose:function(){return localStorage.setItem("paymentStatus",""),localStorage.setItem("postPaymentType",""),U(Object($u.c)()),U(Object(Om.b)()),v(!1),void window.location.reload()},purchaseStatus:$.purchaseStatus,paymentStatus:localStorage.getItem("paymentStatus")})]})},Cm=function(){return Object(x.Ib)(window.innerWidth)},Sm=function(e){var t=e.contentData,n=void 0===t?{}:t,a=Object(i.useState)(Object(x.Ib)(window.innerWidth)),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){window.addEventListener("resize",r(Cm))}),[o]);return o?Object(u.jsxs)("div",{className:"giftCard-mobile-container",children:[n&&Object(u.jsx)(Tm,{contentData:n,isMobile:o}),s.showCartClearAlert?Object(u.jsx)(ol,{}):null]}):Object(u.jsxs)("div",{className:"giftCard-desktop-container",children:[n&&Object(u.jsx)(Tm,{contentData:n,isMobile:o}),s.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},Am=function(e){var t,n,a,o,r=Object(i.useState)(Object(x.Ib)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(N.c)((function(e){return e.tenantReducer})),v=Object(N.b)(),O=function(){var e=Object(x.Ib)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",O)}),[d]);var m=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){v(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===b||void 0===b?void 0:b.country,"fields.channel":ka.b.channel,include:5}})),v(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:m})),v(Object(jm.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Gift Card",include:"5"}})),v(Object(Om.b)())}),[v,null===b||void 0===b?void 0:b.country,m]);var g=null,E=null,C=null,S=null,A=f.a.DISPOSITION,y=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,giftCardContent:e.giftCardReducer||null}}));if(y.marketPageContent&&y.marketPageContent.headerData&&y.tenantReducerContent&&y.homePageContent&&Object(x.Db)(y.giftCardContent)){g=Object(x.U)(y.homePageContent);var D=y.marketPageContent.headerData,_=D.header,R=void 0===_?{}:_,w=D.tenant,P=void 0===w?[]:w,L=D.footer,k=void 0===L?{}:L;E=Object(x.V)(R),C=Object(x.N)(k),Object(x.kb)(P),S=Object(x.S)(y.giftCardContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(E)&&Object(u.jsx)(ni,{contentData:E,tenantReducerData:y.tenantReducerContent,userParams:m})||null,Object(u.jsx)(zr,{page:T.I}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=g)||void 0===n?void 0:n[A])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=g)||void 0===o?void 0:o[A])&&void 0!==a?a:{}},userParams:m}),Object(x.Db)(S)&&Object(u.jsx)(Sm,{contentData:S}),Object(x.Db)(C)&&Object(u.jsx)(ha,{history:e.history,contentData:C,tenantReducerData:y.tenantReducerContent})||null]})},ym=n(388),Dm=function(e){var t=e.headerData,n=e.history,a=e.isMobile,i=t.headline,c=t.subHeadline,o=t.faqButtonData,r=t.callUsButtonData,s="tel:"+Object(x.wb)(null===r||void 0===r?void 0:r.phoneNumber);return Object(u.jsxs)("div",{className:"contactUs-header-container",children:[Object(u.jsx)("img",{src:Hs,alt:"",className:"contactUs-icon"}),Object(u.jsx)("h1",{className:"contactUs-header",children:i}),Object(u.jsx)("div",{className:"contactUs-subheader",children:c}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("a",{tabIndex:"-1",href:s,className:"anchorTags",children:Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"Call Us 080-4275-4444",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(C.a,{className:"icon",srcFile:r.icon}),r.buttonText," ",!a&&r.phoneNumber]})})}),a&&Object(u.jsx)("span",{className:"space"}),o&&Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"FAQ",onClickHandler:function(e){e.preventDefault(),n.push({pathname:null===o||void 0===o?void 0:o.internalurl})},children:o.linkText})]})]})},_m={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote"},Rm=n(161),wm=n(404),Pm=function(e){return/^[a-zA-Z ]{2,12}$/.test(String(e).toLowerCase())},Lm=function(e){return/^[a-zA-Z ]{2,26}$/.test(String(e).toLowerCase())},km=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},Mm=function(e){return/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e))},Fm=function(e,t){var n=e.wantToKnowText,a=e.selectedLetUsKnow,i=e.firstNameText,c=e.lastNameText,o=e.phoneNoText,r=e.emailText;return!(0===(null===n||void 0===n?void 0:n.length)||(null===n||void 0===n?void 0:n.length)>200)&&(!!Pm(i)&&(!!Pm(c)&&(!!Lm("".concat(i).concat(c))&&(!!Mm(o)&&(!!km(r)&&(!!Object(x.Db)(a)&&!!t))))))},Hm=function(e){var t=e.firstNameText,n=e.lastNameText,a=e.phoneNoText,i=e.emailText;return!!Lm(t)&&(!!Lm(n)&&(!!Mm(a)&&!!km(i)))},Um=function(e){var t=e.onClickHandler;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"alertPop",role:"dialog",show:!0,classNames:"conatct-us-alet-modal",closeDataTestId:"handler-close",autoFocus:!0,children:Object(u.jsxs)("div",{className:"submit-alert-conatiner",children:[Object(u.jsx)("span",{className:"alert-title",children:Object(Ce.e)(_m.feedbackSuccess)}),Object(u.jsx)("span",{className:"alert-message",children:Object(Ce.e)(_m.feedbackSuccessMessage)}),Object(u.jsx)(Ot.a,{onClickHandler:t,className:"redButton alert-button",children:Object(Ce.e)(_m.feedbackSuccessOk)})]})})})},Bm=function(e){var t,n=e.arialabelledby,a=e.options,i=e.selectClassName,o=e.optionContainerClassName,r=e.optionClassName,s=e.onChange,d=(e.testid,c.a.useState(!1)),l=Object(j.a)(d,2),b=l[0],v=l[1];return Object(u.jsxs)("div",{"aria-labelledby":n,className:"select-topic-selection-conatiner",onClick:function(){return v(!b)},onKeyPress:function(){return v(!b)},children:[Object(u.jsx)("div",{tabIndex:"0",className:"".concat(i," ").concat(b?" inverted-arrow":""),children:null===(t=a[0])||void 0===t?void 0:t.value}),b&&Object(u.jsx)("div",{className:o,role:"listbox",children:a.map((function(e){var t=e.key,n=e.value;return Object(u.jsx)("span",{role:"listitem",tabIndex:"0",className:r,onClick:function(){return s({key:t,value:n})},onKeyPress:function(){return s({key:t,value:n})},children:n},t||n)}))})]})},Gm=function(e){var t=e.options,n=e.selectedItem,i=e.SetformData;return t.map((function(e){var c=e.key,o=e.value;return Object(u.jsxs)("div",{class:"form-radio-wrapper",children:[Object(u.jsx)("input",{type:"radio",value:o,id:o,checked:n.value===o,"data-testid":o,onChange:function(e){return i((function(n){return Object(a.a)(Object(a.a)({},n),{},{selectedLetUsKnow:t.find((function(t){return t.value===e.target.value}))})}))}},c),Object(u.jsx)("label",{for:o,children:Object(u.jsx)("span",{children:o})})]})}))},Ym=function(e){var t,n,i,o,r=e.bodyFormData,s=e.tenantId,d=e.history,l=e.isMobile,b=r.headline,v=r.topicOptions,O=c.a.useState(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=c.a.useState(void 0),g=Object(j.a)(h,2),x=g[0],E=g[1],I=c.a.useState({wantToKnowText:"",selectedLetUsKnow:{},firstNameText:"",lastNameText:"",phoneNoText:"",emailText:""}),C=Object(j.a)(I,2),S=C[0],A=C[1],y=Object(N.b)(),D=Object(N.c)((function(e){var t;return null===(t=e.feedbackReducer)||void 0===t?void 0:t.response}));return c.a.useEffect((function(){window.scrollTo(0,0)}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h5",{className:"contactUs-title",children:b}),Object(u.jsxs)("div",{className:"select-topic-container",children:[Object(u.jsx)("h6",{className:"select-topic-label",id:"listbox1label",children:Object(Ce.e)(_m.selectATopic)}),Object(u.jsx)(Bm,{arialabelledby:"listbox1label",options:v.map((function(e,t){return{key:t,value:e.linkText}})),selectClassName:"select-topic-selection",optionContainerClassName:"select-topic-option-conatiner",optionClassName:"select-topic-option",onChange:function(e){var t=e.key,n=v[t].externalurl;n&&(window.location.href=n)},testid:"select-topic"})]}),Object(u.jsxs)("div",{className:"contactUs-questions-container",children:[Object(u.jsx)("h6",{className:"questions-form-header",children:Object(Ce.e)(_m.questionForUs)}),Object(u.jsx)("span",{className:"questions-form-subheader",children:Object(Ce.e)(_m.loveToHearFromYou)}),Object(u.jsxs)("div",{className:"questions-form-container1",children:[Object(u.jsx)("h6",{className:"container1-header",children:"".concat(Object(Ce.e)(_m.wantToKnow))}),Object(u.jsx)("textarea",{className:"container1-input","aria-label":Object(Ce.e)(_m.wantToKnow),multiple:!0,maxLength:200,value:S.wantToKnowText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},S),{},{wantToKnowText:e.target.value}))},placeholder:Object(Ce.e)(_m.wantToKnowPlaceholder),"data-testid":"wantToKnowText"})]}),Object(u.jsx)("div",{className:"questions-form-container2",children:Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("legend",{className:"container2-header",children:"".concat(Object(Ce.e)(_m.letUsKnow))}),Object(u.jsx)("div",{className:"radio-container",children:Object(u.jsx)(Gm,{options:v[0].contents,selectedItem:S.selectedLetUsKnow,SetformData:A})})]})}),Object(u.jsxs)("div",{className:"questions-form-container3",children:[Object(u.jsxs)("div",{className:"container3-header-block",children:[Object(u.jsx)("h6",{className:"container3-header",children:Object(Ce.e)(_m.contactInfoTitle)}),!l&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ce.e)(_m.mandatorynote)})]}),Object(u.jsx)(It,{placeholder:"".concat(Object(Ce.e)(_m.firstNamePlaceholder)),value:S.firstNameText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},S),{},{firstNameText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:_m.firstNamePlaceholder,error:0!==(null===S||void 0===S||null===(t=S.firstNameText)||void 0===t?void 0:t.length)&&!Pm(S.firstNameText),helperText:Object(Ce.e)(_m.firstNameHelpText),helperTextClassName:"error-text","aria-required":"true",maxlength:13}),Object(u.jsx)(It,{placeholder:"".concat(Object(Ce.e)(_m.lastNamePlaceHolder)),value:S.lastNameText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},S),{},{lastNameText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:_m.lastNamePlaceHolder,error:0!==(null===S||void 0===S||null===(n=S.lastNameText)||void 0===n?void 0:n.length)&&!Pm(S.lastNameText),helperText:Object(Ce.e)(_m.lastNameHelpText),helperTextClassName:"error-text",maxlength:13,"aria-required":"true"}),Object(u.jsx)(It,{placeholder:"".concat(Object(Ce.e)(_m.phonePlaceholder)),value:S.phoneNoText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},S),{},{phoneNoText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:_m.phonePlaceholder,error:0!==(null===S||void 0===S||null===(i=S.phoneNoText)||void 0===i?void 0:i.length)&&!Mm(S.phoneNoText),helperText:Object(Ce.e)(_m.phoneHelpText),helperTextClassName:"error-text",maxlength:10,"aria-required":"true"}),Object(u.jsx)(It,{placeholder:"".concat(Object(Ce.e)(_m.emailPlaceholder)),value:S.emailText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},S),{},{emailText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:_m.emailPlaceholder,error:0!==(null===S||void 0===S||null===(o=S.emailText)||void 0===o?void 0:o.length)&&!km(S.emailText),helperText:Object(Ce.e)(_m.emailHelpText),helperTextClassName:"error-text","aria-required":"true"})]}),Object(u.jsx)("div",{className:"captcha",children:Object(u.jsx)(wm.a,{sitekey:T.kb,onChange:function(e){E(e)}})}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"Cancel","data-testid":_m.cancelButtonText,onClickHandler:function(e){e.preventDefault(),d.push("/")},children:Object(Ce.e)(_m.cancelButtonText)}),Object(u.jsx)(Ot.a,{disabled:!Fm(S,x),className:"button blackButton contactus-button disabled",ariaLable:"Submit","data-testid":_m.submitButtonText,onClickHandler:function(e){e.preventDefault();var t=function(e,t,n){return{tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:n}],attachments:[]}}}(S,s,x);y(Object(Rm.a)(t)),p((function(){return!0}))},children:Object(Ce.e)(_m.submitButtonText)})]})]}),D&&f?Object(u.jsx)(Um,{onClickHandler:function(){d.push("/")}}):null]})},Km=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.history,c=e.tenantId,o=n.headerData,r=n.bodyFormData,s=Object(i.useState)(Object(x.Ib)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useContext)(E.a).userOrderState,O=function(){var e=Object(x.Ib)(window.innerWidth);b(e)};Object(i.useEffect)((function(){window.addEventListener("resize",O)}),[l]);return l?Object(u.jsxs)("div",{className:"contactUs-mobile-container",children:[Object(u.jsx)("div",{className:"contactUs-mobile-header",children:o&&Object(u.jsx)(Dm,{headerData:o,history:a,isMobile:l})}),Object(u.jsx)("div",{className:"contactUs-section-body",children:r&&Object(u.jsx)(Ym,{bodyFormData:r,history:a,tenantId:c,isMobile:l})}),v.showCartClearAlert?Object(u.jsx)(ol,{}):null]}):Object(u.jsxs)("div",{className:"contactUs-desktop-container",children:[Object(u.jsx)("div",{className:"contactUs-section-left",children:o&&Object(u.jsx)(Dm,{headerData:o,history:a,isMobile:l})}),Object(u.jsx)("div",{className:"contactUs-section-right",children:Object(u.jsx)("div",{className:"contactUs-description-desktop",children:r&&Object(u.jsx)(Ym,{bodyFormData:r,history:a,tenantId:c,isMobile:l})})}),v.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},Vm=function(e){var t,n,a,o,r=Object(N.c)((function(e){return e.tenantReducer})),s=Object(N.b)(),d=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){s(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===r||void 0===r?void 0:r.country,"fields.channel":ka.b.channel,include:5}})),s(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:d})),s(Object(ym.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Contact Us",include:"5"}}))}),[]);var l=null,b=null,v=null,j=null,O=f.a.DISPOSITION,m=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,contactUsContent:e.contactUsReducer.response||null}}));if(m.marketPageContent&&m.tenantReducerContent&&m.homePageContent&&Object(x.Db)(m.contactUsContent)){var g;l=Object(x.U)(m.homePageContent);var E=null===(g=m.marketPageContent)||void 0===g?void 0:g.headerData,T=E.header,C=void 0===T?{}:T,S=E.tenant,A=void 0===S?[]:S,y=E.footer,D=void 0===y?{}:y;b=Object(x.V)(C),j=Object(x.N)(D),Object(x.kb)(A),v=Object(x.z)(m.contactUsContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(b)&&Object(u.jsx)(ni,{contentData:b,tenantReducerData:m.tenantReducerContent,userParams:d})||null,Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=l)||void 0===n?void 0:n[O])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[O])&&void 0!==a?a:{}},userParams:d}),Object(x.Db)(v)&&Object(u.jsx)(Km,{contentData:v,history:e.history,tenantId:r.tenantId}),Object(x.Db)(j)&&Object(u.jsx)(ha,{history:e.history,contentData:j,tenantReducerData:m.tenantReducerContent})||null]})},Wm=n(389),qm=function(e){var t=e.headerData,n=(t=void 0===t?{}:t).description,a=t.title;return Object(u.jsxs)("div",{className:"terms-header-container",children:[Object(u.jsx)("img",{src:Hs,className:"terms-icon",alt:" "}),Object(u.jsx)("h4",{className:"terms-header",children:a}),Object(u.jsx)("div",{className:"terms-and-condition-data",children:n})]})},zm=function(e){var t=e.questionList,n=void 0===t?[]:t,a=e.headerData,i=(a=void 0===a?{}:a).title,c=e.isMobile,o=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("terms-accordian-open")?t.classList.remove("terms-accordian-open"):t.classList.add("terms-accordian-open")};return Object(u.jsx)("div",{children:n.map((function(e,t){return Object(u.jsx)("div",{className:"terms-accordian",id:c&&n[0].question===e.question?"removeLine":"",children:Object(u.jsx)(oe,{"data-testId":"acordian-handle",header:"Terms of Use"===i?"".concat(e.question):"".concat(t+1,". ").concat(e.question),onClickHandler:o,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Wr.documentToHtmlString)(e.answer)},className:"terms-accordian-answer"})})})}))})},Qm=function(e){var t=e.contentData,n=(t=void 0===t?{}:t).headerData,a=void 0===n?{}:n,c=t.questionList,o=void 0===c?[]:c,r=Object(i.useState)(Object(x.Ib)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useContext)(E.a).userOrderState,v=function(){var e=Object(x.Ib)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",v)}),[d]);return d?Object(u.jsxs)("div",{className:"terms-mobile-container",children:[Object(u.jsx)("div",{className:"terms-mobile-header",children:Object(u.jsx)(qm,{headerData:a})}),Object(u.jsx)("div",{className:"terms-mobile-questions",children:Object(u.jsx)(zm,{questionList:o,headerData:a,isMobile:d})}),b.showCartClearAlert?Object(u.jsx)(ol,{}):null]}):Object(u.jsxs)("div",{className:"terms-desktop-container",children:[Object(u.jsx)("div",{className:"terms-section-left",children:Object(u.jsx)(qm,{headerData:a})}),Object(u.jsx)("div",{className:"terms-section-right",children:Object(u.jsx)("div",{className:"terms-questions-desktop",children:Object(u.jsx)(zm,{questionList:o,headerData:a,isMobile:d})})}),b.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},Jm=function(e){var t,n,a,r,s=Object(Ce.e)(Dt.r),d=Object(N.c)((function(e){return e.tenantReducer})),l=Object(N.b)(),b=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){l(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===d||void 0===d?void 0:d.country,"fields.channel":ka.b.channel,include:5}}))}),[l,null===d||void 0===d?void 0:d.country]);var v=Object(o.g)();Object(i.useEffect)((function(){v.pathname.includes(Dt.s)&&Object(Ce.e)(Dt.r)&&(document.title=s)}),[s,v.pathname]);var j=v.pathname.includes("terms-of-use/true")||v.pathname.includes("terms-and-conditions/true"),O=Object(x.mb)(v.pathname.includes("terms-of-use"),"Terms of Use","Terms and Conditions");Object(i.useEffect)((function(){l(Object(Wm.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":O,include:"5"}}))}),[l,O,v.pathname]);var p=null,g=null,E=null,T=null,C=f.a.DISPOSITION,S=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),termsOfUseContent:m.a.get(e,"termsOfUseReducer.response",null)}}));if(S.marketPageContent&&S.tenantReducerContent&&S.homePageContent&&Object(x.Db)(S.termsOfUseContent)){p=Object(x.U)(S.homePageContent);var A=S.marketPageContent.headerData,y=A.header,D=void 0===y?{}:y,_=A.tenant,R=void 0===_?[]:_,w=A.footer,P=void 0===w?{}:w;g=Object(x.V)(D),T=Object(x.N)(P),Object(x.kb)(R),E=Object(x.lb)(S.termsOfUseContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(g)&&!j&&Object(u.jsx)(ni,{contentData:g,tenantReducerData:S.tenantReducerContent,userParams:b})||null,!j&&Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=p)||void 0===n?void 0:n[C])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=p)||void 0===r?void 0:r[C])&&void 0!==a?a:{}},userParams:b}),Object(x.Db)(E)&&Object(u.jsx)(Qm,{contentData:E}),Object(x.Db)(T)&&!j&&Object(u.jsx)(ha,{history:e.history,contentData:T,tenantReducerData:S.tenantReducerContent})||null]})},Xm=n.p+"static/media/getHelp.c28c1243.svg",Zm=function(e){var t,n,a,i,c,o,r,s,d,l,b,v,j,O,m=null!==(t=JSON.parse(localStorage.getItem("storeInfo")))&&void 0!==t?t:{},f=e.contentData,p=e.isLocalized,h=e.isMobile,g=e.history,N=e.onStartOrderClick,E=f.faqSectionDetails,I=f.helpSectionCallDetails,T=f.helpSectionContactDetails,S=f.helpSectionHeadline,A=f.helpSectionNearestKFC,y=f.surveyDetails,D=function(e){console.log("clicked",e.target.textContent),localStorage.setItem("SelectedFaqItem",e.target.textContent),g.push({pathname:"/faq"})},_=function(e){var t="";if(Object(x.Db)(e)){var n=e.contacts;(void 0===n?[]:n).forEach((function(e){var n=e.key,a=e.value;"phoneNumber"===n&&(t=a)}))}return t};return Object(u.jsxs)("div",{className:"get-help-section",children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"help-text",children:S}),Object(u.jsxs)("div",{className:"help-block-container",children:[Object(u.jsxs)("div",{className:"get-help-block mr5 mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:A})}),!h&&p&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"nearest-kfc",className:"nearest-kfc-details",children:[Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(n=m.name)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.value}),Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(i=m.addresses)||void 0===i||null===(c=i[0])||void 0===c||null===(o=c.address)||void 0===o||null===(r=o.addressLines)||void 0===r?void 0:r[0]}),Object(u.jsxs)("span",{className:"section-text font-bold",children:["Call. ",Object(u.jsx)("span",{className:"deepBlack",children:_(m)})]})]})}),h&&p&&Object(u.jsxs)("div",{className:"section-text ContactUsButton",children:[Object(u.jsxs)("div",{className:"nearest-kfc-details mb-1rem",children:[Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(s=m.name)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.value}),Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(l=m.addresses)||void 0===l||null===(b=l[0])||void 0===b||null===(v=b.address)||void 0===v||null===(j=v.addressLines)||void 0===j?void 0:j[0]})]}),Object(u.jsx)("a",{"data-testid":"nearest-kfc-localised",href:"tel:".concat(_(m)),className:"anchorTags",children:Object(u.jsxs)(Ot.a,{ariaLable:"",className:"deepBlack font-bold button whiteButton blkBorder ",children:[Object(u.jsx)(C.a,{srcFile:null===I||void 0===I?void 0:I.icon,alt:"desktopImage",className:"Messageimage"}),"Call Restaurant"]})})]}),!p&&Object(u.jsx)("div",{"data-testid":"find-kfc",className:"section-text mt-5 ContactUsButton",children:Object(u.jsx)(Ot.a,{ariaLable:"find a kfc","data-testid":"start-order-click",className:"deepBlack font-bold button whiteButton blkBorder ",onClick:function(){return N()},children:"Find a KFC"})})]}),Object(u.jsxs)("div",{className:"get-help-block mr5 mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:null===I||void 0===I?void 0:I.title})}),Object(u.jsx)("span",{className:"section-text",children:null===I||void 0===I?void 0:I.description}),!h&&Object(u.jsx)("span",{"data-testid":"contact-no-text",className:"section-text font-bold deepBlack",children:null===I||void 0===I?void 0:I.contactNo}),h&&Object(u.jsx)("a",{"data-testid":"contact-no-btn",href:"tel:".concat(null===I||void 0===I?void 0:I.contactNo),className:"anchorTags",children:Object(u.jsx)("div",{className:"section-text mt-adjust ContactUsButton",children:Object(u.jsxs)(Ot.a,{ariaLable:"",className:"deepBlack font-bold button whiteButton blkBorder ",children:[Object(u.jsx)(C.a,{srcFile:null===I||void 0===I?void 0:I.icon,alt:"desktopImage",className:"Messageimage"}),null===I||void 0===I?void 0:I.buttonText]})})})]}),Object(u.jsxs)("div",{className:"get-help-block mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:null===T||void 0===T?void 0:T.title})}),Object(u.jsx)("span",{className:"section-text",children:null===T||void 0===T?void 0:T.description}),Object(u.jsx)("div",{className:"section-text mt-5 ContactUsButton",children:Object(u.jsxs)(Ot.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"deepBlack font-bold button whiteButton blkBorder ",onClick:function(){return e=null===T||void 0===T?void 0:T.linkUrl,void g.push({pathname:e});var e},children:[Object(u.jsx)(C.a,{srcFile:null===T||void 0===T?void 0:T.desktopImage,alt:" ",className:"Messageimage"}),null===T||void 0===T?void 0:T.linkText]})})]})]})]}),E.length>0&&Object(u.jsxs)("div",{className:"faq-survey-section mb-5",children:[Object(u.jsxs)("div",{class:"faq-survey-block  m1-adjust",children:[Object(u.jsx)("h3",{className:"header-text",children:null===E||void 0===E?void 0:E.title}),Object(u.jsx)("span",{className:"section-text",children:null===E||void 0===E?void 0:E.description}),Object(u.jsx)("div",{className:"faq-text-block",children:null===E||void 0===E||null===(O=E.topics)||void 0===O?void 0:O.map((function(e){return Object(u.jsx)(Ot.a,{ariaLable:e,tabindex:"0","data-testid":"topic-item",className:"section-text",onClick:D,children:e})}))}),Object(u.jsx)("span",{className:"section-text mt-5",children:Object(u.jsx)(Ot.a,{ariaLable:"view all faq","data-testid":"view-all-faq",className:"deepBlack font-bold help-btn image-full-text-btn button whiteButton blkBorder",onClick:function(){return e=null===E||void 0===E?void 0:E.linkUrl,void g.push({pathname:e});var e},children:null===E||void 0===E?void 0:E.btnText})})]}),Object(u.jsxs)("div",{class:"faq-survey-block  m-adjust",children:[Object(u.jsx)("p",{className:"header-text",children:null===y||void 0===y?void 0:y.title}),Object(u.jsx)("div",{className:"section-text faq-text-block",children:null===y||void 0===y?void 0:y.description}),Object(u.jsx)("span",{className:"section-text mt-5",children:Object(u.jsx)("a",{href:null===y||void 0===y?void 0:y.linkUrl,"aria-hidden":"true",tabindex:"-1",target:"_blank",className:"anchorTags",rel:"noopener noreferrer",children:(null===y||void 0===y?void 0:y.btnText)&&Object(u.jsx)(Ot.a,{className:"deepBlack font-bold help-btn image-full-text-btn button whiteButton blkBorder",children:null===y||void 0===y?void 0:y.btnText})})})]})]})]})},$m=function(e){var t=e.onStartOrderClick,n=Object(i.useState)(Object(x.Ib)(window.innerWidth)),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Object(N.c)((function(e){return e.appStateReducer.userStatus})).localized,s=void 0!==r&&r;Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){return window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}));var d=function(){o(Object(x.Ib)(window.innerWidth))};return Object(u.jsxs)("div",{className:"get-help-container-section",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(Xm,")")},className:"get-help-header-image",children:Object(u.jsx)("h1",{className:"get-help-image-text",children:e.contentData.bannerTitle})}),Object(u.jsx)("div",{className:"get-help-offers-container",children:Object(u.jsx)(Zm,{onStartOrderClick:t,contentData:e.contentData,history:e.history,isLocalized:s,isMobile:c})})]})},ef=function(e){var t,n,a,o,r,s=Object(N.c)((function(e){return e.appStateReducer.userStatus})),d=Ae.a.DISPOSITION_DATA,l=Object(i.useContext)(E.a),b=l.userOrderState,v=l.userOrderStateDispatch,j=null,O=null,m=null,g=null,T=f.a.DISPOSITION,C=Object(N.b)(),S=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,getHelpContent:e.helpReducer.helpResponse||null}}));if(S.marketPageContent&&S.tenantReducerContent&&S.homePageContent){var A;j=Object(x.U)(S.homePageContent);var y=(null===(A=S.marketPageContent)||void 0===A?void 0:A.headerData)||{},D=y.header,_=void 0===D?{}:D,R=y.tenant,w=void 0===R?[]:R,P=y.footer,L=void 0===P?{}:P;O=Object(x.V)(_),g=Object(x.N)(L),Object(x.kb)(w),m=Object(x.W)(S.getHelpContent)}return Object(i.useEffect)((function(){var e;C(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===S||void 0===S||null===(e=S.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ka.b.channel,include:5}})),C(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:s}))}),[null===S||void 0===S||null===(t=S.tenantReducerContent)||void 0===t?void 0:t.country,C,s]),Object(i.useEffect)((function(){C(Object(Cv.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Help",include:"5"}}))}),[]),Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(O)&&Object(u.jsx)(ni,{contentData:O,tenantReducerData:S.tenantReducerContent,userParams:s})||null,Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(n=null===(a=j)||void 0===a?void 0:a[T])&&void 0!==n?n:{},contentDispositionData:null!==(o=null===(r=j)||void 0===r?void 0:r[T])&&void 0!==o?o:{}},userParams:s}),Object(x.Db)(m)&&Object(u.jsx)($m,{"data-testid":"get-help-container",onStartOrderClick:function(){v({type:d,value:{showDisposition:!0}})},contentData:m,history:e.history}),Object(x.Db)(g)&&Object(u.jsx)(ha,{history:e.history,contentData:g,tenantReducerData:S.tenantReducerContent})||null,b.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},tf=n.p+"static/media/confirmedSignOut.66163951.svg",nf=function(e){var t=e.history,n=e.pageFlag,a=Rj.TAKE_ME_HOME_TEXT,o=Rj.SIGN_UP_TEXT,r=Rj.SIGN_OUT_MESSAGE1,s=Rj.SIGN_OUT_MESSAGE2,d=Rj.SIGN_OUT_FAIL_MESSAGE1,l=Rj.SIGN_OUT_FAIL_MESSAGE2,b=Rj.DELETE_ACCOUNT_MESSAGE,v=Rj.SIGN_IN_TEXT,m=sessionStorage.getItem("forcedSignOut")||!1,f=Object(N.c)((function(e){var t=e.i18nReducer,n=(t=void 0===t?{}:t).response,a=(n=void 0===n?{}:n).items;a=void 0===a?[]:a;var i=Object(j.a)(a,1)[0],c=(i=void 0===i?{}:i).fields;return{i18Translations:(c=void 0===c?{}:c).data}})).i18Translations,p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],x=h[1];Object(i.useEffect)((function(){return function(){sessionStorage.removeItem("forcedSignOut")}}),[]),Object(i.useEffect)((function(){Object(O.isEmpty)(f)||x("DELETE"===n?Object(Ce.e)(b):m?"".concat(Object(Ce.e)(d),"\n").concat(Object(Ce.e)(l)):"".concat(Object(Ce.e)(r),"\n").concat(Object(Ce.e)(s)))}),[g,f]);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"account-remove-container",children:[Object(u.jsx)("div",{className:"account-remove-confirm-icon",children:Object(u.jsx)(Pa.a,{src:tf})}),Object(u.jsx)("div",{className:"main-text-account-remove",children:g}),Object(u.jsxs)("div",{className:"account-remove-buttons",children:[Object(u.jsx)(Ot.a,{"data-testid":"sign-upid",className:function(){var e="sign-up-account-remove";return m&&(e+=" sign-up-account-remove-login-fail"),e}(),onClick:function(e){on()},children:"DELETE"===n?Object(Ce.e)(o):Object(Ce.e)(v)}),!m&&Object(u.jsx)(Ot.a,{"data-testid":"take-me-homeid",className:"take-me-home-account-remove",onClick:function(){t.push({pathname:"/"})},children:Object(Ce.e)(a)})]})]})})},af=(n(135),function(e){var t,n,a,c,o,r,s=Object(N.c)((function(e){return e.tenantReducer})),d=Object(N.c)((function(e){return e.appStateReducer.userStatus})),l=s.tenantId,b=void 0===l?"":l,v=null,j=null,O=null,m=f.a.DISPOSITION,g=Object(N.b)();Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){g(Object(h.a)({object:Object(I.a)(),contentFull:{include:5,content_type:"marketConfig","fields.location":null===s||void 0===s?void 0:s.country,"fields.channel":ka.b.channel}}))}),[g,null===s||void 0===s?void 0:s.country]),Object(i.useEffect)((function(){d.loggedIn&&e.history.push("/"),g(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:d}))}),[d,b,g,e.history]);var T=Object(N.c)((function(e){return{tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null,homePageContent:e.contentReducer.response||null}}));if(T.marketPageContent&&T.homePageContent&&T.tenantReducerContent){j=Object(x.U)(T.homePageContent);var C=T.marketPageContent.headerData||{},S=C.header,A=C.footer;v=Object(x.V)(S),O=Object(x.N)(A)}return Object(u.jsxs)(u.Fragment,{children:[Object(x.Db)(v)&&Object(u.jsx)(ni,{tenantReducerData:T.tenantReducerContent,userParams:d,contentData:v})||null,Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(t=null===(n=j)||void 0===n?void 0:n[m])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(c=j)||void 0===c?void 0:c[m])&&void 0!==a?a:{}},userParams:d}),Object(u.jsx)(nf,{pageFlag:null===(o=e.history)||void 0===o||null===(r=o.location)||void 0===r?void 0:r.state,history:e.history}),Object(x.Db)(O)&&Object(u.jsx)(ha,{contentData:O,history:e.history})||null]})}),cf=n.p+"static/media/Arrow.0e41a9fb.svg",of=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.accountViewFavItemList.name,{data:{event:"view_item_list",ecommerce:{item_list:{items:t}}}},x.D);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rf=function(e){var t,n=e.currentMenu,a=e.updateMenu,c=e.history,o=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null})),r=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,s=(r=void 0===r?{}:r).productMapById,d=void 0===s?{}:s,l=Object(i.useState)(Object(x.Ib)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=function(){Sd(null===o||void 0===o?void 0:o.id),nn.a.getInstance().logout(),c.push({pathname:T.hb.HOME_PAGE})};Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(x.Ib)(window.innerWidth);O(e)}))}),[v]);var f=ls.d.ORDER_HISTORY_TAG,p=ls.d.MY_FAV_MENU,h=ls.d.ADDRESS,g=ls.d.ACCOUNT_SETTING,E=ls.d.SIGN_OUT,I=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]}));Object(i.useEffect)((function(){if(n===p&&(null===I||void 0===I?void 0:I.length)){var e=[];I.forEach((function(t,n){var a,i=null!==(a=null===d||void 0===d?void 0:d[t.foodItemId])&&void 0!==a?a:{},c=i.categoryId,o=void 0===c?"NA":c,r=i.categoryName,s=void 0===r?"NA":r;e.push({item_name:Object(x.s)(t.name,"NA"),item_id:Object(x.s)(t.id,"NA"),price:Object(x.s)(t.price,"NA"),item_category:s,item_list_name:"Account - Favorite Menu",item_list_id:o,index:n+1,quantity:t.quantity||"NA"})})),of(e)}}),[n]);return v?Object(u.jsxs)("div",{className:"account-mobile-container",children:[Object(u.jsx)("div",{className:"account-mobile-header",children:Object(u.jsxs)("div",{className:"account-header-container",children:[Object(u.jsx)("img",{src:Hs,className:"account-icon"}),Object(u.jsx)("h4",{className:"account-header",children:Object(Ce.e)("Good ".concat(Object(x.T)()," ").concat(o.firstName||o.phone,"!"))}),Object(u.jsx)(Ot.a,{className:"button transparent-btn white-border sign-out-btn","data-id":T.o.HEADER_SIGN_IN_ATTR_DATA_ID,"aria-label":"",onClickHandler:m,type:"submit",children:Object(u.jsx)("span",{children:Object(Ce.e)(E)})})]})}),Object(u.jsxs)("div",{className:"account-mobile-menu-option",children:[Object(u.jsx)("section",{"data-testid":"order-history-mobile-testid",onClick:function(){return a(f)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ce.e)(f)}),Object(u.jsx)("img",{src:cf,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"fav-menu-mobile-testid",onClick:function(){return a(p)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ce.e)(p)}),Object(u.jsx)("img",{src:cf,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"saved-address-mobile-testid",onClick:function(){return a(h)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ce.e)(h)}),Object(u.jsx)("img",{src:cf,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:function(){return a(g)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ce.e)(g)}),Object(u.jsx)("img",{src:cf,className:"account-icon"})]})})})]})]}):Object(u.jsxs)("div",{className:"account-header-container",children:[Object(u.jsx)("img",{src:Hs,className:"account-icon"}),Object(u.jsx)("h4",{className:"account-header",children:Object(Ce.e)("".concat(Object(Ce.e)("greetingGood")," ").concat(Object(x.T)()," ").concat(o.firstName||Object(Ce.e)("kfcLover"),"!"))}),Object(u.jsxs)("div",{className:"account-menu-container",children:[Object(u.jsx)("div",{"data-testid":"order-history-testid",className:Object(x.mb)(n===f,"activeMenu account-menu","account-menu"),onClick:function(){return a(f)},children:Object(Ce.e)(f)}),Object(u.jsx)("div",{className:Object(x.mb)(n===p,"activeMenu account-menu","account-menu"),onClick:function(){return a(p)},"data-testid":"fav-menu-link",children:Object(Ce.e)(p)}),Object(u.jsx)("div",{"data-testid":"saved-address-testid",className:Object(x.mb)(n===h,"activeMenu account-menu","account-menu"),onClick:function(){return a(h)},children:Object(Ce.e)(h)}),Object(u.jsx)("div",{"data-testid":"account-settings-testid",className:Object(x.mb)(n===g,"activeMenu account-menu","account-menu"),onClick:function(){return a(g)},children:Object(Ce.e)(g)})]}),Object(u.jsx)(Ot.a,{"data-id":T.o.HEADER_SIGN_IN_ATTR_DATA_ID,className:"button transparent-btn white-border sign-out-btn","aria-label":"",type:"submit",children:Object(u.jsx)("span",{"data-testid":"signout-button-testid",onClick:m,children:Object(Ce.e)(E)})})]})},sf=n.p+"static/media/Calender.87526494.svg",df=n.p+"static/media/Reload.bccb975e.svg",lf=function(e){var t,n=e.onClickHandler,a=e.isDarkMode,o=void 0!==a&&a,r=e.dataTestId,s=e.cardInfo,d=void 0===s?{}:s,l=e.title,b=e.occassionTime,v=e.onEditOccasionName,O=e.itemId,m=e.itemName,f=e.favouriteOrders,p=void 0===f?[]:f,h=e.tenantData,g=void 0===h?{}:h,N=ls.d.AT,E=ls.d.REFUND_INIT,I=ls.d.SCHEDULE,T=ls.d.REFUND_INIT_TEXT,C=ls.d.EDIT_ITEM_TEXT,S=ls.d.TODAY_AT,A=ls.d.CANCELLED,y=ls.d.DELIVERED,D=ls.d.PICK_UP,_=Object(x.ub)(d),R=_.id,w=void 0===R?"":R,P=_.fulfillmentDateTime,L=void 0===P?"":P,k=_.service,M=void 0===k?"":k,F=_.status,H=void 0===F?"":F,U=_.fulfillmentDateTime,B=void 0===U?"":U,G=g.pastOrderDateformat,Y=void 0===G?"":G,K=g.pastOrderTimeFormat,V=void 0===K?"":K;t=p.length>0&&p.find((function(e){return e.id===w}))||{};var W=Object.keys(t).length>0?t.name:"".concat("pickup"===M?D:M," ").concat(Object(Ce.e)("order")),q=Object(ye.l)(L,Y),z=Object(ye.l)(B,Y),Q="".concat(Object(ye.l)(L,Y),"  ").concat(Object(Ce.e)(N)),J=Object(ye.e)(new Date,Y),X="".concat(z," ").concat(Object(Ce.e)(N)," "),Z=Object(ye.e)(Object(ye.p)(L),V),$=Object(ye.o)(B);z===J&&(X=Object(Ce.e)(I)+" for "+Object(Ce.e)(S));var ie=Object(i.useState)(!1),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=function(e){re(!oe),n&&!oe&&n(e,w)},de=$&&(q===J||z===J);return Object(u.jsxs)("div",{className:"global-accordian-container ".concat(oe?"account-accordian-open":""),children:[Object(u.jsxs)("div",{className:"global-accordian-header-container",children:[Object(u.jsxs)("span",{className:"global-accordian-header",children:[H===E&&!l&&Object(u.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(u.jsx)("img",{src:df,className:"account-icon"}),Object(u.jsx)("span",{className:"order-status",children:Object(Ce.e)(T)})]}),de&&function(e){return e!==A&&e!==y}(H)?Object(u.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(u.jsx)("img",{src:sf,className:"account-icon"}),Object(u.jsx)("span",{className:"order-status",children:Object(Ce.e)(I)})]}):null,l?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("span",{className:"order-accordian-heading",children:l}),Object(u.jsx)("span",{className:"edit-occasion-link",onClick:function(){return v(O,m)},children:Object(Ce.e)(C)})]}):Object(u.jsx)("span",{className:"order-accordian-heading",children:W})]}),Object(u.jsxs)("div",{className:"global-accordian-right",children:[b?Object(u.jsx)("span",{className:"order-time",children:b}):Object(u.jsx)("span",{className:"order-time",children:de?X+Z:Q+" "+Z}),o?Object(u.jsx)("img",{src:oe?ae:ne,onClick:se,className:"global-accordian-arrow","data-testid":"acordian-handle-dark"}):Object(u.jsx)("img",{src:oe?te:ee,onClick:se,className:"global-accordian-arrow","data-testid":r})]})]}),oe&&Object(u.jsx)("div",{className:"global-accordian-content",children:e.children})]})},uf=n(390),bf=function(e){var t=Object(N.b)(),n=e.onCancel,a=e.cardInfo,c=e.tenantData.tenantId,o=Object(i.useState)([]),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(N.c)((function(e){return{customerInfo:e.profileReducer||{}}})).customerInfo||{},x=g.customerId,E=g.basic,I=(E=void 0===E?{}:E).phone,T=void 0===I?"":I,C=g.favouriteOrders,S=void 0===C?[]:C,A=ls.d.CANCEL,y=ls.d.SAVE,D=ls.d.OCCASSOIN_HEADING,_=ls.d.OREDER_PLACEHOLDER,R=ls.d.NAME_EXIST,w=ls.d.OCCASION_NAME_VALIDATION;Object(i.useEffect)((function(){var e=[];S.map((function(t){var n;return e.push(null===(n=t.name.toUpperCase())||void 0===n?void 0:n.trim())})),d(e)}),[]);var P=Object(i.useState)(""),L=Object(j.a)(P,2),k=L[0],M=L[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"InputHeading",children:Object(Ce.e)(D)}),Object(u.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(u.jsx)("input",{value:k,type:"tel","data-testid":"occasion-input",className:"occasion-input-box",placeholder:Object(Ce.e)(_),maxlength:"11",required:!0,onChange:function(e){return function(e){M(e.target.value),h(!1),O(!1)}(e)}}),v&&Object(u.jsx)("span",{className:"error-text",children:Object(Ce.e)(R)}),p&&Object(u.jsx)("span",{className:"error-text",children:Object(Ce.e)(w)})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return n()},children:Object(Ce.e)(A)}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:function(){var e=null===k||void 0===k?void 0:k.trim(),i=s.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=uf.a.test(k),r=e.replace(/ /g,"").length;if(!o||0===r||r<=2)h(!0);else if(o&&i>=0)O(!0),h(!1);else{var d=a.id;t(Object(Zj.a)({customerId:x,tenantId:c,phoneNumber:T},{orderId:d,name:k})),n()}},children:Object(Ce.e)(y)})]})]})},vf=function(e){var t,n=e.isMobile,c=e.cardInfo,r=e.tenantData,s=e.customerId,d=e.orderItemArray,l=e.isGetOrdersLoading,b=d.find((function(e){return e.id===c.id})),v=Object(i.useState)(!1),m=Object(j.a)(v,2),f=m[0],p=m[1],h=Object(i.useState)(!1),g=Object(j.a)(h,2),E=g[0],I=g[1],C=ls.d.REORDER_TEXT,S=ls.d.ADD_TO_OCCASION,A=ls.d.VIEW_RECEIPT,y=ls.d.ACCOUNT_ORDERS,D=ls.d.TRACK_ORDER,_=Object(N.c)((function(e){return e.cartReducer})),R=Object(N.c)((function(e){return e.tenantReducer})),w=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,P=((w=void 0===w?{}:w).itemMapById,Object(i.useState)(!1)),L=Object(j.a)(P,2),k=L[0],M=L[1],F=Object(i.useState)(!1),H=Object(j.a)(F,2),U=H[0],B=H[1],G=Object(i.useState)({}),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=_.cartData,q=void 0===W?{}:W,z=R.tenantId,Q=R.currencyConversionFactor,J=Object(N.b)(),X=Object(o.f)(),Z={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:f,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return p(!1)},modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},$=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},Z),{},{children:Object(u.jsx)("div",{className:"ReceiptModal",children:Object(i.createElement)(rb,Object(a.a)(Object(a.a)({},e),{},{key:"receipt-".concat(c.id),orderItem:b}))})})),ee={id:"OccassionModal",role:"dialog",modalTitleId:"OccassionModal",show:E,classNames:"Base-modal ".concat(Object(x.mb)(n,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return I(!1)},modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},te=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},ee),{},{children:Object(u.jsx)("div",{className:"OccassionModal",children:Object(u.jsx)(bf,{onCancel:function(){return I(!1)},cardInfo:c,tenantData:r,customerId:s})})})),ne=Object(x.ub)(q).foodLines,ae=void 0===ne?[]:ne,ie=function(){ae.length>0?M(!0):(J(Object(Ct.o)()),B(!0))},ce=function(e){var t=Object(O.first)(Object(O.get)(e,"response",{}),{}),n=Object(x.ub)(b).id;V(t),J(Object(tn.a)({tenantId:z,orderId:n,customerId:s},ie))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(u.jsxs)("span",{className:"global-accordian-header mobile-accordian-header",children:[Object(u.jsx)("span",{className:b?"order-receipt-option":"order-receipt-Disable-option","data-testid":"view-receipt",onClick:function(){return p(!0)},children:Object(Ce.e)(A)}),Object(u.jsx)("span",{className:"order-ocasion-option","data-testid":"view-occasion-modal",onClick:function(){return I(!0)},children:Object(Ce.e)(S)})]}),Object(u.jsxs)("div",{className:Object(MO.g)(b)||Object(MO.i)(b)?"global-accordian-right":"btn-algn global-accordian-right",children:[Object(MO.n)(b)&&new Date(1e3*(null===b||void 0===b?void 0:b.fulfillmentDateTime)).getTime()>=(new Date).getTime()&&Object(u.jsxs)(Ot.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){!function(){var e=Object(x.ub)(b);localStorage.setItem(T.S.ORDER_TRACKING,JSON.stringify(Object(MO.w)(z,e))),gl((null===e||void 0===e?void 0:e.total)/Q),Object(x.ac)({history:X})}()},"data-testid":"track-order-btn",children:[Object(u.jsx)("img",{alt:"account-icon",src:bl,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Ce.e)(D)})]}),Object(u.jsxs)(Ot.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){!function(){if(!l){var e=Object(x.ub)(b),t=e.store,n=void 0===t?{}:t,a=e.service,i=void 0===a?"":a,c=Object(x.ub)(n).storeId,o=[{storeId:void 0===c?"":c,channel:ka.b.channel,service:i}];J(Object(Cl.a)(o,z,ce)),sessionStorage.setItem("reorderClick",!0)}}(),localStorage.setItem(T.n,y)},"data-testid":"re-order-btn",children:[Object(u.jsx)("img",{alt:"account-icon",src:bl,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Ce.e)(C)})]})]})]}),f&&b&&$,E&&te,Object(x.sb)(k,U)&&Object(u.jsx)(ab,{storeInfo:K,currentOrderInfo:c,reorderModalOpen:k,setReorderModalOpen:M,isQuickReorderModalOpen:U,setQuickReorderModalOpen:B})]})},jf=n.p+"static/media/Favourite.00df2772.svg",Of=function(e){var t=e.cardInfo,n=e.tenantData,a=e.orderItemArray,i=e.favouriteItems,c=e.customerId,o=n.tenantId,r=n.currencySymbol,s=n.currencyConversionFactor,d=n.addHope,l=n.carryBag,b=t.id,v=a.find((function(e){return e.id===b}))||{},j=v.foodLines,m=void 0===j?[]:j,f=(v.total,Object(x.M)(m,d,l)),p=Object(N.b)();return Object(u.jsx)(u.Fragment,{children:f.map((function(e){var t,a,d=e.item,l=d.mdmId,b=d.unitPrice,v=Object(O.find)(i,{mdmId:l});return Object(u.jsxs)("div",{className:"global-accordian-header-container order-section",children:[Object(u.jsx)("span",{className:"global-accordian-header mobile-order-details-section",children:Object(u.jsx)(C.a,{className:"order-item-img",defaultPath:Object(x.R)(null,n,!0),srcFile:Object(x.R)(d.imageName,n)})}),Object(u.jsxs)("span",{className:"product-details-section",children:[Object(u.jsxs)("span",{className:"product-title",children:[d.quantity,"x ",d.name]}),Object(u.jsx)("span",{className:"product-desc",children:(a=d,Tl()(a,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return"".concat(e.quantity,"x ").concat(e.name)})).join())}),Object(u.jsxs)("span",{className:"product-price",children:[r,(t=b,(t/s).toFixed(2))]})]}),Object(u.jsx)("div",{className:"global-accordian-right","data-testid":"favourite-btn",onClick:function(){return function(e,t,n){var a=e.mdmId,i=e.id,r=e.name,d=e.imageName,l=e.longDescription,u=e.quantity,b=e.customizable,v=(e.unitPrice,e.customProperties);p(t?Object(pi.b)({customerId:c,tenantId:o,itemId:i}):Object(pi.a)({customerId:c,tenantId:o},{mdmId:a,id:i,name:r,imageName:d,description:l,quantity:u,isCustomized:b,price:(null===n||void 0===n?void 0:n.unitPrice)/s,additionalProperties:v}))}(d,v,e)},children:Object(u.jsx)("img",{src:v?Ls:jf,className:"account-icon"})})]})}))})},mf=function(e){var t=e.renderSwitch,n=e.updateMenu,a=Object(o.f)(),c=ls.d.NO_ORDER_MSG,r=ls.d.REFUND_MSG,s=ls.d.HAVE_A_QUESTION,d=ls.d.CONNECT_WITH_SPECIALIST,l=ls.d.YOUR_PAST_ORDER,b=ls.d.LOOKING_FOR_OFFER,v=ls.d.ORDER_HISTORY_TAG,O=ls.d.REFUND_INIT,f=ls.d.GET_HELP,p=ls.d.LOAD_MORE,h=ls.d.VIEWED,g=ls.d.OF,E=ls.d.ORDER_LOOKUP,I=ls.d.VIEW_MENU,T=Object(N.c)((function(e){return{tenantData:e.tenantReducer||{},orderHistoryInfo:e.orderHistoryReducer||{},orderInfo:e.orderReducer||{},customerInfo:e.profileReducer||{}}})),C=T.tenantData,S=T.orderHistoryInfo,A=T.orderInfo,y=T.customerInfo,D=Object(i.useState)(Object(x.Ib)(window.innerWidth)),_=Object(j.a)(D,2),R=_[0],w=_[1];Object(i.useEffect)((function(){return function(){localStorage.setItem("LoadMoreOrderHistory",!1)}}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(x.Ib)(window.innerWidth);w(e)}))}),[R]);var P=Object(N.b)(),L=C.tenantId,k=S.orderHistory,M=y.favouriteItems,F=y.customerId,H=y.favouriteOrders,U=void 0===H?[]:H,B=A.response,G=A.isGetOrdersLoading,Y=Object(i.useState)([]),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)([]),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(!1),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1];console.log("orders",V);var te=function(){var e=function(e){for(var t,n=["01","02","03","04","05","06","07","08","09","10","11","12"],a=[],i=new Date,c=i.getMonth()+1,o=e;o>0;o-=1){t=n[new Date(i.getFullYear(),c-o,1).getMonth()];var r=i.getFullYear();t>c&&(r-=1),a.push({yearMonth:"".concat(r,"-").concat(t)})}return a}(12);P(Object(Zj.d)({customerId:F,tenantId:L},e))};Object(i.useEffect)((function(){L&&te()}),[L,F]),Object(i.useEffect)((function(){var e=Q.find((function(e){return e.id===B.id}))||{};Object(x.Db)(e)||J([].concat(Object(Oo.a)(Q),[B]))}),[B]),Object(i.useEffect)((function(){ne(10)}),[k]);var ne=function(e){if(k&&m.a.isArray(k)){var t=null===k||void 0===k?void 0:k.sort((function(e,t){return t.orderDateTimeInEpoch-e.orderDateTimeInEpoch}));W(Object(Oo.a)(t).splice(0,e))}else W([])},ae=function(e,t){var n=Q.find((function(e){return e.id===t}))||{};Object(x.Db)(n)||P(Object(mt.c)({orderId:t,tenantId:L}));var a=e.target.parentElement.parentElement.parentElement;a.classList.contains("account-accordian-open")?a.classList.remove("account-accordian-open"):a.classList.add("account-accordian-open")},ie=function(){a.push("/help")},ce=Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-refund-section",children:[Object(u.jsx)("span",{className:"global-accordian-header",children:Object(u.jsx)("span",{className:"order-refund-msg",children:Object(Ce.e)(r)})}),Object(u.jsx)("div",{className:"global-accordian-right",children:Object(u.jsx)(Ot.a,{className:"button transparent-btn","aria-label":"","data-testid":"get-Help-Btn",type:"submit",onClickHandler:ie,children:Object(u.jsx)("span",{children:Object(Ce.e)(f)})})})]}),oe=Object(u.jsxs)("div",{className:"pageFooter",children:[V.length>0&&k.length>V.length&&k.length>10&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"load-more",children:Object(u.jsx)(Ot.a,{className:"button transparent-btn footer-btn","data-testid":"load-more-btn","aria-label":"",onClickHandler:function(){return ne(k.length)},children:Object(u.jsx)("span",{children:Object(Ce.e)(p)})})}),Object(u.jsx)("div",{className:"view-order-count",children:Object(u.jsx)("span",{children:"".concat(Object(Ce.e)(h)," ").concat(V.length," ").concat(Object(Ce.e)(g)," ").concat(k.length)})})]}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"get-help-section",children:[Object(u.jsxs)("div",{className:"footer-bootm-left",children:[Object(u.jsx)("span",{className:"have-a-question",children:Object(Ce.e)(s)}),Object(u.jsx)("span",{className:"connect-specialist",children:Object(Ce.e)(d)})]}),Object(u.jsx)("div",{children:Object(u.jsx)(Ot.a,{className:"button transparent-btn footer-btn","aria-label":"",onClickHandler:ie,children:Object(u.jsx)("span",{children:Object(Ce.e)(f)})})})]})]});return Object(u.jsxs)(u.Fragment,{children:[R&&Object(u.jsxs)("div",{className:"order-history-header",children:[Object(u.jsx)("img",{src:cf,className:"back-icon","data-testid":"order-history-back-btn",data:!0,onClick:function(){t(),n("")}}),Object(u.jsx)("span",{className:"page-heading",children:Object(Ce.e)(v)})]}),Object(u.jsxs)("div",{className:"account-order-desktop",children:[Object(u.jsxs)("div",{className:"page-header",children:[Object(u.jsx)("span",{className:"page-heading",children:Object(Ce.e)(v)}),Object(u.jsxs)("div",{className:"headingItemsRight",children:[Object(u.jsx)("span",{className:"heading-item-text",children:Object(Ce.e)(b)}),Object(u.jsx)(Ot.a,{className:"button transparent-btn order-lookup","data-testid":"order-lookup-order-history",type:"submit",onClickHandler:function(){P(Object(mt.a)({})),ee(!0)},children:Object(u.jsx)("span",{children:Object(Ce.e)(E)})})]})]}),V.length>0&&Object(u.jsxs)("div",{className:"sub-section",children:[Object(u.jsxs)("span",{className:"sub-heading-text",children:[Object(Ce.e)(l)," (",k.length,")"]}),Object(u.jsx)("section",{children:V.map((function(e,t){return Object(u.jsx)("section",{className:"account-accordian",children:Object(u.jsxs)(lf,{onClickHandler:ae,cardInfo:e,dataTestId:"order-details-".concat(t),favouriteOrders:U,tenantData:C,children:[e.status===O&&ce,Object(u.jsxs)("section",{className:"account-accordian-details-section",children:[Object(u.jsx)("div",{className:"option-section",children:Object(u.jsx)(Of,{cardInfo:e,tenantData:C,orderItemArray:Q,favouriteItems:M,customerId:F},t)}),Object(u.jsx)(vf,{isMobile:R,orderItemArray:Q,cardInfo:e,tenantData:C,customerId:F,isGetOrdersLoading:G},"Reorder-".concat(t))]})]})})}))})]}),0===V.length&&Object(u.jsx)("div",{className:"sub-section sub-section-no-order",children:Object(u.jsxs)("div",{className:"no-order",children:[Object(u.jsx)("span",{className:"no-order-msg",children:Object(Ce.e)(c)}),Object(u.jsx)("div",{children:Object(u.jsx)(Ot.a,{className:"button transparent-btn view-menu-btn","aria-label":"","data-testid":"goto-menu-page-btn",onClickHandler:function(){a.push("/menu")},children:Object(u.jsx)("span",{children:Object(Ce.e)(I)})})})]})}),oe,$&&Object(u.jsx)(pa,{isOpen:!0,handleClose:function(){return ee(!1)},tenantReducerData:C})]})]})},ff=function(e){var t,n,c=e.communicationPreferences,o=e.basicData,r=e.tenantId,s=ls.b.COMMUNICATION_PREFERENCES_TEXT,d=ls.b.SAVE,l=Object(N.c)((function(e){return e.marketConfigReducer.response||null})),b=Object(i.useState)([]),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(N.b)();Object(i.useEffect)((function(){var e,t,n,i=[];null===l||void 0===l||null===(e=l.headerData)||void 0===e||null===(t=e.communicationPreferences)||void 0===t||t.map((function(e){var t,n,a;i.push({mainText:null===(t=e.fields)||void 0===t?void 0:t.value,subText:null===(n=e.fields)||void 0===n?void 0:n.subValue,checked:!!(null===c||void 0===c?void 0:c.find((function(t){var n;return t===(null===(n=e.fields)||void 0===n?void 0:n.code)}))),code:null===e||void 0===e||null===(a=e.fields)||void 0===a?void 0:a.code})})),(null===o||void 0===o||null===(n=o.marketingPreferences)||void 0===n?void 0:n.length)>0?m(i.map((function(e){return o.marketingPreferences.find((function(t){return t===e.code}))?Object(a.a)(Object(a.a)({},e),{},{checked:!0}):e}))):m(i)}),[null===l||void 0===l||null===(t=l.headerData)||void 0===t||null===(n=t.communicationPreferences)||void 0===n?void 0:n.length]);var p=function(e){var t=O.map((function(t){return t.code===e.target.value?Object(a.a)(Object(a.a)({},t),{},{checked:!t.checked}):t}));m(t)};return Object(u.jsxs)("div",{className:"preferences-card",children:[Object(u.jsx)("div",{className:"preferences-card-left-side",children:Object(Ce.e)(s)}),Object(u.jsxs)("div",{className:"preferences-card-right-side",children:[Object(u.jsx)("p",{children:"Colonels Club"}),Object(u.jsx)("p",{children:"(member since 2016)"}),Object(u.jsx)("div",{className:"horizontal-line-club"}),Object(u.jsx)("div",{className:"preferences-container",children:Object(u.jsx)("ul",{className:"preferences-item",children:null===O||void 0===O?void 0:O.map((function(e){return Object(u.jsxs)("li",{className:"preferences-item-list",children:[Object(u.jsx)("input",{id:e.code,type:"checkbox",value:e.code,checked:e.checked,"data-testid":"communication-preferences-".concat(e.mainText,"-test"),onChange:p}),Object(u.jsxs)("div",{className:"preferences-text",children:[Object(u.jsx)("label",{htmlFor:e.mainText,children:e.mainText}),""!==e.subText&&Object(u.jsx)("span",{className:"preference-subText",children:e.subText})]})]},e.code)}))})}),Object(u.jsx)(Ot.a,{className:"save-account-button","data-testid":"save-communication-preferences",onClickHandler:function(){var e=[];O.forEach((function(t){if(t.checked)return e.push(t.code)})),function(e){je.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((function(e){return"marketing-emails"===e}))?"True":"False","%editorAndCustomerFavourites%":e.find((function(e){return"editor-pick"===e}))?"True":"False","%newsAndAnnouncements%":e.find((function(e){return"kfc-news"===e}))?"True":"False","%doNotSellInformation%":e.find((function(e){return"do-not-sell"===e}))?"True":"False"},x.D)}(e),f(Object(jb.g)({tenantId:r,customerId:null===o||void 0===o?void 0:o.id,phoneNumber:null===o||void 0===o?void 0:o.phone,body:{marketingPreferences:e}}))},children:Object(Ce.e)(d)})]})]})},pf=function(e){var t,n,o,r,s,d=e.handleClose,l=e.customerData,b=e.updateCustomerData,v=e.isLoading,O=ls.a.EDIT_PERSONAL_INFO,m=ls.a.emailHelpText,f=ls.a.phoneHelpText,p=ls.a.firstNameHelpText,h=ls.a.lastNameHelpText,g=ls.a.SAVE,N=ls.a.CANCEL,x=ls.a.FIRST_NAME_TEXT,E=ls.a.LAST_NAME_TEXT,I=ls.a.EMAIL_TEXT,T=ls.a.PHONE_NUMBER_TEXT,C=Object(i.useState)({firstName:null===l||void 0===l?void 0:l.firstName,lastName:null===l||void 0===l?void 0:l.lastName,emailId:null===l||void 0===l?void 0:l.email,phoneNumber:null===l||void 0===l?void 0:l.phone}),S=Object(j.a)(C,2),A=S[0],y=S[1],D=function(e){"phoneNumber"===e.target.name&&e.target.value.length>10||y(Object(a.a)(Object(a.a)({},A),{},Object(Re.a)({},e.target.name,e.target.value)))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{classNames:"personal-information-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:d,modalTitleRequired:!0,modalTitle:Object(Ce.e)(O),children:Object(u.jsxs)("div",{className:"personal-information-card",children:[Object(u.jsx)("p",{className:"personal-information-text",children:"PERSONAL INFORMATION"}),Object(u.jsx)(It,{name:"firstName",placeholder:Object(Ce.e)(x),value:null===A||void 0===A?void 0:A.firstName,inputClassName:"edit-info-input-class",onChange:D,error:(null===A||void 0===A||null===(t=A.firstName)||void 0===t?void 0:t.length)>0&&!Lm(null===A||void 0===A?void 0:A.firstName),helperText:Object(Ce.e)(p),helperTextClassName:"error-text",maxlength:"20"}),Object(u.jsx)(It,{name:"lastName",placeholder:Object(Ce.e)(E),value:null===A||void 0===A?void 0:A.lastName,inputClassName:"edit-info-input-class",onChange:D,error:(null===A||void 0===A||null===(n=A.lastName)||void 0===n?void 0:n.length)>0&&!Lm(null===A||void 0===A?void 0:A.lastName),helperText:Object(Ce.e)(h),helperTextClassName:"error-text",maxlength:"20"}),Object(u.jsx)(It,{name:"emailId",type:"email",placeholder:Object(Ce.e)(I),value:null===A||void 0===A?void 0:A.emailId,inputClassName:"edit-info-input-class",onChange:D,error:(null===A||void 0===A||null===(o=A.emailId)||void 0===o?void 0:o.length)>0&&!km(A.emailId),helperText:Object(Ce.e)(m),helperTextClassName:"error-text",maxlength:"320"}),Object(u.jsx)(It,{readOnly:(null===l||void 0===l||null===(r=l.phone)||void 0===r?void 0:r.length)>0,name:"phoneNumber","data-testid":"phone-number-testid",placeholder:Object(Ce.e)(T),value:null===A||void 0===A?void 0:A.phoneNumber,inputClassName:"edit-info-input-class",onChange:D,error:(null===A||void 0===A||null===(s=A.phoneNumber)||void 0===s?void 0:s.length)>0&&!Mm(null===A||void 0===A?void 0:A.phoneNumber),helperText:Object(Ce.e)(f),helperTextClassName:"error-text"}),Object(u.jsxs)("div",{className:"buttons-container",children:[Object(u.jsx)(Ot.a,{className:"buttons-group cancel",onClickHandler:d,children:Object(Ce.e)(N)}),Object(u.jsx)(Ot.a,{className:"buttons-group save",disabled:v||!Hm({firstNameText:A.firstName,lastNameText:A.lastName,phoneNoText:A.phoneNumber,emailText:A.emailId}),"data-testid":"update-account-button-testid",onClickHandler:function(){return b(A)},children:Object(Ce.e)(g)})]})]})})})},hf=function(e){var t=e.basicData,n=e.isLoading,a=ls.a.PERSONAL_INFO_TEXT,c=ls.a.EDIT,o=Object(i.useState)(!1),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(N.c)((function(e){return e.tenantReducer})),b=Object(N.c)((function(e){return e.profileReducer.customerId})),v=Object(N.b)();return Object(u.jsxs)("div",{className:"personal-info-card",children:[Object(u.jsx)("div",{className:"personal-card-left-side",children:Object(Ce.e)(a)}),Object(u.jsxs)("div",{className:"personal-card-right-side",children:[Object(u.jsx)("div",{className:"edit-input",children:Object(u.jsx)(M,{"data-testid":"edit-account-button-testid",onClickHandler:function(){d(!0)},children:Object(Ce.e)(c)})}),Object(u.jsxs)("p",{children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),Object(u.jsx)("p",{children:t.email}),Object(u.jsx)("p",{children:Object(x.o)(null===t||void 0===t?void 0:t.phone)})]}),s&&Object(u.jsx)(pf,{handleClose:function(){d(!1)},isLoading:n,customerData:t,updateCustomerData:function(e){!function(e){je.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.emailId||"NA","%phone%":Object(x.o)(e.phoneNumber)||"NA"},x.D)}(e),v(Object(jb.i)({tenantId:null===l||void 0===l?void 0:l.tenantId,customerId:b,body:e})),d(!1)}})]})},gf=n.p+"static/media/SingleArrowback.99fd8fc5.svg",Nf=function(e){var t=e.handleClose,n=e.deleteAccountCallback,a=ls.a.DELETE_ACCOUNT_TEXT,i=ls.a.DELETE_ACCOUNT_MESSAGE,o=ls.a.CANCEL,r=ls.a.CONFIRM;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{classNames:"confirm-delete-account-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:t,modalTitleRequired:!1,children:Object(u.jsxs)("div",{className:"confirm-delete-account-content",children:[Object(u.jsx)("p",{className:"main-heading",children:Object(Ce.e)(a)}),Object(u.jsx)("p",{className:"delete-account-text",children:Object(Ce.e)(i)}),Object(u.jsxs)("div",{className:"buttons-container",children:[Object(u.jsx)(Ot.a,{className:"buttons-group cancel",onClickHandler:t,children:Object(Ce.e)(o)}),Object(u.jsx)(Ot.a,{className:"buttons-group save",onClickHandler:n,"data-testid":"delete-account-confirm",children:Object(Ce.e)(r)})]})]})})})},xf=function(e){var t=e.updateMenu,n=e.history,a=ls.a.ACCOUNT_SETTINGS_TEXT,c=ls.a.DELETE_ACCOUNT_TEXT,o=Object(i.useState)(!1),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(N.c)((function(e){return e.profileReducer||null})),b=Object(N.c)((function(e){return e.tenantReducer}));return Object(u.jsxs)("div",{className:"account-settings-container",children:[Object(u.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting",onClick:function(){return t("")},src:gf}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Ce.e)(a)})]}),Object(u.jsx)("p",{className:"account-setting-text-heading",children:Object(Ce.e)(a)}),Object(u.jsx)(hf,{basicData:null===l||void 0===l?void 0:l.basic,isLoading:null===l||void 0===l?void 0:l.isLoading}),Object(u.jsx)(ff,{tenantId:null===b||void 0===b?void 0:b.tenantId,communicationPreferences:null===l||void 0===l?void 0:l.marketingPreferences,basicData:null===l||void 0===l?void 0:l.basic}),Object(u.jsx)(Ot.a,{"data-testid":"delete-button-testid",className:"delete-account-button",onClickHandler:function(){d(!0),it({popupTitle:Object(Ce.e)(c)})},children:Object(Ce.e)(c)}),s&&Object(u.jsx)(Nf,{handleClose:function(){d(!1)},deleteAccountCallback:function(){Cd(null===l||void 0===l?void 0:l.customerId),nn.a.getInstance().deleteAccount(),d(!1),n.push({pathname:T.hb.HOME_PAGE})}})]})},Ef=function(e){var t,n=e.occassionOrder,o=e.checkProductAvailabity,r=e.additemToUnfavourite,s=e.addItemToFavourite,d=e.availableProductPrice,l=e.getPrice,b=Object(N.c)((function(e){return e.tenantReducer||null})),v=b.tenantId,O=b.currencySymbol,m=b.addHope,f=b.carryBag,p=b.currencyConversionFactor,h=b.componentOptions,g=(h=void 0===h?{}:h).web,E=(g=void 0===g?{}:g).global,I=(E=void 0===E?{}:E).showPriceWithTax,T=void 0!==I&&I,S=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||null})),A=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic.id)||null})),y=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,D=(y=void 0===y?{}:y).itemMapById,_=void 0===D?{}:D,R=Object(i.useState)([]),w=Object(j.a)(R,2),P=w[0],L=w[1],k=n.items;return Object(i.useEffect)((function(){var e=k.filter((function(e){return(null===e||void 0===e?void 0:e.name)!==m&&(null===e||void 0===e?void 0:e.name)!==f}));L(e)}),[n]),Object(u.jsx)(c.a.Fragment,{children:P.map((function(e,t){var n,i=e.customProperties||[],c=o(e.id),j=null===_||void 0===_?void 0:_[e.id],m=l(d(e.id)),f=l(e.priceWithTax)-m,h=Object(x.hb)(null===j||void 0===j?void 0:j.availability[0].price,null===j||void 0===j?void 0:j.additionalProperties,p,T);i.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Re.a)({},n,"True"===i||"False"!==i&&i))}),{});return Object(u.jsx)("section",{className:c?"account-accordian-details-section":"account-accordian-details-section product-unavailable",children:Object(u.jsxs)("div",{className:"option-section option-section-fav-menu",children:[Object(u.jsx)(C.a,{className:"favourite-order-img",srcFile:Object(x.R)(e.imageName,b),alt:"No-Image",defaultPath:Object(x.R)(null,b,!0)}),Object(u.jsxs)("div",{className:"favourite-order-details",children:[Object(u.jsx)("span",{className:"order-item-name",children:e.name}),Object(u.jsx)("div",{className:"fav-order-details",children:e.modGroups&&e.modGroups.map((function(e,t){return Object(u.jsx)("span",{children:e&&e.modifiersDetails.map((function(e,t){return Object(u.jsxs)("span",{children:[" ",e.quantity,"x ",e.name]})}))})}))}),c&&Object(u.jsx)("div",{className:"occasion-item-price",children:0!==f?Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{className:"prev-price",children:[O,null===(n=l(e.price))||void 0===n?void 0:n.toFixed(2)]}),"  ",Object(u.jsxs)("span",{className:"new-current-price",children:[O,h]})]}):Object(u.jsxs)("span",{className:"current-price",children:[O,h]})}),!c&&Object(u.jsxs)("div",{className:"occasion-item-price-unavailable",children:[Object(u.jsx)("img",{src:$t,alt:"Item Unavailable"})," ","Unavailable"]})]}),Object(u.jsx)("div",{className:"occasion-fav-item",children:Object(u.jsx)("img",{src:Array.isArray(S)&&S.find((function(t){return(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e?void 0:e.id)}))?os:rs,alt:"",className:"pdp-product-save","data-testid":"save-product-handler-".concat(t),onClick:function(){return Array.isArray(S)&&S.find((function(t){return(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e?void 0:e.id)}))?r(v,A,e.id):s(v,e,null===e||void 0===e?void 0:e.availability,A)}})})]})})}))})},If=function(e){var t=e.isOpen,n=e.handleClose,a=e.occasionName,o=e.onSaveOccassion,r=e.onChangeOccasionName,s=e.occasionNameResponse,d=e.handleClearEditInput,l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=ls.d.CANCEL,f=ls.d.SAVE,p=ls.d.EDIT_OCCASSION_DIALOG_TITLE,h=ls.d.OCCASSION_LABEL,g=ls.d.SAME_OCCASSIONNAME_ERROR,N=ls.d.EMPTY_OCCASSION_FIELD_ERROR;return Object(u.jsx)(c.a.Fragment,{children:t&&Object(u.jsxs)(jt,{show:t,showCloseBtn:!0,closeButtonHandler:function(){n(),O(!1)},classNames:"edit-occasion-modal",autoFocus:!0,children:[Object(u.jsx)("h1",{children:Object(Ce.e)(p)}),Object(u.jsxs)("div",{className:"edit-occassion-input-container",children:[Object(u.jsx)("label",{for:"occasion-name",children:Object(Ce.e)(h)}),Object(u.jsx)("input",{type:"text",id:"occasion-name","data-testid":"occasion-input",name:"occasion-name",value:a,onChange:function(e){r(e),O(!0)}}),Object(u.jsx)("img",{src:Gb,alt:"Clear Icon",className:"edit-input-clear-icon",onClick:d})]}),v&&a===s&&Object(u.jsx)("div",{className:"errorMessageEditOccasion",children:Object(Ce.e)(g)}),0===a.length&&Object(u.jsx)("div",{className:"errorMessageEditOccasion",children:Object(Ce.e)(N)}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:n,children:Object(Ce.e)(m)}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",disabled:a===s||0===a.length,onClick:o,children:Object(Ce.e)(f)})]})]})})};If.defaultProps={isOpen:!1};var Tf=If,Cf=n.p+"static/media/heart_favIcon_active_white.707ea51a.svg",Sf=function(e,t){return e?"cardwithQuantity "+t:"cardwithNoquantity"},Af=function(e){var t,n,a,o,r=e.isProductAvailable,s=e.catalogueData,d=e.maxItemCountPerLineItem,l=e.product,b=e.customerId,v=e.differencePrice,O=e.currencySymbol,m=e.additionalProperties,f=e.addItemToUnFavouriteFunction,p=e.addToCartFunction,h=e.userParams,g=e.getPrice,I=e.storeClosedData,S=(e.additionalPropertyMap,hi.a.RESET_MODGROUP_IDS_UPDATE),A=Ae.a.MINI_PDP_DATA,y=Ae.a.FROMFLAGEDIT,D=Ae.a.EDIT_CLICKED,_=Object(i.useState)(Object(x.Ib)(window.innerWidth)),R=Object(j.a)(_,2),w=R[0],P=R[1],L=ls.d.ITEM_UNAVAILABLE,k=ur.ITEM_QUANTITY,M=Fn.a.QUANTITY_ACTION,F=Object(N.c)((function(e){return e.cartReducer})),H=Object(x.ub)(F).cartData,U=void 0===H?{}:H,B=Object(i.useState)(0),G=Object(j.a)(B,2),Y=G[0],K=G[1],V=Object(i.useState)(null),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=Object(i.useState)(0),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)(0),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(!1),ie=Object(j.a)(ae,2),ce=ie[0],oe=ie[1],re=Object(i.useState)([]),se=Object(j.a)(re,2),de=se[0],le=se[1],ue=Object(i.useState)(""),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=Object(x.J)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,me=(Oe=void 0===Oe?{}:Oe).productMapById,fe=void 0===me?{}:me,pe=Object(i.useState)(!1),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useContext)(E.a).userOrderStateDispatch,Ee=Object(x.mb)(h.loggedIn,T.Eb,""),Ie=Object(N.b)(),Te=Object(N.c)((function(e){return e})).tenantReducer,Se=Te.tenantId,ye=Te.currencyConversionFactor,De=Te.componentOptions,_e=(null!==De&&void 0!==De?De:{}).web,Re=(_e=void 0===_e?{}:_e).global,we=(Re=void 0===Re?{}:Re).showPriceWithTax,Pe=void 0!==we&&we,Le=(Ai(void 0,void 0,void 0,fe,xe,void 0,void 0).showCartAlert,function(e){if(null===U||void 0===U?void 0:U.id){var t=null===U||void 0===U?void 0:U.foodLines.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id)===e}));le(t)}je(e),oe(!0)}),ke=function(e,t){var n=Number((te/ye).toFixed(2)),a={foodName:null===s||void 0===s?void 0:s.name,foodItemId:null===s||void 0===s?void 0:s.mdmId,cartPrice:n,modifiers:[],quantity:Y,foodLineId:q},i=Ai({cartId:U.id},Se,void 0,fe,xe,Ie,void 0).itemQuantityHandler;t===M.Increase?l.isCustomized?Le(null===a||void 0===a?void 0:a.foodItemId):i(a,M.Increase):X>1?Le(null===a||void 0===a?void 0:a.foodItemId):i(a,M.Decrease)},Fe=function(){P(Object(x.Ib)(window.innerWidth))};Object(i.useEffect)((function(){window.addEventListener("resize",Fe)}),[w]);Object(i.useEffect)((function(){var e=Object(x.Db)(U)?Object(x.X)(l.id,U):{},t=Object(x.mb)(Object(x.Db)(e),e.count,0),n=Object(x.mb)(Object(x.Db)(e),e.matchedItemFoodLineId,""),a=Object(x.mb)(Object(x.Db)(e),e.entriesCount,0),i=Object(x.mb)(Object(x.Db)(e),e.itemUnitPrice,"");K(t),z(n),Z(a),ne(i)}),[U,l.id]);var He=function(e){return Object(u.jsxs)("div",{className:"medium-menu-vegOrNonVeg",children:[(null===e||void 0===e?void 0:e.veg)?Object(Ce.e)(Me.VEG):Object(Ce.e)(Me.NON_VEG),(null===e||void 0===e?void 0:e.servings)&&Object(u.jsx)("div",{className:"Dot"}),Me.SERVES,null===e||void 0===e?void 0:e.servings]})},Ye=function(e,t){var n,a=Object(x.gb)(null===t||void 0===t?void 0:t.availability[0],null===t||void 0===t||null===(n=t.additionalPropertyMap)||void 0===n?void 0:n.pricewithouttax,ye,Pe);return Object(u.jsx)("div",{className:"medium-menu-product-price",children:e?Object(u.jsx)("span",{className:"price-difference-container",children:Object(x.mb)(0!==v,Object(u.jsxs)("span",{className:"prev-price",children:[O,l.price]})-Object(u.jsxs)("span",{className:"new-current-price",children:[O,a]}),Object(u.jsxs)("span",{className:"current-price",children:[O,a]}))}):""})},Ke=function(){1===Y?(xe({type:A,value:{id:null===s||void 0===s?void 0:s.mdmId,flag:y,foodLineId:q}}),xe({type:S}),xe({type:D,value:{cartEditClicked:!1}}),Ie(Object(pi.c)({tenantId:Se,catalogName:null===U||void 0===U?void 0:U.catalog,itemId:null===s||void 0===s?void 0:s.mdmId})),Ie(Object(Ct.s)({showProductListingModal:!0,categorySelected:l.id.split("-")[0]}))):(l.isCustomized&&Le(null===s||void 0===s?void 0:s.mdmId),Ne(!0),oe(!0))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:r?"medium-menu-container medium-menu-container-fav-menu":"medium-menu-container medium-menu-container-fav-menu medium-menu-container-fav-menu-disabled",children:[Object(u.jsx)("div",{className:"product-container",children:Object(u.jsxs)("div",{className:"medium-menu-product-card product-card-active","data-testid":"",children:[r?Object(u.jsx)(C.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(x.R)(null===s||void 0===s?void 0:s.imageName,Te),alt:"No-Image",defaultPath:Object(x.R)(null,Te,!0)}):Object(u.jsx)(C.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(x.R)(l.imageName,Te),alt:"No-Image",defaultPath:Object(x.R)(null,Te,!0)}),Object(u.jsx)("div",{className:"discount-product-ribbon"}),Object(u.jsx)("span",{className:"discount-ribbon-text"}),Object(u.jsx)("img",{src:Cf,alt:"favourite menu product",className:"menu-product-save","data-testid":"on-image-fav",onClick:function(){return f(Se,b,l.id)}}),Object(u.jsxs)("div",{className:"menu-card-content menu-card-content-fav","data-testid":"menu-card-content-pdp-nav",children:[Object(u.jsx)("div",{className:"medium-menu-product-header",children:Object(x.mb)(r,null===s||void 0===s?void 0:s.name,l.name)}),w?Object(u.jsxs)("div",{className:"product-details-mobile-view",children:[Object(u.jsxs)("div",{className:"medium-menu-product-description",id:"longDescription",children:[Object(x.mb)(r,null===s||void 0===s||null===(a=s.longDescription[0])||void 0===a?void 0:a.value,null===(o=l.description[0])||void 0===o?void 0:o.value)," "]}),Object(u.jsxs)("div",{className:"price-veg-nonveg",children:[Ye(r,s),He(m),Object(u.jsx)("div",{className:"heart-icon",children:r?Object(u.jsx)("img",{src:os,alt:"favourite menu product",className:"mobile-fav-menu-style","data-testid":"mobile-view-fav",onClick:function(){return f(Se,b,l.id)}}):Object(u.jsx)("img",{src:os,alt:"un-favourite menu product",className:"mobile-fav-menu-style-unavailable","data-testid":"unavailable-fav",onClick:function(){return f(Se,b,l.id)}})})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:"menu-vegOrNonVeg-icon",src:(null===m||void 0===m?void 0:m.veg)?Rs:_s,alt:"favourite menu product-vegOrNonVeg-icon"}),He(m),Ye(r,s),Object(u.jsx)("div",{className:"medium-menu-product-description",id:"longDescription",children:Object(x.mb)(r,null===s||void 0===s||null===(t=s.longDescription[0])||void 0===t?void 0:t.value,null===(n=l.description[0])||void 0===n?void 0:n.value)})]})]}),Object(u.jsxs)("div",{className:"quantityAddtocart ".concat(Sf(Y,Ee)),children:[!!Y&&function(e,t,n){return Object(u.jsx)(ss,{itemCount:e,itemQuantity:k,updateItemQuantity:t,quantityAction:M,item:void 0,maxItemCountPerLineItem:n,cartItemCount:1})}(Y,ke,d),r&&Object(u.jsx)("div",{className:"cart-btn-container",children:Object(u.jsx)("div",{className:Xs(Y,Ee),children:Y<1?Object(u.jsxs)("button",{disabled:Es(I),onClick:function(e){return p(e,l,{productName:null===s||void 0===s?void 0:s.dname,productImage:null===s||void 0===s?void 0:s.imageName,productPrice:g(null===s||void 0===s?void 0:s.availability[0].price)})},className:"button activeBtn redButton medium-menu-cart-button ","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-fav-menu",children:[Is(I).btnText,Object(x.j)(I.isStoreClosed)]}):l.isCustomized&&Object(u.jsx)("span",{className:"edit-selection","data-testid":"edit-section-fav-menu",onClick:function(){return Ke()},children:Object(Ce.e)(Ue)})})}),!r&&Object(u.jsx)("div",{className:"cart-btn-container",children:Object(u.jsx)("div",{className:"cardButtonOnly",children:Object(u.jsx)("button",{disabled:!0,className:"button activeBtn redButton medium-menu-cart-button medium-menu-cart-button-disabled","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-L-402983",children:Object(Ce.e)(L)})})})]})]})}),ce&&Object(u.jsx)(Ds,{isFavouriteMenu:!0,handleClose:function(){oe(!1),Ne(!1)},filteredPreviousData:de,updateItemQuantity:ke,tenantData:Te,dname:null===s||void 0===s?void 0:s.dname,clickHandler:p,cardId:l.id,itemCount:Y,availability:null===s||void 0===s?void 0:s.availability,imageName:null===s||void 0===s?void 0:s.imageName,itemFoodlineId:q,customizable:l.isCustomized,setOpenCostomizedModal:oe,openCostomizedModal:ce,cartData:U,product:l,foodId:ve,isEditSelection:ge,headerText:ge?Object(Ce.e)(Be):Object(Ce.e)(Ge),categoryId:l.id.split("-")[0]})]})})},yf=function(e){var t,n,o,r=e.limitSize,s=e.checkProductAvailabity,d=e.availableProductPrice,l=e.getPrice,b=Object(i.useContext)(E.a).userOrderState,v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useMemo)((function(){return Object(x.Cb)(b.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):b.currentStoreInfo}),[b.currentStoreInfo]),h=Object(x.ub)(null===p||void 0===p||null===(t=p.summary)||void 0===t?void 0:t.timings),g=h.futureDates,I=h.scheduled,T=h.asap,C=Object(x.ub)(I).unavailibilities,S=Object(x.ub)((null===I||void 0===I||null===(n=I.periods)||void 0===n?void 0:n.length)&&(null===I||void 0===I?void 0:I.periods[0])),A=S.interval,y=void 0===A?0:A,D=S.startEndTime,_=void 0===D?{}:D,R=_.from,w=_.to,P=Object(i.useCallback)((function(){if(Object(x.Db)(p)){var e,t,n=null===(e=p.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=nc(R,w,y,null===T||void 0===T?void 0:T.isAvailable,1===(null===g||void 0===g?void 0:g.length)&&(null===M||void 0===M?void 0:M.toUpperCase())===Ze,C);"CLOSED"!==n||a.length?f(!1):f(!0)}else f(!1)}),[p]);Object(i.useEffect)((function(){P()}),[P]);var L=Object(N.c)((function(e){return e.tenantReducer||{}})),k=L.country,M=void 0===k?"":k,F=L.currencySymbol,H=L.maxItemCountPerLineItem,U=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),B=Object(N.c)((function(e){var t,n;return(null===(t=e.profileReducer)||void 0===t||null===(n=t.basic)||void 0===n?void 0:n.id)||""})),G=(null!==(o=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==o?o:{}).flatResponse,Y=(G=void 0===G?{}:G).itemMapById,K=void 0===Y?{}:Y;return Object(u.jsx)(c.a.Fragment,{children:U.slice(0,r).map((function(t){var n,i=null===K||void 0===K?void 0:K[t.id],c=s(t.id),o=null!==(n=null===i||void 0===i?void 0:i.additionalProperties)&&void 0!==n?n:null===t||void 0===t?void 0:t.additionalProperties,r=l(d(t.id)),b=t.price-r,v=null===o||void 0===o?void 0:o.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Re.a)({},n,"True"===i||"False"!==i&&i))}),{});return Object(u.jsx)(Af,Object(a.a)(Object(a.a)({isProductAvailable:c,catalogueData:i,maxItemCountPerLineItem:H,product:t,customerId:B,differencePrice:b,currencySymbol:F,additionalProperties:v},e),{},{"data-testid":"favourite-menu-card-".concat(t.id),storeClosedData:{isStoreClosed:m}}))}))})},Df=function(e){var t,n,a,c,r,s,d,l=e.isMobile,b=e.updateMenu,v=Object(N.b)(),m=Object(o.f)(),f=ls.d.LOAD_MORE,p=ls.d.ADD_ITEM_TO_CART_TEXT,h=hi.a.RESET_MODGROUP_IDS_UPDATE,g=Ae.a.MINI_PDP_DATA,I=Ae.a.FROMFLAGPLP,S=Ae.a.EDIT_CLICKED,A=Ae.a.ADD_TO_CART_CLICK,y=Object(i.useContext)(E.a),D=y.userOrderState,_=y.userOrderStateDispatch,R=Object(i.useState)(!1),w=Object(j.a)(R,2),P=(w[0],w[1]),L=Object(i.useState)(""),k=Object(j.a)(L,2),M=k[0],F=k[1],H=Object(i.useState)(9),U=Object(j.a)(H,2),B=U[0],G=U[1],Y=Object(i.useState)(""),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(""),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),Z=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),$=Object(N.c)((function(e){var t;return Object(x.ub)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),ee=$.id,te=$.phone,ne=Object(N.c)((function(e){return e.tenantReducer||{}})),ae=ne.tenantId,ie=ne.currencyConversionFactor,ce=(ne.currencySymbol,Object(N.c)((function(e){return e.tenantReducer}))),oe=Object(N.c)((function(e){return e.cartReducer})),re=Object(x.J)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,se=(re=void 0===re?{}:re).productMapById,de=void 0===se?{}:se,le=re.itemMapById,ve=void 0===le?{}:le,je=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails})),Oe=Object(N.c)((function(e){return e.appStateReducer.userStatus})),me=Object(i.useState)(!1),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=ls.d.ORDER_HISTORY_TAG,Ne=ls.d.VIEW_ORDER_HISTORY_BTN,xe=ls.d.MY_OCCASSION_TEXT,Ee=ls.d.MY_OCCASSION_UNAVAILABLE_TITLE,Ie=ls.d.DELETE_OCCASSION_TEXT,Te=ls.d.REORDER_TEXT,Se=ls.d.MY_FAVOURITE_MENU_TITLE_TEXT,De=ls.d.MY_FAVOURITE_NO_ITEMS_TEXT,_e=ls.d.MY_FAVOURITE_BROWSE_MENU,Re=(ls.d.ACCOUNT_FAV_PAGE,ls.d.MY_FAV_MENU),we=ls.d.UNFAVOURITE_ITEM_MESSAGE,Pe=Object(x.J)(Object(O.get)(oe,"cartData",{})),Le=Object(i.useState)(!1),ke=Object(j.a)(Le,2),Me=ke[0],Fe=ke[1],He=Object(i.useState)(!1),Ue=Object(j.a)(He,2),Be=Ue[0],Ge=Ue[1],Ye=Object(i.useState)({}),Ke=Object(j.a)(Ye,2),Ve=Ke[0],We=Ke[1],qe=Object(i.useState)({}),ze=Object(j.a)(qe,2),Qe=ze[0],Je=ze[1],Xe=function(e,t){var n,a,i,c=null===(n=e.target)||void 0===n||null===(a=n.parentElement)||void 0===a||null===(i=a.parentElement)||void 0===i?void 0:i.parentElement;(null===c||void 0===c?void 0:c.classList.contains("account-accordian-open"))?null===c||void 0===c||c.classList.remove("account-accordian-open"):null===c||void 0===c||c.classList.add("account-accordian-open")},Ze=function(e){return e/ie},$e=Object(x.Cb)(D.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):D.dispositionNew,et=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Db)(ce)?ce:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:$e?$e.store:{},dispositionType:$e&&$e.type?Object(x.H)($e.type):Object(x.H)(null===(e=ce.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[$e,ce,D]),tt=(null===et||void 0===et||null===(t=et.storeInfo)||void 0===t||null===(n=t.summary)||void 0===n||null===(a=n.menu)||void 0===a||null===(c=a.catalogs)||void 0===c?void 0:c.length)&&(null===et||void 0===et||null===(r=et.storeInfo)||void 0===r||null===(s=r.summary)||void 0===s||null===(d=s.menu)||void 0===d?void 0:d.catalogs[0])||Object(x.wb)(null===ce||void 0===ce?void 0:ce.genericMenuName),nt=function(e,t,n){v(Object(pi.a)({tenantId:e,customerId:n},t))},at=function(e,t){var n=arguments.length>3?arguments[3]:void 0,a={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.description,quantity:1,isCustomized:t.customizable,price:t.priceWithTax/ie,additionalProperties:t.additionalProperties};nt(e,a,n)},it=function(e,t,n){v(Object(pi.b)({tenantId:e,customerId:t,itemId:n}));var a=Object(u.jsx)(C.a,{srcFile:mi});setTimeout((function(){Object(x.ic)(Object(Ce.e)(we),a)}),2e3),setTimeout((function(){Wt.b.dismiss()}),4e3)},ct=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(Object(Zj.b)({tenantId:t,customerId:n,itemId:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ot=function(e){var t,n,a,i,c=Object(ye.h)(),o=Object(x.J)(null===ve||void 0===ve?void 0:ve[e]),r=null===o||void 0===o||null===(t=o.availability)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.availableHours.startTime.time,s=null===o||void 0===o||null===(a=o.availability)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.availableHours.endTime.time;return Object(ye.d)(c,r,s)},rt=function(e){if(ot(e)){var t,n,a=Object(x.J)(null===ve||void 0===ve?void 0:ve[e]);return null===a||void 0===a||null===(t=a.availability)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.price}return 0},st=function(e,t){e&&(F(e),P(!0),W(t),J(t))},dt=function(){F(""),P(!1)},lt=function(){W("")},ut=function(){var e=nn.a.getInstance().phoneNumber,t={tenantId:ae,customerId:ee,phoneNumber:e},n={orderId:M,name:V};v(Object(Zj.a)(t,n)),F("")},bt=function(e){W(e.target.value)},vt=Object(i.useCallback)((function(){var e;if((e=B+9)>Z.length){var t=Z.length-B;G(B+t)}else G(e)}),[B,Z]);Object(i.useEffect)((function(){Z.length<B&&G(Z.length)}),[v,Z,B]),Object(i.useEffect)((function(){!function(e,t,n,a){if(e){var i={customerId:t,tenantId:e,phoneNumber:n};a(Object(jb.d)(i))}}(ae,ee,te,v)}),[v,ae,ee,te]),Object(i.useEffect)((function(){je&&D.minipdpData.itemId===je.id&&D.cartEditClicked&&v(Object(Ct.s)({showProductListingModal:!0,categorySelected:""}))}),[je,D.minipdpData.itemId,D.cartEditClicked]),Object(i.useEffect)((function(){(null===oe||void 0===oe?void 0:oe.isItemAdded)&&(Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(C.a,{srcFile:yt})," ",Object(u.jsx)("span",{className:"text",children:Object(Ce.e)(p)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),3e3))}),[null===oe||void 0===oe?void 0:oe.isItemAdded]),Object(i.useEffect)((function(){he(!1)}));var jt=Pe.foodLines,mt=void 0===jt?[]:jt,ft=function(){mt.length>0?Fe(!0):(v(Object(Ct.o)()),Ge(!0))};return Object(u.jsxs)("div",{className:"account-order-desktop",children:[Object(u.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:function(){return b("")},src:gf,alt:"back button"}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Ce.e)(Re)})]}),Object(u.jsx)("div",{className:"page-header page-header-favourite-occasion",children:Object(u.jsxs)("span",{className:"page-heading",children:[Object(Ce.e)(xe)," ",X.length>0?"(".concat(X.length,")"):""]})}),0===X.length&&Object(u.jsxs)("div",{className:"no-occasion-container",children:[Object(u.jsx)("p",{children:Object(Ce.e)(Ee)}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:function(){return b(ge)},children:Object(Ce.e)(Ne)})]}),X&&X.map((function(e,t){return Object(u.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(u.jsxs)("section",{children:[Object(u.jsx)("section",{className:"account-accordian",children:Object(u.jsxs)(lf,{title:e.name,occassionTime:l?"".concat(Object(ye.l)(e.fulfillmentDateTime,"ll")):"".concat(Object(ye.l)(e.fulfillmentDateTime,"ll")," at ").concat(Object(ye.l)(e.fulfillmentDateTime,"hh:mm a")),onClickHandler:Xe,onEditOccasionName:st,itemId:e.id,itemName:e.name,"data-testid":"order-details",children:[Object(u.jsx)(Ef,{occassionOrder:e,checkProductAvailabity:ot,addItemToFavourite:at,additemToUnfavourite:it,availableProductPrice:rt,getPrice:Ze,"data-testid":"occasion-component"}),Object(u.jsx)("section",{className:"fav-menu-event",children:Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(u.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(u.jsx)("span",{className:"order-receipt-option","data-testid":"delete-occassion",onClick:function(){return ct(ae,ee,e.id)},children:Object(Ce.e)(Ie)})}),Object(u.jsx)("div",{className:"global-accordian-right",children:Object(u.jsxs)(Ot.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){e.items,localStorage.setItem(T.n,jl),function(e){var t=Object(O.get)(e,"store",{}),n=Object(O.get)(e,"service",""),a=[{storeId:Object(O.get)(t,"storeId",""),channel:ka.b.channel,service:n}];v(Object(Cl.a)(a,ae,(function(t){var n=Object(O.first)(Object(O.get)(t,"response",{}),{}),a=e.id;We(n),v(Object(tn.a)({tenantId:ae,orderId:a,customerId:ee},ft))}))),Je(e),sessionStorage.setItem("reorderClick",!0)}(e)},"data-testid":"re-order-btn",children:[Object(u.jsx)("img",{src:bl,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Ce.e)(Te)})]})})]})})]})}),Object(u.jsx)(Tf,{isOpen:e.id===M,handleClose:dt,occasionName:V,onSaveOccassion:ut,onChangeOccasionName:bt,occasionNameResponse:Q,handleClearEditInput:lt})]})})})),Object(u.jsx)("div",{className:"page-header page-header-favourite",children:Object(u.jsxs)("span",{className:"page-heading",children:[Object(Ce.e)(Se)," ",Z.length>0?"(".concat(Z.length,")"):""]})}),(null===oe||void 0===oe?void 0:oe.showProductListingModal)&&Object(u.jsx)(_d,{}),Object(u.jsxs)("div",{className:"favorite-items-container",children:[0===Z.length&&Object(u.jsxs)("div",{className:"no-occasion-container",children:[Object(u.jsx)("p",{children:Object(Ce.e)(De)}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:function(){m.push({pathname:"/menu"})},children:Object(Ce.e)(_e)})]}),Object(u.jsx)(yf,{limitSize:B,checkProductAvailabity:ot,addItemToUnFavouriteFunction:it,addToCartFunction:function(e,t,n){var a;e&&e.stopPropagation();var i,c=null!==(a=null===de||void 0===de?void 0:de[t.id])&&void 0!==a?a:{},o=c.categoryId,r=void 0===o?"NA":o,s=c.categoryName,d=void 0===s?"NA":s,l=t.id,u=t.isCustomized;Oe.localized?u?(_({type:g,value:{id:l,flag:I,foodLineId:""}}),_({type:h}),_({type:S,value:{cartEditClicked:!0}}),v(Object(pi.c)({tenantId:ae,catalogName:tt,itemId:l}))):(!function(e,t,n,a){v(Object(Ct.a)({params:{basketId:a},tenantId:e},[{Id:t,categoryId:n,quantity:1,modGrps:[]}]))}(ae,l,r,null===oe||void 0===oe||null===(i=oe.cartData)||void 0===i?void 0:i.id),v(Object(Ct.r)(new Date)),Td({item_name:Object(x.sb)(t.name,"NA"),item_id:Object(x.sb)(t.id,"NA"),item_category:d,price:Object(x.sb)(t.price,"NA"),item_variant:"NA",item_list_name:d,item_list_id:r,index:1,quantity:Object(x.sb)(t.quantity||1)})):(he(!0),_({type:A,value:{addToCart:!0,productItemId:l,categoryId:r,oldProduct:n,customizable:u,catalogs:tt,fromPdpPage:!1}}))},availableProductPrice:rt,getPrice:Ze,"data-testid":"favourite-menu",userParams:Oe})]}),Z.length>9&&Object(u.jsxs)("div",{className:"load-more-button-container",children:[Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"load-more-favourite-items",onClick:vt,children:Object(Ce.e)(f)}),Object(u.jsx)("div",{className:"load-more-text",children:Object(Ce.e)("Viewed ".concat(B," of ").concat(Z.length))})]}),pe&&Object(u.jsx)(Ab,{}),(Me||Be)&&Object(u.jsx)(ab,{storeInfo:Ve,currentOrderInfo:Qe,reorderModalOpen:Me,setReorderModalOpen:Fe,isQuickReorderModalOpen:Be,setQuickReorderModalOpen:Ge})]})},_f={ADD_NEW_ADDRESS:"Add New Address",EDIT_DELIVERY_ADDRESS:"Edit Delivery Address",HIDDEN:"hidden",OK:"OK",KM:"km",DEFAULT_DISPOSITION_TAKEWAY:"Pickup",mapText:"map",ZERO_RESULTS:"ZERO_RESULTS",DELIVERY_SERVICE:"delivery",CHANNEL:"web",REMOVED_MSG:"Store removed from favorite list",INDIA:"India",NOT_SERVICEABLE:"The Delivery location is not serviceable. Please choose a different address",INITIAL_STATE:{addressId:"",addressName:"",city:"",pinCode:"",name:"",state:"",country:"",isPrimary:!1,location:{latitude:"",longitude:""},addressLines:["",""]},MYDELIVERYADDRESSES:"MyDeliveryAddresses",ADDRESS:"address"},Rf=function(e){var t=e.favouriteStores,n=e.removeFromFavoriteHandler,o=e.history,r=e.isMobile,s=Object(N.b)(),d=Object(i.useState)(!1),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(i.useState)({}),g=Object(j.a)(h,2),I=g[0],T=g[1],S=Object(i.useState)(0),A=Object(j.a)(S,2),y=A[0],D=A[1],_=Object(i.useState)(325),R=Object(j.a)(_,2),w=R[0],P=(R[1],Object(i.useState)(null)),L=Object(j.a)(P,2),k=L[0],F=L[1],H=Object(i.useContext)(E.a),U=H.userOrderState,B=H.userOrderStateDispatch,G=Object(x.Cb)(U.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):U.dispositionNew,Y=wi.a.BROWSE_MENU,K=wi.a.STORE_STATUS_CLOSED,V=wi.a.PICK_UP,W=wi.a.TAKE_AWAY,q=wi.a.LIST_TEXT,z=wi.a.STORE_STATUS_CLOSED_CAPS,Q=Ae.a.SCHEDULE_ORDER_DATA,J=Ae.a.SEARCH_ORDER_DATA,X=Ae.a.SELECTED_TILE_DATA,Z=Ae.a.MENU_URL,$=Ae.a.SET_DISPOSITION,ee=Ae.a.USER_LOCALIZED,te=Ae.a.DISPOSITION_DATA,ne=Ae.a.SCHEDULE_ORDER_TIME_DATA,ae=Ae.a.CURRENT_STORE_INFO,ie=_f.DEFAULT_DISPOSITION_TAKEWAY,ce=_f.mapText,oe=Object(N.c)((function(e){return e.appStateReducer.userStatus})),re=Object(N.c)((function(e){return e.profileReducer})),se=Object(N.c)((function(e){return e.tenantReducer})),de=se.componentOptions,le=void 0===de?{}:de,ve=Object(x.sb)(null===le||void 0===le?void 0:le.ScheduledDeliveryComponent,!0).allowScheduleOrder,je=function(e){var t,n=e.summary,a=Object(x.mb)(null===n||void 0===n||null===(t=n.timings)||void 0===t?void 0:t.operatingHours,null===n||void 0===n?void 0:n.timings,[]).operatingHours,i=void 0===a?[]:a;return Object(ki.b)(e.isOpen,i)},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e&&Object(ki.f)(e),n=Object(x.sb)(t[0],[]),a=n.services,i=void 0===a?[]:a;return i.map((function(e,t){return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:Li,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:Object(x.mb)(e===V,Object(Ce.e)(W),e)})]},t)}))},me=function(){s(Object(Ha.a)(Object(a.a)(Object(a.a)({},oe),{},{localized:!0})))},fe=function(){B({type:J,value:{showSearchStore:!1}})},pe=function(e){return e.additionalProperties=e.storeBasic.additionalProperties,e.addresses=e.storeBasic.address,e.amenities=e.storeBasic.amenities,e.name=e.storeBasic.dname,e.id=e.storeBasic.id,e.location=e.storeBasic.location,e},he=function(e){B({type:ae,value:e})},ge=function(t,n){var a=t;xe(),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),he(a),me(),B({type:ne,value:{selectedDateTime:n}}),localStorage.setItem("tenantReducer",JSON.stringify(se)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ie),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),e.history.push({pathname:"".concat(Z)})},Ne=function(e,t){e.preventDefault(),e.stopPropagation(),localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),localStorage.setItem("dispositionType",ie),t=pe(t),Se(),B({type:Q,value:{showScheduleOrder:!0,selectedStoreInfo:t,isAddressFlow:!0}}),B({type:J,value:{showSearchStore:!1}}),Object(ki.j)(),Ee(t),Oi(ie)},xe=function(){B({type:X,value:{selectedData:{}}})},Ee=function(e){var t=e;xe(),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),he(t)},Ie=function(e){var t,n,a=Object(x.ub)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.timings),i=a.futureDates,c=a.scheduled,o=a.asap,r=Object(x.ub)(c&&c.periods.length&&c.periods[0]),s=r.interval,d=void 0===s?0:s,l=r.startEndTime,u=void 0===l?{}:l,b=Object(x.ub)(u),v=b.from,j=b.to,O=Object(x.ub)(c).unavailibilities;return nc(v,j,d,null===o||void 0===o?void 0:o.isAvailable,Object(x.r)(1===(null===i||void 0===i?void 0:i.length),"INDIA"===(null===se||void 0===se||null===(n=se.country)||void 0===n?void 0:n.toUpperCase())),O)},Te=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a,i,c,o,r,d,l,u,b,v,j,O,m,f,p,h,g,N,E,I,T;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(ki.k)(),b=null===(a=n)||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timings,v=b.futureDates,j=b.scheduled,O=b.asap,m=j&&j.periods.length&&j.periods[0],f=m.interval,p=void 0===f?0:f,h=m.startEndTime,N=(g=void 0===h?{}:h).from,E=g.to,nc(N,E,p,null===O||void 0===O?void 0:O.isAvailable,Object(x.r)(1===v.length,"INDIA"===(null===se||void 0===se?void 0:se.country))),I={time:"ASAP",interval:null===(c=n)||void 0===c||null===(o=c.summary)||void 0===o||null===(r=o.timings.scheduled.periods[0])||void 0===r?void 0:r.interval,date:new Date,selectedTime:"ASAP"},n=pe(n),null!==G&&G.type===ie&&G.store.id===n.id&&G.deliveryAddress===(null===U||void 0===U||null===(d=U.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress)){e.next=15;break}return e.next=12,Object(x.g)(n,Object(x.H)(ie),re.customerId,I);case 12:T=e.sent,s(Object(Ct.j)("")),s(Object(Ct.e)({data:T,tenantId:se.tenantId}));case 15:ge(n,I),B({type:$,value:{oldvalue:G,newValue:{type:ie,store:n,date:I.date,time:I.time,interval:I.interval,selectedTime:I.selectedTime,deliveryAddress:null===U||void 0===U||null===(l=U.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(G)),localStorage.setItem("dispositionNew",JSON.stringify({type:ie,store:n,date:I.date,time:I.time,interval:I.interval,selectedTime:I.selectedTime,deliveryAddress:null===U||void 0===U||null===(u=U.scheduleOrderData)||void 0===u?void 0:u.deliveryAddress})),Oi(ie),fe(),Se();case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){B({type:ee,value:{isLocalized:!0}})},De=function(){v(!b),p(!b)};Object(i.useEffect)((function(){p(!0),_e()}),[y,k]);var _e=function(){var e=t.map((function(e){return{lat:e.storeBasic.location.latitude,lng:e.storeBasic.location.longitude}}));T(e)},Re=function(e){var t=Ie(e).length;return Object(x.mb)(t,"Today","Tomorrow")},we=function(e,a,i){var r,s,d,l,v,j,O,m,f,p,h,g,N,E,I,T,S,A,_,R,w,P,L,k,H,U,V,W,q,Q,J,X,ee,ne;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"bgv-set store-card d-flex flex-dir ".concat(i),children:[Object(u.jsxs)("div",{className:"address-block d-flex",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"card-store-name",children:null===e||void 0===e||null===(r=e.storeBasic)||void 0===r?void 0:r.dname[0].value}),Object(u.jsx)("span",{className:"store-distance",children:null===e||void 0===e||null===(s=e.distance)||void 0===s?void 0:s.text}),b&&Object(u.jsx)("span",{className:"store-index fl-rgt",children:"".concat(y+1," of ").concat(t.length)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:Oe(null===e||void 0===e?void 0:e.availableServicesPerChannel)}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:(ne=null===e||void 0===e||null===(d=e.storeBasic)||void 0===d?void 0:d.address[0].address,"".concat(ne.addressLines.join(" ")," ").concat(ne.city," ").concat(ne.state," ").concat(ne.country," ").concat(ne.pinCode))}),!b&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){!function(e,t){F(e),D(t)}(e,a),De(),_e()},children:Object(u.jsx)(M,{className:"card-map-link",children:Object(Ce.e)(ce)})})]}),(null===e||void 0===e?void 0:e.summary)&&(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsxs)("div",{className:"info-timing ".concat(!(null===e||void 0===e?void 0:e.isOpen)&&"info-timingClosed"),children:[(null===e||void 0===e?void 0:e.isOpen)?"":Object(u.jsx)("span",{children:Object(Ce.e)(K)}),Object(u.jsx)("span",{className:"".concat(!(null===e||void 0===e?void 0:e.isOpen)&&je(e)&&"list-circle"),children:je(e)})]}),(null===e||void 0===e?void 0:e.summary)&&!(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsx)("div",{className:"info-timingClosed",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:(null===(l=e.summary.status)||void 0===l?void 0:l.currentStatus)===z?Object(u.jsx)("span",{className:"closed-text",children:K}):""}),Object(u.jsx)("li",{children:(null===(v=e.summary)||void 0===v||null===(j=v.timings)||void 0===j||null===(O=j.scheduled)||void 0===O||null===(m=O.unavailibilities)||void 0===m?void 0:m.length)>0&&Object(ye.r)(null===(f=e.summary)||void 0===f||null===(p=f.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||null===(g=h.unavailibilities[0])||void 0===g?void 0:g.to,"HH MM","HH:MM")<=Object(ye.r)(null===(N=e.summary)||void 0===N||null===(E=N.timings)||void 0===E||null===(I=E.operatingHours[0])||void 0===I||null===(T=I.availableHours)||void 0===T?void 0:T.to,"HH MM","HH:MM")?"Open Today ".concat((null===(S=e.summary)||void 0===S||null===(A=S.timings)||void 0===A||null===(_=A.scheduled)||void 0===_||null===(R=_.unavailibilities[0])||void 0===R?void 0:R.to)&&Object(ye.r)(null===(w=e.summary)||void 0===w||null===(P=w.timings)||void 0===P||null===(L=P.scheduled)||void 0===L||null===(k=L.unavailibilities[0])||void 0===k?void 0:k.to,"hh mm","hh:mm a")):"Open ".concat(Re(e)," ").concat((null===(H=e.summary)||void 0===H||null===(U=H.timings)||void 0===U||null===(V=U.operatingHours[0])||void 0===V||null===(W=V.availableHours)||void 0===W?void 0:W.from)&&Object(ye.r)(null===(q=e.summary)||void 0===q||null===(Q=q.timings)||void 0===Q||null===(J=Q.operatingHours[0])||void 0===J||null===(X=J.availableHours)||void 0===X?void 0:X.from,"hh mm","hh:mm a"))})]})}),Object(u.jsx)("div",{className:"facilities",children:(null===(ee=Zi(null===e||void 0===e?void 0:e.storeBasic))||void 0===ee?void 0:ee.length)>0&&Zi(null===e||void 0===e?void 0:e.storeBasic).map((function(e){return Object(u.jsx)(C.a,{"data-testid":"",srcFile:e.image,alt:Object(x.sb)(e.label,""),className:"facility-img",title:e.label},e.key)}))})]})]}),!b&&Object(u.jsx)("div",{className:"d-flex flex-dir mt5 flex-dir-pos",children:Object(u.jsx)(C.a,{"data-testid":"favorite-img",srcFile:ec,alt:"favorite",className:"favorite-img",onClick:function(){var t;return n(null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id)}})})]}),Object(u.jsxs)("div",{className:"button-block align-center d-flex mt-2",children:[(null===e||void 0===e?void 0:e.isOpen)&&ve&&Object(u.jsx)(Ot.a,{"data-testid":"schedule-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:function(t){return Ne(t,e)},children:Object(Ce.e)("scheduleOrder")}),(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsx)(Ot.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml5 button redButton search-store-card-btn",onClickHandler:function(t){return Te(t,e)},children:"Order Now"}),wf(e,Ie,Ne),Object(x.r)(!(null===e||void 0===e?void 0:e.isOpen),!Ie(e).length)&&Object(u.jsx)(Ot.a,{className:"padding-set wdth-set browse-pad ml5 ml-0 font-bold button whiteButton blkBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){return function(e){var t=pe(e);localStorage.setItem("currentStoreInfo",JSON.stringify(t)),he(),me(),B({type:$,value:{oldvalue:G,newValue:{type:ie,store:t,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem("dispositionOld",JSON.stringify(G)),localStorage.setItem("dispositionNew",JSON.stringify({type:ie,store:t,date:"",time:"",interval:"",deliveryAddress:""})),B({type:te,value:{showDisposition:!1}}),fe(),o.push({pathname:"".concat(Z)})}(e)},children:Object(Ce.e)(Y)})]})]})})},Pe=function(e){return e.sort((function(e,t){var n,a,i,c;return(null===(n=e.storeBasic)||void 0===n?void 0:n.dname[0].value)<(null===(a=t.storeBasic)||void 0===a?void 0:a.dname[0].value)?-1:(null===(i=e.storeBasic)||void 0===i?void 0:i.dname[0].value)>(null===(c=t.storeBasic)||void 0===c?void 0:c.dname[0].value)?1:0}))}(t).map((function(e,t){return we(e,t)}));return Object(u.jsxs)("div",{className:"favorite-stores-section",children:[t.length>0&&Object(u.jsxs)("div",{className:"header-text",children:["My Favorite Stores (",t.length,")",b&&Object(u.jsx)("span",{"data-testid":"list-handler",onClick:function(){De(),_e()},children:Object(u.jsxs)(M,{className:"map-link-list",children:[Object(u.jsx)("span",{children:Object(u.jsx)(C.a,{"data-testid":"",srcFile:mc,alt:"map",className:"map-img"})}),Object(Ce.e)(q)]})})]}),t.length>0&&!b>0&&Pe,b&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"takeawayDineInMap delivery-map",children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Tc,{"data-testid":"mymap-id",latLongValue:I,loadingElement:Object(u.jsx)("div",{style:{height:"100%"}}),containerElement:Object(u.jsx)("div",{style:{height:"400px"}}),mapElement:Object(u.jsx)("div",{style:{height:"100%"}}),isVisible:!0,isMobile:r,centerIndex:y,onPositionChangeHandler:function(e){var n=e?y+1:y-1;D(n),F(Object(x.ub)(t[n]))},setShowCard:p,setStoreMarker:function(e){var n=t.findIndex((function(t){return t.storeBasic.location.latitude===e.lat()&&t.storeBasic.location.longitude===e.lng()}));n>-1&&(D(n),F(Object(x.ub)(t[n])))},storeCardHeight:w}),f&&k&&r?we(k,"","Selected-mobile-Card"):null]}),f&&k&&!r?we(k,"","Selected-desktop-Card"):null]})})]})};function wf(e,t,n){return Object(u.jsx)(u.Fragment,{children:Object(x.r)(!(null===e||void 0===e?void 0:e.isOpen),t(e).length>0)&&Object(u.jsx)(Ot.a,{"data-testid":"closed-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:function(t){return n(t,e)},children:Object(Ce.e)("scheduleOrder")})})}var Pf=n(227),Lf=function(e){var t=Object(N.b)(),n=e.isOpen,c=e.modalType,o=e.handleClose,r=e.storeSearch,s=e.tenantId,d=e.allStores,l=_f.ADD_NEW_ADDRESS,b=_f.EDIT_DELIVERY_ADDRESS,v=_f.HIDDEN,O=_f.DELIVERY_SERVICE,m=_f.CHANNEL,f=_f.NOT_SERVICEABLE,p=_f.INITIAL_STATE,h=_f.INDIA,g=Object(x.Db)(e.address)?e.address:p,E=Object(i.useState)(g),I=Object(j.a)(E,2),T=I[0],S=I[1],A=Object(i.useState)(!1),y=Object(j.a)(A,2),D=y[0],_=y[1],R=null===r||void 0===r?void 0:r.geohashprecision,w=(null===r||void 0===r?void 0:r.boundingBoxSizeMeters)/1e3,P=Object(Pf.a)({requestOptions:{componentRestrictions:{country:"in"}},debounce:300}),L=P.ready,k=P.value,M=P.suggestions,F=M.status,H=M.data,U=P.setValue,B=P.clearSuggestions,G=Object(i.useRef)(null);Object(i.useEffect)((function(){var e,t;c&&No.a.calculateGH({lat:parseFloat((null===T||void 0===T||null===(e=T.location)||void 0===e?void 0:e.latitude)||(null===T||void 0===T?void 0:T.latitude)),lon:parseFloat((null===T||void 0===T||null===(t=T.location)||void 0===t?void 0:t.longitude)||(null===T||void 0===T?void 0:T.longitude)),distanceFromCurrentLoc:w,geoHashPrecision:R});document.querySelector("body").style.overflow=v}),[]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",Y),function(){document.removeEventListener("mousedown",Y)}}));var Y=function(e){G.current&&!G.current.contains(e.target)&&B()},K=function(e){var t=e.target,n=t.name,i=t.value;if("floor"!==n)"checkbox"!==t.type?S(Object(a.a)(Object(a.a)({},T),{},Object(Re.a)({},n,i))):S(Object(a.a)(Object(a.a)({},T),{},Object(Re.a)({},n,!("true"===i))));else{S(Object(a.a)(Object(a.a)({},T),{},Object(Re.a)({},n,i)));var c=[i,null===T||void 0===T?void 0:T.addressLines[1]];S(Object(a.a)(Object(a.a)({},T),{},{addressLines:c}))}},V=function(e){var t=e.address_components.reduce((function(e,t){var n=t.long_name;return t.types.forEach((function(t){return e[t]=n})),e}),{}),n=function(e){var t=[];return Object.entries(e).forEach((function(e){switch(e[0]){case"route":case"street_address":case"neighborhood":case"sublocality_level_1":case"sublocality_level_2":case"sublocality_level_3":t.push(e[1])}t.length||("sublocality"===e[0]||"administrative_area_level_2"===e[0])&&t.push(e[1])})),t=t.join(",")}(t),i=[(null===t||void 0===t?void 0:t.street_number)||"",n];U(n),S((function(e){return Object(a.a)(Object(a.a)({},e),{},{country:null===t||void 0===t?void 0:t.country,addressLines:i,city:(null===t||void 0===t?void 0:t.administrative_area_level_2)||(null===t||void 0===t?void 0:t.locality),state:(null===t||void 0===t?void 0:t.administrative_area_level_1)||"",pinCode:(null===t||void 0===t?void 0:t.postal_code)||""})})),q(),setTimeout((function(){B()}),800)},W=function(e){var n=e.description,i=e.structured_formatting;i.main_text,i.secondary_text;return function(){_(!1),B(),t(Object(ii.j)()),Object(Pf.b)({address:n,componentRestrictions:{country:"in"}}).then((function(e){return V(e[0]),Object(Pf.c)(e[0])})).then((function(e){No.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:w,geoHashPrecision:R}),S((function(t){return Object(a.a)(Object(a.a)({},t),{},{latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng})}))})).catch((function(e){console.log("Error: ",e)}))}},q=function(){var e,t,n,a;return!!((null===T||void 0===T?void 0:T.addressLines[1].length)&&(null===T||void 0===T||null===(e=T.name)||void 0===e?void 0:e.length)&&(null===T||void 0===T||null===(t=T.city)||void 0===t?void 0:t.length)&&(null===T||void 0===T||null===(n=T.pinCode)||void 0===n?void 0:n.length)&&(null===T||void 0===T||null===(a=T.state)||void 0===a?void 0:a.length))},z=function(e){var t,n,a;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.availableServicesPerChannel)||void 0===a?void 0:a.filter((function(e){var t;return(null===e||void 0===e?void 0:e.channel)===m&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===O})))},Q={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:n,classNames:"address-module-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:o,modalTitle:c?b:l,autoFocus:!0},J=function(e){return e.preventDefault(),!1};return Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},Q),{},{"data-testid":"address-modal-landing-page",children:[Object(u.jsx)("div",{className:"address-form-section",children:Object(u.jsxs)("div",{className:"form-container",children:[D&&Object(u.jsx)("div",{className:"error-service-msg",children:f}),Object(u.jsx)("div",{className:"form-header",children:"Address"}),Object(u.jsxs)("form",{autocomplete:"off",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===T||void 0===T?void 0:T.name,onChange:K}),Object(u.jsx)("label",{children:"Address Nickname*"})]}),Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{"data-testid":"search-input-address",value:k||(null===T||void 0===T?void 0:T.addressLines[1]),onChange:function(e){U(e.target.value);var t=[null===T||void 0===T?void 0:T.addressLines[0],e.target.value];S(Object(a.a)(Object(a.a)({},T),{},{addressLines:t}))},disabled:!L,name:"addressName",onFocus:function(){U(k)},required:!0,type:"text"}),Object(u.jsx)("label",{children:"Address*"}),"OK"===F&&Object(u.jsx)("ul",{ref:G,className:"address-list",children:H.map((function(e){var t,n=e.place_id,a=e.structured_formatting,i=a.main_text,c=a.secondary_text;return Object(u.jsx)(u.Fragment,{children:(null===(t=e.terms.filter((function(e){return e.value===h})))||void 0===t?void 0:t.length)>0&&Object(u.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:W(e),children:[Object(u.jsx)(C.a,{srcFile:fc,alt:"googleMapLocation",className:"suggetion-pin"}),Object(u.jsxs)("span",{className:"address-text",children:[Object(u.jsx)("strong",{children:i})," ",c]})]},n)})}))})]}),Object(u.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{required:!0,type:"text",name:"floor",value:(null===T||void 0===T?void 0:T.floor)||(null===T||void 0===T?void 0:T.addressLines[0]),onChange:K}),Object(u.jsx)("label",{children:"Apt / Suite / Floor"})]}),Object(u.jsxs)("div",{className:"input-container ml5",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",name:"pinCode",onKeyDown:function(e){return J(e)},onKeyPress:function(e){return J(e)},value:null===T||void 0===T?void 0:T.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:K}),Object(u.jsx)("label",{children:"Postal Code*"})]})]}),Object(u.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:function(e){return J(e)},onKeyPress:function(e){return J(e)},value:null===T||void 0===T?void 0:T.city,"data-testid":"city-id",onChange:K}),Object(u.jsx)("label",{children:"City / Town*"})]}),Object(u.jsxs)("div",{className:"input-container ml5",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:function(e){return J(e)},onKeyPress:function(e){return J(e)},value:null===T||void 0===T?void 0:T.state,"data-testid":"state-id",onChange:K}),Object(u.jsx)("label",{children:"State*"})]})]}),Object(u.jsxs)("div",{className:"default-address-section",children:[Object(u.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===T||void 0===T?void 0:T.isPrimary,checked:null===T||void 0===T?void 0:T.isPrimary,onChange:K}),Object(u.jsx)("div",{className:"default-label-text",children:Object(u.jsx)("label",{htmlFor:"default-address",children:"Make this my default address"})})]})]})]})}),Object(u.jsxs)("div",{className:"input-container text-center",children:[Object(u.jsx)(Ot.a,{onClick:o,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:"Cancel"}),Object(u.jsx)(Ot.a,{disabled:!q(),className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:function(){var e=function(e){var t,n,a=["",""];return a[1]=e.addressLines[1],a[0]=(null===e||void 0===e?void 0:e.floor)||e.addressLines[0],{addressId:(null===e||void 0===e?void 0:e.id)||"",addressName:e.name||"",city:e.city,postalCode:e.pinCode,state:e.state,country:e.country||"",isPrimary:e.isPrimary||!1,location:{latitude:(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)||(null===e||void 0===e?void 0:e.latitude),longitude:(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)||(null===e||void 0===e?void 0:e.longitude)},addressLines:a}}(T),n=null===d||void 0===d?void 0:d.filter(z),a=null===r||void 0===r?void 0:r.maxDriveTimeMins,i=No.a.checkAndProceed({stores:n,disposition:O,distanceMetrics:null===r||void 0===r?void 0:r.distanceMetrics,driveTime:a});if(null===i||void 0===i?void 0:i.length){var c=nn.a.getInstance(),l=c.phoneNumber,u=c.customerId;t(Object(jb.a)({customerId:u,phoneNumber:l,tenantId:s,data:e})),o()}else _(!0)},children:"Save"})]})]}))},kf=function(e){var t=Object(N.b)(),n=e.savedAddresses,a=e.storeSearch,o=e.tenantId,r=e.allStores,s=e.driveTime,d=Object(i.useState)(!1),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(i.useState)({}),g=Object(j.a)(h,2),x=g[0],E=g[1],I=_f.MYDELIVERYADDRESSES,T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="edit"===e;E(t),v(!0),p(n)},C=function(e){return e.sort((function(e,t){return t.isPrimary-e.isPrimary}))}(n).map((function(e){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"delivery-card bgv-set d-flex",children:[Object(u.jsxs)("div",{className:"address-description d-flex",children:[Object(u.jsxs)("p",{className:"address-mode",children:[Object(u.jsx)("span",{className:"text-transform-capitalize",children:null===e||void 0===e?void 0:e.name})," ",(null===e||void 0===e?void 0:e.isPrimary)?"(Default)":""]}),Object(u.jsx)("div",{className:"delivery-details",children:Object(u.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.city)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})})]}),Object(u.jsxs)("div",{className:"action-btn d-flex",children:[Object(u.jsx)("a",{onClick:function(){return T("edit",e)},"data-testid":"edit-testid",className:"anchor-info edit-adjust",children:"Edit"}),Object(u.jsx)("a",{onClick:function(){return function(e){var n=nn.a.getInstance(),a=n.phoneNumber,i=n.customerId;t(Object(jb.b)({customerId:i,phoneNumber:a,tenantId:o,addressId:e}))}(null===e||void 0===e?void 0:e.id)},"data-testid":"delete-testid",className:"anchor-info del-adjust",children:"Delete"})]})]})})}));return Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsxs)("div",{className:"header-text",children:[Object(Ce.e)(I)," ",(null===n||void 0===n?void 0:n.length)>0&&"(".concat(n.length,")")]}),(null===n||void 0===n?void 0:n.length)>0&&C,Object(u.jsx)("div",{className:"add-address",children:Object(u.jsx)(Ot.a,{"data-testid":"add-testid",onClickHandler:function(){return T("add")},className:"mt-10 button font-bold whiteButton blackBorder",children:"Add New Address"})}),b&&Object(u.jsx)(Lf,{"data-testid":"address-modal",isOpen:b,modalType:f,storeSearch:a,address:x,tenantId:o,driveTime:s,allStores:r,handleClose:function(){return document.querySelector("body").style.overflow="",v(!1),void t(Object(ii.j)())}})]})},Mf=function(e){var t,n=_f.KM,c=_f.REMOVED_MSG,o=_f.ADDRESS,r=wi.a.STORE_STATUS_OPEN,s=Object(N.b)(),d=Object(i.useContext)(E.a).userOrderState,l=Object(N.c)((function(e){return e.storesReducer})),b=l.storesWithStatus,v=l.allStores,O=Object(N.c)((function(e){return e.profileReducer})),m=O.favouriteStores,f=O.savedAddresses,p=Object(N.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})).localized,h=void 0!==p&&p,g=Object(N.c)((function(e){return e.tenantReducer})),I=g.tenantId,T=void 0===I?"":I,S=g.storeSearch,A=void 0===S?{}:S,y=g.driveTime,D=Object(i.useState)([]),_=Object(j.a)(D,2),R=_[0],w=_[1],P=Object(i.useState)(!1),L=Object(j.a)(P,2),k=L[0],M=L[1],F=Object(x.Cb)(d.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):d.dispositionNew,H=F&&F.type?Object(x.H)(F.type):Object(x.H)(null===(t=g.authoredContent)||void 0===t?void 0:t.defaultdisposition);Object(i.useEffect)((function(){if((null===R||void 0===R?void 0:R.length)&&T){var e=[];R.forEach((function(t){e.push({storeId:t.storeBasic.id,channel:ka.b.channel,service:H})}));localStorage.getItem("setFav")||s(Object(ii.c)({data:e,tenantId:T,isFavoritePage:!0}))}}),[T,null===R||void 0===R?void 0:R.length]),Object(i.useEffect)((function(){return window.scrollTo(0,0),s(Object(ii.j)()),function(){s(Object(ii.j)())}}),[]),Object(i.useEffect)((function(){(null===R||void 0===R?void 0:R.length)&&(null===b||void 0===b?void 0:b.length)&&(R.forEach((function(e){var t=b.find((function(t){return t.storeId===e.storeBasic.id}));t&&(e.summary=t.summary,e.isOpen=t.summary.status.currentStatus===r)})),w(R.filter((function(e){return e.summary}))))}),[null===b||void 0===b?void 0:b.length,null===R||void 0===R?void 0:R.length]),Object(i.useEffect)((function(){localStorage.getItem("renderComp")&&localStorage.getItem("setFav")&&(localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),s(Object(ii.j)()),U())})),Object(i.useEffect)((function(){U(),k&&(Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(C.a,{srcFile:yt})," ",Object(u.jsx)("span",{className:"text",children:c})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),3e3))}),[m.length,k]);var U=function(){var e=JSON.parse(localStorage.getItem("storeInfo")),t=(null===f||void 0===f?void 0:f.length)?f.filter((function(e){return e.isPrimary})):[],a=e&&h?e:(null===t||void 0===t?void 0:t.length)&&t[0];if(a){var i=null===A||void 0===A?void 0:A.distanceMetrics;i=i!==n?window.google.maps.UnitSystem.IMPERIAL:window.google.maps.UnitSystem.METRIC;var c,o,r=m.map((function(e){var t,n=null===(t=e.storeBasic)||void 0===t?void 0:t.location;return{lat:n.latitude,lng:n.longitude}}));if(null===m||void 0===m?void 0:m.length)B([{lat:null===a||void 0===a||null===(c=a.location)||void 0===c?void 0:c.latitude,lng:null===a||void 0===a||null===(o=a.location)||void 0===o?void 0:o.longitude}],r,i);else w([]),M(!1)}else w(m),M(!1)},B=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(Oo.a)(e).slice(0,24),destinations:Object(Oo.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:n,avoidHighways:!1,avoidTolls:!1},G)},G=function(e,t){var n,i;i=e&&e.rows&&e.rows[0].elements.map((function(e){return e})),n=m.map((function(e,t){return Object(a.a)(Object(a.a)({},e),i[t])})),w(n),M(!1)};return Object(u.jsxs)("div",{className:"addresses-and-stores-container",children:[Object(u.jsxs)("div",{className:"my-delivery-addresses-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting",onClick:function(){return e.updateMenu("")},src:gf}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Ce.e)(o)})]}),((null===R||void 0===R?void 0:R.length)>0||(null===b||void 0===b?void 0:b.length)>0)&&Object(u.jsx)(Rf,{"data-testid":"favStore-list",removeFromFavoriteHandler:function(e){var t=nn.a.getInstance().customerId;s(Object(ii.m)({tenantId:T,customerId:t,storeId:e,dispatch:"dispatch"})),M(!0)},localized:h,history:e.history,storesReducer:b,favouriteStores:R,isMobile:e.isMobile}),Object(u.jsx)(kf,{storeSearch:A,savedAddresses:f,isMobile:e.isMobile,tenantId:T,driveTime:y,allStores:v,updateMenu:e.updateMenu})]})},Ff=function(e){var t=e.history,n=e.setShowKfcHeader,a=ls.d.ACCOUNT_SETTING,c=ls.d.ORDER_HISTORY_TAG,o=ls.d.ADDRESS,r=ls.d.MY_FAV_MENU,s=Object(i.useState)(Object(x.Ib)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(""),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(x.Ib)(window.innerWidth);b(e)}))}),[l]),Object(i.useEffect)((function(){return"GoToOrderHistory"!=localStorage.getItem("LoadMoreOrderHistory")&&!0!==t.location.isNavigatingFromReorder||f(c),function(){localStorage.setItem("LoadMoreOrderHistory",!1)}}),[]);var h=function e(i){switch(i){case a:return n(!1),Object(u.jsx)(xf,{updateMenu:function(e){return f(e)},history:t});case c:return n(!1),Object(u.jsx)(mf,{isMobile:l,renderSwitch:e,updateMenu:function(e){return f(e)}});case o:return Object(u.jsx)(Mf,{history:t,isMobile:l,updateMenu:function(e){return f(e)}});case r:return Object(u.jsx)(Df,{isMobile:l,updateMenu:function(e){return f(e)}});default:return n(!0),l?Object(u.jsx)(rf,{isMobile:l,currentMenu:m,updateMenu:function(e){return f(e)},history:t}):Object(u.jsx)(mf,{isMobile:l,renderSwitch:e,updateMenu:function(e){return f(e)}})}};return l?Object(u.jsxs)("div",{className:"mobile-order-history",children:[h(m),p.showCartClearAlert?Object(u.jsx)(ol,{}):null]}):Object(u.jsxs)("div",{className:"account-desktop-container mt-5",children:[Object(u.jsx)("div",{className:"account-section-left",children:Object(u.jsx)(rf,{isMobile:l,currentMenu:m,updateMenu:function(e){return f(e)},history:t})}),Object(u.jsx)("div",{className:"account-section-right",children:h(m)}),p.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},Hf=function(e){var t,n,a,o,r,s,d=f.a.DISPOSITION,l=Object(i.useState)(!0),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(N.b)(),g=Object(N.c)((function(e){return e.appStateReducer.userStatus})),T=null,C=null,S=null,A=Object(i.useContext)(E.a),y=A.userOrderState,D=(A.userOrderStateDispatch,Object(N.c)((function(e){var t;return{marketPageContent:e.marketConfigReducer.response||null,tenantData:e.tenantReducer||null,userParams:e.appStateReducer.userStatus||null,homePageContent:Object(x.xb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),tenantReducerContent:Object(x.xb)(null===e||void 0===e?void 0:e.tenantReducer)}})));if(Object(i.useEffect)((function(){var e;m(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===D||void 0===D||null===(e=D.tenantData)||void 0===e?void 0:e.country,"fields.channel":ka.b.channel,include:5}}))}),[null===D||void 0===D||null===(t=D.tenantData)||void 0===t?void 0:t.country,m]),Object(i.useEffect)((function(){m(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ka.b.channel,include:"5"},userParams:D.userParams}))}),[D.userParams,m]),D.marketPageContent&&D.tenantData&&D.homePageContent){var _=D.marketPageContent.headerData,R=_.header,w=_.footer;T=Object(x.V)(R),C=Object(x.U)(D.homePageContent),S=Object(x.N)(w)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Db)(T)&&(!Object(x.Ib)(window.innerWidth)||v)&&Object(u.jsx)(ni,{contentData:T,tenantReducerData:D.tenantData,userParams:D.userParams})||null,Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null!==(n=null===(a=C)||void 0===a?void 0:a[d])&&void 0!==n?n:{},contentDispositionData:null!==(o=null===(r=C)||void 0===r?void 0:r[d])&&void 0!==o?o:{}},userParams:g,showHeader:!Object(x.Ib)(window.innerWidth)||v}),Object(u.jsx)(Ff,{history:e.history,setShowKfcHeader:function(e){return O(e)}}),Object(x.Db)(S)&&Object(u.jsx)(ha,{history:e.history,contentData:S,tenantReducerData:D.tenantData})||null,(null===(s=y.cartAlertData)||void 0===s?void 0:s.showCartAlert)&&Object(u.jsx)(Zb,{}),y.showCartClearAlert?Object(u.jsx)(ol,{}):null]})},Uf=["ComponentToRender"],Bf=function(e){var t=e.ComponentToRender,n=Object(P.a)(e,Uf),i=Object(N.c)((function(e){return e.appStateReducer.userStatus||null})).loggedIn;return Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},n),{},{render:function(e){return i?Object(u.jsx)(t,Object(a.a)({},e)):on()}}))},Gf=n.p+"static/media/confirmed_1.d7fe6280.svg",Yf=function(e){var t=function(){var e,t,n=JSON.parse(localStorage.getItem("dispositionNew")),a=n&&n.type?n.type:"NA",i=n&&n.store&&n.store.id?n.store.id:"NA",c="undefined"!==typeof sessionStorage.getItem("userId")?sessionStorage.getItem("userId"):"NA",o=null!==(e=Object(N.c)((function(e){return e.appStateReducer})))&&void 0!==e?e:{},r=null!==(t=null===o||void 0===o?void 0:o.userStatus)&&void 0!==t?t:{};return{CollectionPoint:"NA",DispositionType:a,loggedIn:r.loggedIn,localized:r.localized,Platform:"web",StoreID:i,UserId:c}}(),n=Object(o.g)();Object(i.useEffect)((function(){var e=n.pathname.substring(1)?n.pathname.substring(1):"NA";setTimeout((function(){sessionStorage.setItem("setAttributePayload",JSON.stringify(t)),Object(x.mc)(t),Object(x.gc)({triggeredEvent:"virtualPageView",path:"".concat(window.location.origin).concat(n.pathname),pageHeading:e})}),120)}),[n]);var a=Object(N.c)((function(e){var t=e.profileReducer,n=(t=void 0===t?{}:t).accountDeleted,a=void 0!==n&&n,i=t.customerDetailsError,c=void 0!==i&&i,o=t.isNewCustomer,r=void 0!==o&&o,s=t.customerId,d=e.authReducer,l=(d=void 0===d?{}:d).userSessionExpired,u=void 0!==l&&l,b=d.isUserLoggedOut,v=void 0!==b&&b,j=d.signInFailed,O=void 0!==j&&j,m=e.cartReducer,f=(m=void 0===m?{}:m).updateCustomerFailed,p=void 0!==f&&f,h=m.qrCodeScanTime,g=void 0===h?"":h,N=e.tenantReducer,x=(N=void 0===N?{}:N).tenantId,E=void 0===x?"":x,I=e.appStateReducer,T=(I=void 0===I?{}:I).userStatus,C=(T=void 0===T?{}:T).loggedIn;return{customerDetailsError:c,updateCustomerFailed:p,userSessionExpired:u,isUserLoggedOut:v,accountDeleted:a,qrCodeScanTime:g,isNewCustomer:r,signInFailed:O,customerId:s,loggedIn:void 0!==C&&C,tenantId:E}})),r=a.customerDetailsError,s=a.updateCustomerFailed,d=a.userSessionExpired,l=a.isUserLoggedOut,b=a.accountDeleted,v=a.qrCodeScanTime,O=a.isNewCustomer,m=a.signInFailed,f=a.customerId,p=a.loggedIn,h=a.tenantId,g=Object(o.f)(),I=Object(N.b)(),C=Object(i.useState)(!1),S=Object(j.a)(C,2),A=S[0],y=S[1],D=Object(i.useState)(!1),_=Object(j.a)(D,2),R=_[0],w=_[1],P=Object(i.useState)(!1),L=Object(j.a)(P,2),k=L[0],M=L[1],F=Object(i.useContext)(E.a).userOrderState,H=T.d.CONTINUE_AS_GUEST,U=T.d.SIGN_IN,B=T.d.SKIPPED,G=T.d.TOKEN_EXPIRED,Y=T.d.CONTINUE,K=T.d.OOPS_WENT_WRONG,V=T.d.RETAIN_CART_MESSAGE,W=T.hb.ACCOUNT,q=T.hb.HOME_PAGE,z=T.hb.SIGNOUT,Q=nn.a.getInstance;Object(i.useEffect)((function(){p&&A&&f&&(rn(O),dn(),y(!1))}),[p,O,A,f]);var J=Object(i.useCallback)((function(){var e,t;(null===g||void 0===g||null===(e=g.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes(W))&&(null===g||void 0===g||g.push({pathname:q}))}),[W,q,g]);Object(i.useEffect)((function(){var e;if(null===(e=g.location.pathname)||void 0===e?void 0:e.includes(Object(Lt.a)(Ht.C))){var t;Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q().processLogin(window.location.href);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.loginResult)===B?sn():Q().bootstrapAuthentication();case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))();var n=new RegExp(/account|order-details/),a=null!==(t=localStorage.getItem("navUrl"))&&void 0!==t?t:"/";n.test(a)?g.push({pathname:"/"}):(g.push({pathname:a}),localStorage.removeItem("navUrl")),y(!0)}}),[B,Q,g]),Object(i.useEffect)((function(){var e,t=localStorage.getItem("navUrl");p&&t&&(localStorage.removeItem("navUrl"),!(null===(e=g.location.pathname)||void 0===e?void 0:e.includes(t))&&g.push({pathname:t}))}),[p,g]);var X=Object(i.useCallback)((function(){J(),I(Object(Ha.a)({loggedIn:!1})),M(!1),Q().bootstrapAuthentication()}),[Q,I,J]),Z=Object(i.useCallback)((function(){J(),I(Object(Ha.a)({loggedIn:!1})),M(!1),on()}),[I,J]);Object(i.useEffect)((function(){p&&d?(Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.b.BindPhone();case 2:ka.b.googlePhoneToken&&I(Object(ti.b)({token:ka.b.googlePhoneToken}));case 3:case"end":return e.stop()}}),e)})))(),J(),M(!ka.b.isGoogle)):M(!1)}),[I,p,J,d]);var $=Object(i.useCallback)((function(){Object(x.i)(I,Ct.e,h,F,v),w(!1)}),[I,v,h,F]);Object(i.useEffect)((function(){w(s)}),[s]),Object(i.useEffect)((function(){var e;!l||b||(null===(e=g.location.pathname)||void 0===e?void 0:e.includes(z))||g.push({pathname:z})}),[g,l,b,r,z]),Object(i.useEffect)((function(){m&&!ka.b.isGoogle&&(sessionStorage.setItem("forcedSignOut",!0),g.push({pathname:z}))}),[g,m,I,z,Q]),Object(i.useEffect)((function(){b&&(I(Object(Ha.a)({loggedIn:!1})),g.push({pathname:z,state:"DELETE"}))}),[z,b,I,g]);var ee=Object(u.jsx)(yi,{imageSrc:Gf,imageClassName:"alert-confirm-image",splitTitle:{MSGTXT2:K,MSGTXT3:V},confirmButtonText:Object(Ce.e)(Y),confirmHandler:$}),te=Object(u.jsx)(yi,{imageSrc:Gf,imageClassName:"alert-confirm-image",title:Object(Ce.e)(G),confirmButtonText:Object(Ce.e)(H),confirmHandler:X,cancelButtonText:Object(Ce.e)(U),cancelHandler:Z});return Object(u.jsxs)(c.a.Fragment,{children:[e.children,R&&Object(u.jsx)(Ri,{classNames:"cart-update-error-modal",CartAlertForm:ee}),k&&Object(u.jsx)(Ri,{classNames:"user-session-expiry-modal",CartAlertForm:te})]})},Kf=function(e){var t,n,a;return(null===e||void 0===e?void 0:e.fulfillmentDateTime)&&(null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.phoneNumber)&&(null===e||void 0===e||null===(n=e.foodLines)||void 0===n?void 0:n.length)&&(null===e||void 0===e?void 0:e.subTotal)&&(null===e||void 0===e?void 0:e.total)&&(null===e||void 0===e||null===(a=e.paymentReferences)||void 0===a?void 0:a.length)&&(null===e||void 0===e?void 0:e.posOrderId)&&(null===e||void 0===e?void 0:e.service)},Vf=function(){var e=Object(i.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(N.c)((function(e){return e})),s=r.tenantReducer,d=r.profileReducer,l=r.postOrderReducer,b=(void 0===l?{}:l).orderAccepted,v=void 0===b?{}:b,O=Object(N.b)(),m=Object(o.f)(),f=Object(o.h)().order_id,p=function(){c(!1),m.push({pathname:T.hb.ORDER_DETAILS})};Object(i.useEffect)((function(){var e={tenantId:null===s||void 0===s?void 0:s.tenantId,orderId:f,customerId:null===d||void 0===d?void 0:d.customerId};(null===s||void 0===s?void 0:s.tenantId)&&O(Object(tn.a)(e,(function(e){var t;(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toUpperCase())===T.ab.SENT_TO_POS_COMPLETED&&Kf(e)?c(!0):p()}),p))}),[null===s||void 0===s?void 0:s.tenantId,null===d||void 0===d?void 0:d.customerId]);var h={role:"dialog",modalTitleId:"order-details-modal",show:!0,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,closeButtonHandler:function(){c(!1),m.push({pathname:T.hb.HOME_PAGE})},modalTitle:Object(Ce.e)("orderReceipt"),showBackBtn:!1,closeDataTestId:"close-order-details-modal",id:"OrderDetailsModal",autoFocus:!0};return Kf(v)&&n?Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},h),{},{children:Object(u.jsx)("div",{"data-testid":"order-details-receipt-modal",className:"ReceiptModal",children:Object(u.jsx)(rb,{orderItem:v})})})):null},Wf=function(e){var t=Object(N.b)(),n=Object(N.c)((function(e){return e.tenantReducer})),a=Object(i.useContext)(E.a),c=a.userOrderState,o=a.userOrderStateDispatch,r=(Object(x.Cb)(c.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===c||void 0===c?void 0:c.dispositionNew)||{},s=r.type,d=void 0===s?"":s,l=r.store,b=l&&l.summary&&l.summary.menu&&l.summary.menu.catalogs&&l.summary.menu.catalogs.length&&l.summary.menu.catalogs[0]||(null===n||void 0===n?void 0:n.genericMenuName)||"",v={CLEAR_ALL_MSG:{MSGTXT1:Object(Ce.e)("cartError_explore"),MSGTXT2:Object(Ce.e)("outOfStock"),MSGTXT3:Object(Ce.e)("cartError_sorryFoodNotAvailable")},CONTINUE:Object(Ce.e)("continue")},j=function(){o({type:Ae.a.SHOW_CART_ERROR_MODAL,value:{showCartErrorModal:!1}}),t(Object(Ct.d)({type:Ae.a.CART_DATA_ERROR_RESET})),t(Object(pi.d)({tenantId:null===n||void 0===n?void 0:n.tenantId,catalogName:b},{storeId:l.id,channel:He,service:d}))};return Object(u.jsx)(u.Fragment,{children:!0===(null===c||void 0===c?void 0:c.showCartErrorModal)&&Object(u.jsx)(Ri,{handleClose:j,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(yi,{splitTitle:v.CLEAR_ALL_MSG,imageSrc:cl,altText:"cart-error",confirmButtonText:"Continue",confirmHandler:j})})})},qf={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},zf=n(740),Qf=n(739),Jf=function(e){var t=e.children,n=e.id,a=e.title,i=e.placement,c=void 0===i?"top":i;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(zf.a,{placement:c,overlay:Object(u.jsx)(Qf.a,{id:"tooltip-".concat(n),children:a}),children:t},n)})},Xf=function(e){return(null===e||void 0===e?void 0:e.filter((function(e){return null===e||void 0===e?void 0:e.isDefault})))[0]};function Zf(e){var t=e.pdpData,n=e.getDname,a=e.veg,i=e.Non_veg_dot_Icon,o=e.Veg_dot_Icon,r=e.modgrps,s=e.customizable,d=e.isActive,l=e.itemStatus,b=e.IS_OUT_OF_STOCK,v=e.setAsActiveLink,j=e.PDPEditIconDisabled,O=e.PDPEditIcon,m=e.isMobile,f=e.quantityUpdateTemplate,p=e.addToCartTemplate,h=e.makeItComboHandler,g=e.isIpad,N=e.comboData,E=r.length>0&&s&&function(e){return e.map((function(e){return!e.isHidden&&Object(u.jsxs)("div",{className:"pdp-receipt-modGrp-container".concat(d===e.id?" activeGroup":""),children:[d===e.id?Object(u.jsx)("span",{className:"arrowed"}):null,Object(u.jsxs)("span",{className:"pdp-receipt-modgrp",children:[Object(x.jc)(n(e),14,g)," :"]}),Object(u.jsx)(Jf,{id:e.id,placement:"top",title:n(Xf(e.modifiers)),children:Object(u.jsx)("span",{className:"pdp-receipt-modifiers",children:Object(x.jc)(n(Xf(e.modifiers)),16,g)})}),Object(u.jsx)("a",{className:"editIcon","data-testid":"set-active-link-handler-".concat(e.id),onClick:function(t){return v(t,e.id)},disabled:l===b&&!0,children:Object(u.jsx)("img",{className:"pdp-summary-edit-icon",src:l===b?j:O})})]},e.id)}))}(r),I=!s&&Object(u.jsxs)("div",{className:"d-flex item_details",children:[Object(u.jsxs)("label",{children:[Object(Ce.e)("mainEntree"),":"]}),Object(u.jsx)(Jf,{id:"entree",placement:"top",title:n(t),children:Object(u.jsx)("span",{children:Object(x.jc)(n(t),26,g)})})]}),T=m?Object(u.jsxs)("div",{className:"pdp-mobile-quantity-price fixedDiv",children:[Object(u.jsx)("div",{className:"pdp-quantity-block",children:f()}),p()]}):Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"pdp-quantity-block",children:[Object(u.jsx)("label",{className:"qty",children:Object(Ce.e)("quantity")}),f()]}),p()]}),C=Object(x.r)(!s,N>0)&&Object(u.jsx)(ds.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(u.jsx)(Za.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:h,children:Object(u.jsx)("span",{children:Object(Ce.e)("makeItACombo")})})});return Object(u.jsx)("div",{className:"pdp-receipt-card",children:Object(u.jsxs)("form",{className:"pdp-receipt-form",children:[Object(u.jsx)("div",{className:"pdp-receipt-header",children:n(t)}),Object(u.jsx)("img",{className:"pdp-summary-vegOrNonVeg-icon",src:a?o:i}),Object(u.jsxs)("div",{className:"pdp-receipt-veg",children:[a?Object(Ce.e)("veg"):Object(Ce.e)("nonveg")," \u2022 Serves 4"]}),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"pdp-receipt-list",children:[E,I]}),T,C]})]})})}var $f=c.a.memo(Zf),ep=n.p+"static/media/PDPEditIcon.8cbb7590.svg",tp=n.p+"static/media/PDPEditIconDisabled.ec35a770.svg",np=function(e){return(null===e||void 0===e?void 0:e.dname)&&(null===e||void 0===e?void 0:e.dname[0])?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name"},ap=function(e){var t,n=e.pdpData,a=e.addtoCartClinckHandler,c=e.customModGrps,o=void 0===c?{}:c,r=e.modifiedPrice,s=e.categoryId,d=e.isIpad,l=e.comboData,b=n||{},v=b.id,O=b.additionalProperties,m=void 0===O?{}:O,f=b.customizable,p=void 0!==f&&f,h=b.availability,g=b.modgrps,I=ur.ITEM_QUANTITY,T=Fn.a.QUANTITY_ACTION,C=hi.a.EXPAND_ACCORDIAN,S=hi.a.IS_OUT_OF_STOCK,A=hi.a.IS_IN_STOCK,y=Object(i.useState)(Object(x.Ib)(window.innerWidth)),D=Object(j.a)(y,2),_=D[0],R=D[1],w=Object(i.useState)(),P=Object(j.a)(w,2),L=P[0],k=P[1],M=Object(i.useState)(1),F=Object(j.a)(M,2),H=F[0],U=F[1],B=Object(i.useState)(A),G=Object(j.a)(B,2),Y=G[0],K=G[1],V=Object(N.b)(),W=Object(N.c)((function(e){return e.tenantReducer})),q=Object(N.c)((function(e){return e.appStateReducer.userStatus})),z=(Object(N.c)((function(e){return e.cartReducer}))||{}).cartData,Q=void 0===z?{}:z,J=(null!==(t=null===W||void 0===W?void 0:W.componentOptions)&&void 0!==t?t:{}).web,X=(J=void 0===J?{}:J).global,Z=(X=void 0===X?{}:X).showPriceWithTax,$=void 0!==Z&&Z,ee=m.veg,te=function(){var e=Object(x.Ib)(window.innerWidth);R(e)},ne=Object(i.useContext)(E.a),ae=ne.userOrderState,ie=ne.userOrderStateDispatch,ce=ae.pdpScreenCommons.currentAccordian;Object(i.useEffect)((function(){Object(x.r)(null===o||void 0===o?void 0:o.length,null===g||void 0===g?void 0:g.length)&&k(g[0].id)}),[o,g]),Object(i.useEffect)((function(){window.addEventListener("resize",te)}),[_]);var oe=function(e,t){if(Y===S)return!1;e&&(e.preventDefault(),e.stopPropagation()),ie({type:C,value:t});var n=document.getElementById("accordion-"+t);null===n||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),k(t)};Object(i.useEffect)((function(){return function(){ie({type:C,value:""})}}),[]),Object(i.useEffect)((function(){ce&&oe(null,ce)}),[ce]);var re=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),q.localized){e.next=5;break}a(),e.next=9;break;case 5:return n=Object(x.mb)(p,o,[]),e.next=8,V(Object(Ct.a)({params:{basketId:Q.id},tenantId:null===W||void 0===W?void 0:W.tenantId},[{Id:v,categoryId:s,quantity:H,modGrps:n}]));case 8:U(1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e,t,n){n.preventDefault(),n.stopPropagation(),t===T.Decrease&&H>1&&U(H-1),t===T.Increase&&U(H+1)},de=function(e,t){var n;if(Object(x.Db)(e)&&(n=Object(x.gb)(e,t,null===W||void 0===W?void 0:W.currencyConversionFactor,$)),p)n=e;else if(0===n)return K(S),Object(Ce.e)("outOfStock");var a=H*n;return"".concat(null===W||void 0===W?void 0:W.currencySymbol," ").concat(Math.round(100*a)/100)};return Object(x.Db)(n)?Object(u.jsx)($f,{"data-testid":"pdp-summary-view",pdpData:n,getDname:np,veg:ee,Non_veg_dot_Icon:_s,Veg_dot_Icon:Rs,modgrps:g,customizable:p,isActive:L,itemStatus:Y,IS_OUT_OF_STOCK:S,setAsActiveLink:oe,PDPEditIconDisabled:tp,PDPEditIcon:ep,isMobile:_,isIpad:d,quantityUpdateTemplate:function(){return Object(u.jsx)("div",{className:"quantityAddtocart qty-calc mg-set ".concat(H?"cardwithQuantity "+q.loggedIn:"cardwithNoquantity"),children:Object(u.jsx)(ss,{itemCount:H,itemQuantity:I,updateItemQuantity:se,quantityAction:T,item:void 0,itemName:np(n),maxItemCountPerLineItem:null===W||void 0===W?void 0:W.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})},addToCartTemplate:function(){return Object(u.jsx)(Za.a,{tabIndex:"1",className:"button redButton pdp-cart-button","data-testid":"add-to-cart-handler",onClick:function(e){return re(e)},disabled:Y===S,children:Y===S?Object(u.jsx)("span",{className:"outofstock",children:Object(Ce.e)("outOfStock")}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:Object(Ce.e)("addToCart")}),h&&h.length&&Object(u.jsx)("span",{children:Object(x.mb)(p,de(r),de(h[0],null===m||void 0===m?void 0:m.pricewithouttax))})]})})},makeItComboHandler:function(e){if(Y===S)return!1;e.preventDefault()},comboData:l}):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(Ce.e)("turnedNoResult")})},ip=function(e){var t=e.shortDescription,n=e.longDescription,a=e.isMobile,c=e.tenantData,o=hi.a.SHORT,r=hi.a.READ_MORE,s=hi.a.READ_LESS,d=hi.a.LONG,l=hi.a.INDIA,b=hi.a.MAX_LENGTH_READ,v=Object(i.useState)(""),O=Object(j.a)(v,2),m=(O[0],O[1]),f=Object(i.useState)(""),p=Object(j.a)(f,2),h=p[0],g=p[1],N=Object(i.useState)(o),E=Object(j.a)(N,2),I=E[0],T=E[1];Object(i.useEffect)((function(){t&&t.length&&m(t[0].value)}),[t]),Object(i.useEffect)((function(){n&&n.length&&g(n[0].value)}),[n]);var S=function(){T(I===o?d:o)};return Object(u.jsxs)("div",{className:"pdp-desc",children:[Object(u.jsx)("div",{className:"d-flex mb-4",children:Object(u.jsx)(C.a,{srcFile:La,className:"stripes-img"})}),Object(u.jsxs)("span",{className:"pdp-desc-header",children:[" ",cp(Ce.e,c,l)," "]}),a?Object(u.jsxs)("div",{className:"desc-box",children:[I===o?Object(x.jc)(h,b,!1):h,Object(u.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:S,children:I===o?Object(Ce.e)(r):Object(Ce.e)(s)})]}):Object(u.jsx)("div",{className:"desc-box",children:h})]})};function cp(e,t,n){return(null===t||void 0===t?void 0:t.country)===n?e("insideYourMeal"):e("mealOptions")}var op=function(e){var t=e.redirectLink,n=Object(i.useState)(!1),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1];Object(i.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop;o(!(e<100)),l(e<=0?0:e)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[d]);return Object(u.jsxs)(M,{href:t,className:"".concat(c?"floating view_menu_link":"view_menu_link"),spy:!0,"data-testid":"viewMenu-test-id",children:[Object(u.jsxs)("span",{className:"grid-icon grid-icon--line2",children:[Object(u.jsxs)("span",{class:"layer layer--primary",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("span",{class:"layer layer--secondary",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]})]}),Object(u.jsx)("label",{className:"view_menu",children:function(){var e=Object(Ce.e)("view"),t=Object(Ce.e)("menuTitle");return"".concat(e," ").concat(t)}()})]})},rp=function(e,t,n,a){return Object(u.jsxs)(u.Fragment,{children:[!e&&Object(u.jsx)(op,{redirectLink:"/menu"}),Object(u.jsx)(C.a,{defaultPath:Object(x.R)(null,n,!0),srcFile:Object(x.R)(t.imageName,n),className:"".concat(a?"pdp-product-mobile-image":"pdp-product-image")})]})},sp=function(e){var t=e.productDetails,n=e.tenantData,c=e.isMobile,o=e.displayBreadcrumbPDP,r=e.isIpad,s=e.product_name,d=Ae.a.ADD_TO_CART_CLICK,l=Ae.a.DISPOSITION_DATA,b=hi.a.CUSTM_EXPAND_TYPE,v=hi.a.MAKE_IT_COMBO_HEADER,O=hi.a.MAKE_IT_COMBO_SUBHEADER,m=hi.a.UPSELL,f=hi.a.CROSSELL,p=hi.a.PDP,h=Qr,g=Object(x.ub)(t).isFromPlp,I=void 0!==g&&g,T=Object(i.useState)({}),C=Object(j.a)(T,2),S=C[0],A=C[1],y=Object(i.useState)(),D=Object(j.a)(y,2),_=D[0],R=D[1],w=Object(i.useState)(0),P=Object(j.a)(w,2),L=P[0],k=P[1],M=Object(i.useState)([]),F=Object(j.a)(M,2),H=F[0],U=F[1],B=Object(i.useState)([]),G=Object(j.a)(B,2),Y=G[0],K=G[1],V=Object(i.useState)({}),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=Object(i.useContext)(E.a).userOrderStateDispatch,J=Object(N.c)((function(e){return e.menuReducer.currentItemDetails}));Object(i.useEffect)((function(){Q({type:b,value:"single"})}),[]),Object(i.useEffect)((function(){if(Object(x.r)(Object(x.Db)(J),(null===J||void 0===J?void 0:J.url)===s)){var e=J.additionalProperties,n=Object(x.Nb)(e)||{};A(Object(a.a)(Object(a.a)({},J),{},{additionalProperties:n,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:t.catalogName,itemId:t.productId}));var i=function(e,t,n){var a={combo:[],recommendation:[]};if(Object(x.ab)(e)){var i=e.find((function(e){return e.recommendationType===t})),c=e.find((function(e){return e.recommendationType===n}));a.combo=Object(x.mb)(Object(x.Db)(i),null===i||void 0===i?void 0:i.recommendedItems,[]),a.recommendation=Object(x.mb)(Object(x.Db)(c),null===c||void 0===c?void 0:c.recommendedItems,[])}return a}(null===J||void 0===J?void 0:J.recommendationRules,m,f);U(i.combo),K(i.recommendation),z(J)}}),[JSON.stringify(J)]);var X=function(e,t,a,i,c){return Object(u.jsx)(tl,{products:t,country:null===n||void 0===n?void 0:n.country,cssClass:c,header:a,subHeader:i,recommendedRule:e,source:p})},Z=function(){Q({type:l,value:{showDisposition:!0}}),Q({type:d,value:{addToCart:!0,productItemId:t.productId,categoryId:t.categoryId,oldProduct:t.productInfo,customizable:t.customizable,catalogs:t.catalogName,fromPdpPage:!0}})},$=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(ap,{pdpData:S,isMobile:c,isIpad:r,addtoCartClinckHandler:Z,customModGrps:_,modifiedPrice:L,categoryId:t.categoryId,comboData:null===H||void 0===H?void 0:H.length})})};return Object(x.Db)(S)&&Object(x.Db)(q)&&Object(x.Db)(n)?Object(u.jsxs)(u.Fragment,{children:[!c&&Object(u.jsx)("div",{className:"pdp-navigation",children:o}),Object(u.jsxs)("div",{className:"".concat(c?"pdp-mobile-container ":"pdp-details-container"),children:[!c&&Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("div",{className:"image-container",children:rp(I,S,n,c)}),q.modgrps&&$()]}),c&&Object(u.jsxs)("div",{className:"pdp-mobile-image-container",children:[rp(I,S,n,c),Object(u.jsx)("div",{className:"pdp-mobile-navigation",children:o}),q.modgrps&&$()]})]}),Object(u.jsx)("div",{className:"pdp-desc-container ".concat(c?"mobile":""),children:!!Object(x.Db)(q)&&Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(ip,{shortDescription:q.shortDescription,longDescription:q.longDescription,isMobile:c,tenantData:n})})}),S.customizable&&Object(u.jsx)("div",{className:"pdp-custm-container ".concat(c?"mobile":""),children:Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(_d,{data:q,isModal:!1,showPriceContent:!1,isMobile:c,callBackToPDP:function(e){var t=e.modifierGrp,n=void 0===t?{}:t,a=e.modifiedItemPrice,i=void 0===a?0:a;R(n),k(i)},source:p})})}),Object(x.r)((null===H||void 0===H?void 0:H.length)>0,!q.customizable)&&X(m,H,Object(Ce.e)(v),Object(Ce.e)(O),"pdp-combo"),(null===Y||void 0===Y?void 0:Y.length)>0&&X(f,Y,h,"","pdp-recommendations")]}):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(Ce.e)("turnedNoResult")})},dp=function(e,t,n,a){var i,c,o,r,s,d,l=null!==(i=null===n||void 0===n||null===(c=n.categoryMapById)||void 0===c?void 0:c[e])&&void 0!==i?i:{},u=l?Object(x.K)(l,n,[null===l||void 0===l?void 0:l.name],a):"",b=null!==(o=null===n||void 0===n||null===(r=n.itemMapById)||void 0===r?void 0:r[t])&&void 0!==o?o:{};return Object(x.r)(l,b)?"".concat(u," > ").concat(null===b||void 0===b||null===(s=b.dname)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.value):""},lp=function(e,t,n,a,i,c,o,r,s,d){return Object(u.jsx)("div",{className:"pdp-container",children:e&&(null===t||void 0===t?void 0:t.tenantId)&&Object(u.jsx)(sp,{tenantData:t,isIpad:d,productDetails:e,isMobile:n,displayBreadcrumbPDP:dp(a,i,o,s),isStoreClosed:r,product_name:c})})},up=function(e){var t,n,c,r,s,d=e.tenantData,l=e.contentData,b=e.match,v=e.history,O=e.setStoreClosedInfo,m=b.params,p=m.category_name,h=void 0===p?"":p,g=m.product_name,T=void 0===g?"":g,C=l.storeInfo,S=l.dispositionType,A=l.selectedDate,y=l.selectedTime,D=d.tenantId,_=d.currencyConversionFactor,R=d.country,w=hi.a.SET_PDP_DEEPLINK_MODE,P=hi.a.RESET_MODGROUP_IDS_UPDATE,L=hi.a.YYYYMMDD,k=hi.a.YYYYMMDD_hhmm_A,M=Ae.a.PLP_PDP_DETAILS,F=Ae.a.MENU_URL,H=Ae.a.CLOSED,U=Object(i.useContext)(E.a),B=U.userOrderStateDispatch,G=U.userOrderState,Y=G.pdpDeepLinking,K=G.ProductDetails,V=Object(x.ub)(K).isFromPlp,W=void 0!==V&&V,q=Object(i.useState)(Object(x.Ib)(window.innerWidth)),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(Object(x.Gb)()),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(""),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)(""),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useMemo)((function(){return null!==K&&void 0!==K?K:{}}),[K]),le=f.a.SERVICE_CHANNEL,ue=(null===C||void 0===C||null===(t=C.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(c=n.catalogs)||void 0===c?void 0:c[0])||(null===d||void 0===d?void 0:d.genericMenuName)||"",be=(null===C||void 0===C?void 0:C.id)||"",ve=S,je=Object(N.b)(),Oe=null!==(r=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==r?r:{},me=Oe.flatResponse,fe=void 0===me?{}:me,pe=Oe.currentItemDetails,he=void 0===pe?{}:pe,ge=Object(N.c)((function(e){return e.storesReducer})).storesTimeSlots,Ne=Object(i.useState)(!1),xe=Object(j.a)(Ne,2),Ee=xe[0],Ie=xe[1],Te=Object(o.g)(),Se=function(){var e=Object(x.Ib)(window.innerWidth),t=Object(x.Gb)();J(e),ee(t)};Object(i.useEffect)((function(){if(B({type:P}),window.scrollTo(0,0),B({type:w,value:{pdpDeepLinking:!W}}),Object(x.r)(A,y)){var e=Mo(y),t=Object(ye.k)(Object(ye.e)(A,L)+" "+e,k),n={storeid:be,channel:ka.b.channel,service:ve,futureDateTimeInEpochFormat:t};je(Object(ii.g)({data:n,tenantId:D}))}!function(e){if(e){var t,n,a,i=[{item_name:(null===e||void 0===e||null===(t=e.productInfo)||void 0===t||null===(n=t.productName[0])||void 0===n?void 0:n.value)||"NA",item_id:(null===e||void 0===e?void 0:e.productId)||"NA",price:(null===e||void 0===e||null===(a=e.productInfo)||void 0===a?void 0:a.productPrice)||"NA",item_category:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_name:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_id:(null===e||void 0===e?void 0:e.categoryId)||"NA",index:1,quantity:1}];rt(i)}}(de)}),[]),Object(i.useEffect)((function(){if(ge){var e,t,n,i=Object(a.a)(Object(a.a)({},C),{},{summary:ge}),c=Object(x.ub)(null===i||void 0===i||null===(e=i.summary)||void 0===e?void 0:e.timings),o=c.futureDates,r=c.scheduled,s=c.asap,d=Object(x.ub)(r).unavailibilities,l=Object(x.ub)((null===r||void 0===r||null===(t=r.periods)||void 0===t?void 0:t.length)&&(null===r||void 0===r?void 0:r.periods[0])),u=l.interval,b=void 0===u?0:u,j=l.startEndTime,m=void 0===j?{}:j,f=m.from,p=m.to,h=cj(f,p,b,s,o,R,d);(null===ge||void 0===ge||null===(n=ge.status)||void 0===n?void 0:n.currentStatus)!==H||h.length?Ie(!1):(O(i),Ie(!0),v.push({pathname:"".concat(F)}))}}),[ge]),Object(i.useEffect)((function(){(function(e,t,n){return e===(null===n||void 0===n?void 0:n.genericMenuName)||e&&t})(ue,ve,d)&&je(Object(pi.d)({tenantId:D,catalogName:ue},{storeId:be,channel:le,service:ve}))}),[be,ve]),Object(i.useEffect)((function(){if(Object(x.r)(ae===(null===he||void 0===he?void 0:he.id),Y)){var e={productImage:null===he||void 0===he?void 0:he.imageName,productName:null===he||void 0===he?void 0:he.dname,productPrice:Object(x.fb)(null===he||void 0===he?void 0:he.availability[0],_)},t={productId:ae,customizable:null===he||void 0===he?void 0:he.customizable,categoryId:re,catalogName:null===fe||void 0===fe?void 0:fe.catalogName,productInfo:e,isFromPlp:W};B({type:M,value:t})}}),[JSON.stringify(he)]);var De=Object(N.c)((function(e){var t=e.brandPageReducer,n=null!==t&&void 0!==t?t:{},a=n.isBrandPageContentLoading,i=void 0!==a&&a,c=n.response,o=(c=void 0===c?{}:c).headerData;return{isBrandPageContentLoading:i,brandRoutePath:(o=void 0===o?{}:o).routePath}})),_e=De.isBrandPageContentLoading,Re=De.brandRoutePath,we=Object(i.useState)(!1),Pe=Object(j.a)(we,2),Le=Pe[0],ke=Pe[1];return Object(i.useEffect)((function(){if(fe){var e,t,n,a,i=null!==(e=null===fe||void 0===fe||null===(t=fe.itemMapByUrl)||void 0===t?void 0:t[T])&&void 0!==e?e:{},c=null!==(n=null===fe||void 0===fe||null===(a=fe.categoryMapByUrl)||void 0===a?void 0:a[h])&&void 0!==n?n:{};se(null===c||void 0===c?void 0:c.id);var o=null===i||void 0===i?void 0:i.id;ie(o);var r=function(e,t,n,a){var i=e.productDetails,c=e.tenantData,o=e.pdpDeepLinking,r=void 0;if(Object(x.Db)(i)&&Object(x.Db)(c)&&!o)r=i.productId;else if(o){var s,d,l=null===t||void 0===t||null===(s=t.itemMapById)||void 0===s?void 0:s[a],u=null===t||void 0===t||null===(d=t.productMapById)||void 0===d?void 0:d[a];r=(null===u||void 0===u?void 0:u.name)===(null===l||void 0===l?void 0:l.name)&&a}return r}({history:v,productDetails:de,tenantData:d,pdpDeepLinking:Y},fe,0,o);r?je(Object(pi.c)({tenantId:D,catalogName:ue,itemId:r})):Y&&!Le&&(null===Te||void 0===Te?void 0:Te.pathname)&&(ke(!0),je(Object($b.c)({object:Object(I.a)(),contentFull:{content_type:ev.a.Template2,select:"sys.id,fields","fields.routePath":null===Te||void 0===Te?void 0:Te.pathname,include:5}})))}}),[JSON.stringify(fe),Y,Le,null===Te||void 0===Te?void 0:Te.pathname]),Object(i.useEffect)((function(){Le&&!_e&&bs()(Re)&&(v.push({pathname:"".concat(F)}),Object(x.hc)(Object(Ce.e)("exploreFoodItem")))}),[Le,_e,Re]),Object(i.useEffect)((function(){window.addEventListener("resize",Se)}),[ae]),Object(i.useEffect)((function(){window.addEventListener("resize",Se)}),[Q,$]),Re?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(cv,Object(a.a)({routePath:null===Te||void 0===Te?void 0:Te.pathname,hideNav:!0},e)),";"]}):Object(u.jsxs)(u.Fragment,{children:[lp(de,d,Q,re,ae,T,fe,Ee,ue,$),G.addToCart&&G.isLocalized&&G.fromPdpPage&&Object(u.jsx)(Xb,{flatResponse:fe,tenantReducer:d}),(null===(s=G.cartAlertData)||void 0===s?void 0:s.showCartAlert)&&Object(u.jsx)(Zb,{})]})},bp=function(e){var t,n,r,s=Object(i.useContext)(E.a),d=s.userOrderState,l=s.userOrderStateDispatch,b=Object(N.c)((function(e){return e.tenantReducer})),v=(null!==(r=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==r?r:{}).flatResponse,O=(v=void 0===v?{}:v).categoryMapByUrl,m=void 0===O?{}:O,f=v.itemMapByUrl,p=void 0===f?{}:f,h=Object(o.h)(),g=h.category_name,I=h.product_name,C=Object(i.useState)(T.fb),S=Object(j.a)(C,2),A=S[0],y=S[1],D=Object(i.useState)(),_=Object(j.a)(D,2),R=_[0],w=_[1],P=Object(x.Cb)(d.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):d.dispositionNew,L=Object(i.useMemo)((function(){var e,t;return{tenantReducer:null!==b&&void 0!==b?b:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:null!==(e=null===P||void 0===P?void 0:P.store)&&void 0!==e?e:{},selectedDate:null===P||void 0===P?void 0:P.date,selectedTime:null===P||void 0===P?void 0:P.time,dispositionType:Object(x.H)((null===P||void 0===P?void 0:P.type)||(null===(t=b.authoredContent)||void 0===t?void 0:t.defaultdisposition)),selectedTile:(null===d||void 0===d?void 0:d.selectedTile)||JSON.parse(localStorage.getItem("selectedTile"))}}),[P,b,d]),k=null,M=null,F=null,H=qf.DISPOSITION,U=Object(N.b)(),B=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){U(pb(b))}),[U,null===b||void 0===b?void 0:b.country]),Object(i.useEffect)((function(){U(hb(B))}),[U,B]),Object(i.useEffect)((function(){var e,t=null!==(e=function(e,t,n,a,i){var c=null===t||void 0===t?void 0:t[a],o=null===n||void 0===n?void 0:n[i];if(c&&o){var r,s,d,l=null!==o&&void 0!==o?o:{},u=l.dname;u=void 0===u?[]:u;var b=Object(j.a)(u,1)[0],v=(b=void 0===b?{}:b).value,O=l.shortDescription;O=void 0===O?[]:O;var m=Object(j.a)(O,1)[0],f=(m=void 0===m?{}:m).value,p=l.longDescription;p=void 0===p?[]:p;var h=Object(j.a)(p,1)[0],g=(h=void 0===h?{}:h).value,N=l.imageName,E=void 0===N?[]:N,I=T.fb,C=(null!==c&&void 0!==c?c:{}).dname;C=void 0===C?[]:C;var S=Object(j.a)(C,1)[0];return{seoPageName:I,seoObject:{Category:(S=void 0===S?{}:S).value,Product:v,ProductURL:null===(r=window)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.href,ProductDescription:null!==(d=null!==g&&void 0!==g?g:f)&&void 0!==d?d:v,ProductImage:Object(x.R)(E,e)}}}}(b,m,p,g,I))&&void 0!==e?e:{},n=t.seoPageName,a=t.seoObject;y(n),w(a)}),[g,I]);var G=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantReducerContent:e.tenantReducer}}));if(G.marketPageContent&&G.tenantReducerContent&&G.homePageContent){k=Object(x.U)(G.homePageContent)||null;var Y=G.marketPageContent.headerData||{},K=Y.header,V=void 0===K?{}:K,W=Y.tenant,q=void 0===W?[]:W,z=Y.footer,Q=void 0===z?{}:z;M=Object(x.V)(V),F=Object(x.N)(Q),Object(x.kb)(q)}return Object(u.jsxs)(c.a.Fragment,{children:[A&&Object(u.jsx)(zr,{page:A,seoObj:R}),M&&Object(u.jsx)(ni,{contentData:M,tenantReducerData:G.tenantReducerContent,userParams:B}),Object(u.jsx)(Wo,{contentData:{segmentedHomePageData:null===(t=k)||void 0===t?void 0:t[H],contentDispositionData:null===(n=k)||void 0===n?void 0:n[H]},userParams:B}),Object(u.jsx)(up,Object(a.a)(Object(a.a)({tenantData:b,contentData:L},e),{},{setStoreClosedInfo:function(e){Object(x.ec)(e,l,P,Object(x.F)(L.dispositionType))}})),F&&Object(u.jsx)(ha,{history:e.history,contentData:F,tenantReducerData:G.tenantReducerContent}),d.showCartClearAlert&&Object(u.jsx)(ol,{})]})},vp={"/cart":T.gb.CART,"/offers":T.gb.OFFERS,"/login":T.gb.LOGIN,"/help":T.gb.HELP,"/checkout":T.gb.CHECKOUT,"/payment-failure":T.gb.PAYMENT_FAILURE,"/payment-success":T.gb.PAYMENT_SUCCESS,"/payment-status-check":T.gb.PAYMENT_STATUS,"/ourads":T.gb.OUR_ADDS,"/contactus":T.gb.CONTACT_US,"/terms-of-use":T.gb.TERMS_OF_USE,"/terms-and-conditions":T.gb.TERMS_CONDITIONS,"/faq":T.gb.FAQ,"/giftcards":T.gb.GIFT_CARD,"/privacypolicy":T.gb.PRIVACY_POLICY,"/signout":T.gb.SIGN_OUT,"/account":T.gb.ACCOUNT},jp=function(e){var t,n,c,o=Object.assign({},e),r=Object(i.useState)(""),s=Object(j.a)(r,2),d=s[0],l=s[1],b=null===(t=window)||void 0===t||null===(n=t.location)||void 0===n||null===(c=n.pathname)||void 0===c?void 0:c.trim().toLowerCase();return Object(i.useEffect)((function(){var e,t=null===vp||void 0===vp?void 0:vp[b],n=t&&Object(Ce.e)(t),a=null!==(e=null!==n&&void 0!==n?n:Object(O.startCase)(b))&&void 0!==e?e:T.Q;l(a)}),[b]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Kr.a,{children:Object(u.jsx)("title",{children:d})}),Object(u.jsx)(L.a,Object(a.a)({},o))]})},Op=n(393),mp=n.n(Op),fp=n(394),pp=n.n(fp),hp=ev.a.Template1,gp=ev.a.Template2,Np=function(e){var t,n=Object.assign({},e),c=Object(o.g)(),r=Object(N.b)(),s=null!==(t=Object(N.c)((function(e){var t=e.contentReducer,n=(t=void 0===t?{}:t).navigationLinkResponse,a=(n=void 0===n?{}:n).fields,i=void 0===a?[]:a,c=t.isContentfulLoading;return{fields:i,isLoading:void 0===c||c}})))&&void 0!==t?t:{},d=Object(i.useState)(!0),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(null),m=Object(j.a)(O,2),f=m[0],h=m[1],g=Object(i.useState)(null),x=Object(j.a)(g,2),E=x[0],T=x[1],C=Object(i.useState)(!1),S=Object(j.a)(C,2),A=S[0],y=S[1],D=Object(i.useState)(!0),_=Object(j.a)(D,2),R=_[0],w=_[1];return Object(i.useLayoutEffect)((function(){r(Object(p.d)({cmsClient:Object(I.a)(),query:{content_type:"navigationLink",select:"sys.id,fields.brandPageTemplate,fields.internalurl","fields.brandPageTemplate[in]":"".concat(hp,",").concat(gp),include:"5"}}))}),[r]),Object(i.useEffect)((function(){T(function(e,t){var n=e;if((null===e||void 0===e?void 0:e.includes("/true"))||(null===e||void 0===e?void 0:e.includes("/false"))){var a,i=null!==(a=null===e||void 0===e?void 0:e.includes("/true"))&&void 0!==a?a:!(null===e||void 0===e?void 0:e.includes("/false"));t(i),n=(null===e||void 0===e?void 0:e.split("/".concat(i)))[0]}return n}(null===c||void 0===c?void 0:c.pathname,y)),w(!0)}),[null===c||void 0===c?void 0:c.pathname]),Object(i.useEffect)((function(){if(!bs()(null===s||void 0===s?void 0:s.fields)&&!bs()(E)&&R){var e;w(!1);var t=null!==(e=mp()(pp()(null===s||void 0===s?void 0:s.fields,"internalurl"),"brandPageTemplate"))&&void 0!==e?e:{},i=function(e,t,n,i){if(!bs()(i))return Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},e),{},{render:function(e){return i===hp?Object(u.jsx)(nv,Object(a.a)({routePath:t,hideNav:n},e)):i===gp?Object(u.jsx)(cv,Object(a.a)({routePath:t,hideNav:n},e)):void 0}}))}(n,E,A,null===t||void 0===t?void 0:t[E]);h(i),v(!1)}}),[R,null===s||void 0===s?void 0:s.fields,E]),b?Object(u.jsx)(Qj.a,{isInProgress:!0}):f?Object(u.jsx)(u.Fragment,{children:f}):Object(u.jsx)(o.a,{component:Pj})},xp=WO((function(e){var t=Object(N.b)(),n=Object(N.c)((function(e){return e})),c=n.tenantReducer,o=n.orderReducer;return Object(i.useEffect)((function(){Object(MO.t)(t)}),[]),Object(i.useEffect)((function(){if(null===c||void 0===c?void 0:c.tenantId){var e=window.location.search.split("?")[1],n=new URLSearchParams(e),i=Object.fromEntries(n.entries());Object(MO.b)(t,Object(a.a)({tenantId:null===c||void 0===c?void 0:c.tenantId},i))}}),[null===c||void 0===c?void 0:c.tenantId]),Object(i.useEffect)((function(){var t;if((null===c||void 0===c?void 0:c.tenantId)&&(null===o||void 0===o?void 0:o.pastOrderResponse)&&(null===o||void 0===o||null===(t=o.pastOrderResponse)||void 0===t?void 0:t.length)){var n=null===o||void 0===o?void 0:o.pastOrderResponse[0];(null===n||void 0===n?void 0:n.id)?(localStorage.setItem(T.S.ORDER_TRACKING,JSON.stringify(Object(MO.w)(null===c||void 0===c?void 0:c.tenantId,n,!0))),Object(x.ac)(e)):(console.error(JSON.stringify(n)),Object(x.Zb)(e))}}),[null===c||void 0===c?void 0:c.tenantId,null===o||void 0===o?void 0:o.pastOrderResponse]),Object(u.jsx)("div",{className:"PostPaymentProcessComponent",children:Object(u.jsx)(Xj,{showLoader:"false"})})})),Ep=function(e){var t,n;return(null===e||void 0===e?void 0:e.orderHistoryReducer)&&(null===e||void 0===e||null===(t=e.orderHistoryReducer)||void 0===t?void 0:t.activeOrderHistory)&&(null===e||void 0===e||null===(n=e.orderHistoryReducer)||void 0===n?void 0:n.activeOrderHistory.map((function(t){return Object(u.jsxs)("div",{className:"active-orders-panel col-12 col-lg-7",children:[Object(u.jsx)("div",{class:"circle-top-left"}),Object(u.jsxs)("div",{className:"active-orders-details",children:[Object(u.jsx)("div",{className:"active-orders-details-info col-12",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getTitle(t)})}),Object(u.jsxs)("div",{className:"active-orders-details-panel col-12",children:[Object(u.jsx)("div",{className:"active-orders-details-panel-info col-12 col-lg-8",children:Object(u.jsx)("span",{className:"col-12",children:null===e||void 0===e?void 0:e.getInfo(t)})}),Object(u.jsx)("div",{className:"active-track-order-btn col-12 col-lg-4",children:Object(u.jsx)(Ot.a,{"data-testid":"active-track-order-button",className:"button col-12","aria-label":null===e||void 0===e?void 0:e.getBtnTxt(t),onClickHandler:function(){return null===e||void 0===e?void 0:e.onTrackOrderBtnClickHandler(t)},id:"activeTrackOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getBtnTxt(t)})})})]}),Object(u.jsx)("div",{className:"active-orders-details-add-info col-12",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getAdditionalInfo(t)})})]}),Object(u.jsx)("div",{class:"circle-bottom-right"})]})})))},Ip=c.a.memo(Ep),Tp="currentOrders",Cp="orderHash",Sp="orderGettingReady",Ap="yourOrderIsScheduled",yp="pickupDetails",Dp="scheduled",_p="trackDelivery",Rp="trackOrder",wp="scheduledTime",Pp="readyForPickup",Lp=WO((function(e){var t,n=Object(N.c)((function(e){return e})),c=n.tenantReducer,o=n.orderHistoryReducer,r=n.profileReducer,s=Object(i.useCallback)((function(e){var t,n="";return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?n=Object(x.bc)(Object(Ce.e)(Dp)):Object(x.bc)(null===e||void 0===e?void 0:e.service)!==T.A.DELIVERY&&Object(x.bc)(null===e||void 0===e?void 0:e.service)!==T.A.PICKUP||(n=Object(x.bc)(null===e||void 0===e?void 0:e.service)),"".concat(n," ").concat(Object(x.bc)(Object(Ce.e)(Cp))," ").concat(null===e||void 0===e?void 0:e.posOrderId)}),[]),d=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Ce.e)(Ap):Object(x.bc)(null===e||void 0===e?void 0:e.service)===T.A.DELIVERY||Object(x.bc)(null===e||void 0===e?void 0:e.service)===T.A.PICKUP?Object(Ce.e)(Sp):void 0}),[]),l=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Ce.e)(Rp):Object(x.bc)(null===e||void 0===e?void 0:e.service)===T.A.DELIVERY?Object(Ce.e)(_p):Object(x.bc)(null===e||void 0===e?void 0:e.service)===T.A.PICKUP?Object(Ce.e)(yp):void 0}),[]),b=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Ce.e)(wp):Object(x.bc)(null===e||void 0===e?void 0:e.service)===T.A.PICKUP?Object(Ce.e)(Pp):void 0}),[]),v=Object(i.useCallback)((function(t){var n=Object(a.a)(Object(a.a)({},t),{},{customer:null===r||void 0===r?void 0:r.basic}),i=Object(MO.w)(null===c||void 0===c?void 0:c.tenantId,n);i.postOrderDetails={},localStorage.setItem(T.S.ORDER_TRACKING,JSON.stringify(i)),Object(x.ac)(e)}),[]);return Object(u.jsxs)("div",{className:"active-orders col-12",children:[Object(u.jsxs)("div",{className:"active-orders-title col-12",children:[Object(u.jsx)("img",{src:Us.Strips,alt:"Red Strip",class:"account-icon"}),Object(u.jsx)("h4",{class:"currentStatus",children:"".concat(Object(Ce.e)(Tp)," (").concat(null===o||void 0===o||null===(t=o.activeOrderHistory)||void 0===t?void 0:t.length,")")})]}),Object(u.jsx)("div",{className:"active-orders-list col-12",children:Object(u.jsx)(Ip,{orderHistoryReducer:o,getTitle:s,getInfo:d,getBtnTxt:l,getAdditionalInfo:b,onTrackOrderBtnClickHandler:v})})]})}));t.a=function(){return Object(u.jsxs)(jp,{children:[Object(u.jsx)(v,{children:Object(u.jsx)(Yf,{children:Object(u.jsx)("div",{style:{backgroundColor:ev.b.WHITE},children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(u.jsx)(mb,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/qrhome",render:function(e){return Object(u.jsx)(mb,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/menu/:category_name?",render:function(e){return Object(u.jsx)(mv,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/menu/:category_name?/:product_name?",render:function(e){return Object(u.jsx)(bp,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/cart",render:function(e){return Object(u.jsx)(uj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/offers",render:function(e){return Object(u.jsx)(Tv,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/help",render:function(e){return Object(u.jsx)(ef,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/checkout",render:function(e){return Object(u.jsx)(Sj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-failure",render:function(e){return Object(u.jsx)($O,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-success",render:function(e){return Object(u.jsx)(VO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-status-check",render:function(e){return Object(u.jsx)(QO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/ourAds",render:function(e){return Object(u.jsx)(zj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/contactus",render:function(e){return Object(u.jsx)(Vm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/terms-of-use",render:function(e){return Object(u.jsx)(Jm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/terms-and-conditions",render:function(e){return Object(u.jsx)(Jm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/faq",render:function(e){return Object(u.jsx)(vm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/giftcards",render:function(e){return Object(u.jsx)(Am,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/privacyPolicy",render:function(e){return Object(u.jsx)(Bj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/PHRedirection/NavigateToMobileAppGet",render:function(e){return Object(u.jsx)(om,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/signout",render:function(e){return Object(u.jsx)(af,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/track-order",render:function(e){return Object(u.jsx)(xp,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/active-orders",render:function(e){return Object(u.jsx)(Lp,Object(a.a)({},e))}}),Object(u.jsx)(Bf,{path:"/order-details/:order_id",ComponentToRender:Vf}),Object(u.jsx)(Bf,{path:"/account",ComponentToRender:Hf}),Object(u.jsx)(Np,{}),Object(u.jsx)(o.a,{component:Pj})]})})})}),Object(u.jsx)(Qj.a,{}),Object(u.jsx)(Wf,{})]})}},403:function(e,t,n){"use strict";var a=n(1),i=-1,c=1,o=function(e,t){if(!function(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&"visible"===t||"scroll"===t||"auto"===t}(e))return!1;if(t===c)return e.scrollTop+e.clientHeight<e.scrollHeight;if(t===i)return e.scrollTop>0;throw new Error("unsupported direction")},r=function e(t,n){return!!o(t,n)||null!=t.parentElement&&e(t.parentElement,n)},s=(n(464),n(0)),d=function(){return Object(s.jsxs)("div",{className:"lds-ellipsis",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})},l=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"\u21a7\xa0\xa0pull to refresh\xa0\xa0\u21a7"})})},u=n(8),b=(n(466),function(e){if(!e||!e.current)return-1;var t=window.scrollY;return e.current.scrollHeight-t-window.innerHeight}),v=function(e,t){var n,a,c;(t.isDragging=!1,e instanceof MouseEvent&&(t.startY=e.pageY),window.TouchEvent&&e instanceof TouchEvent)&&(t.startY=null===(c=e.touches[0])||void 0===c?void 0:c.pageY);return t.currentY=t.startY,"touchstart"===e.type&&r(e.target,i)||(null===(n=t.childrenRef)||void 0===n||null===(a=n.current)||void 0===a?void 0:a.getBoundingClientRect().top)<0||(t.isDragging=!0),t};t.a=function(e){var t=e.isPullable,n=void 0===t||t,i=e.canFetchMore,c=void 0!==i&&i,o=e.onRefresh,r=void 0===o?u.Hb:o,j=e.onFetchMore,O=void 0===j?u.Hb:j,m=e.refreshingContent,f=void 0===m?Object(s.jsx)(d,{}):m,p=e.pullingContent,h=void 0===p?Object(s.jsx)(l,{}):p,g=e.children,N=void 0===g?u.Gb:g,x=e.pullDownThreshold,E=void 0===x?67:x,I=e.fetchMoreThreshold,T=void 0===I?100:I,C=e.maxPullDownDistance,S=void 0===C?95:C,A=e.backgroundColor,y=e.className,D=void 0===y?"ptr-def":y,_=e.dataTestId,R=void 0===_?"ptr-component":_,w=Object(a.useRef)(null),P=Object(a.useRef)(null),L=Object(a.useRef)(null),k=Object(a.useRef)(null),M=!1,F=!1,H=!1,U=0,B=0,G=function(e){var t=v(e,{isDragging:H,startY:U,currentY:B,childrenRef:P});H=t.isDragging,U=t.startY,B=t.currentY};Object(a.useEffect)((function(){if(n&&P&&P.current)return P.current.addEventListener("touchstart",G,{passive:!0}),P.current.addEventListener("mousedown",G),P.current.addEventListener("touchmove",K,{passive:!1}),P.current.addEventListener("mousemove",K),window.addEventListener("scroll",V),P.current.addEventListener("touchend",W),P.current.addEventListener("mouseup",W),document.body.addEventListener("mouseleave",W),function(){n&&P&&P.current&&(P.current.removeEventListener("touchstart",G),P.current.removeEventListener("mousedown",G),P.current.removeEventListener("touchmove",K),P.current.removeEventListener("mousemove",K),window.removeEventListener("scroll",V),P.current.removeEventListener("touchend",W),P.current.removeEventListener("mouseup",W),document.body.removeEventListener("mouseleave",W))}}),[N,n,r,E,S,c,T]),Object(a.useEffect)((function(){var e,t;(null===(e=w)||void 0===e?void 0:e.current)&&(w.current.classList.contains("ptr--fetch-more-treshold-breached")||c&&b(P)<T&&O&&(w.current.classList.add("ptr--fetch-more-treshold-breached"),F=!0,null===(t=O())||void 0===t||t.then(Y).catch(Y)))}),[c,N]);var Y=function(){var e=function(e){var t=e.containerRef,n=e.pullDownRef,a=e.childrenRef,i=e.pullToRefreshThresholdBreached,c=e.fetchMoreTresholdBreached;return a.current&&(e.childrenRef.current.style.marginTop=0),n.current&&(e.pullDownRef.current.style.opacity="0"),t.current&&(e.containerRef.current.classList.remove("ptr--pull-down-treshold-breached"),e.containerRef.current.classList.remove("ptr--dragging"),e.containerRef.current.classList.remove("ptr--fetch-more-treshold-breached")),i&&(e.pullToRefreshThresholdBreached=!1),c&&(e.fetchMoreTresholdBreached=!1),e}({containerRef:w,pullDownRef:L,childrenRef:P,pullToRefreshThresholdBreached:M,fetchMoreTresholdBreached:F});w=e.containerRef,L=e.pullDownRef,P=e.childrenRef,M=e.pullToRefreshThresholdBreached,F=e.fetchMoreTresholdBreached},K=function(e){var t=function(e,t){var n,a,i;return t.isDragging?(window.TouchEvent&&e instanceof TouchEvent?t.currentY=e.touches[0].pageY:t.currentY=e.pageY,null===(n=t.containerRef.current)||void 0===n||n.classList.add("ptr--dragging"),t.currentY<t.startY?(t.isDragging=!1,t):(t.currentY-t.startY>=t.pullDownThreshold&&(t.isDragging=!0,t.pullToRefreshThresholdBreached=!0,null===(a=t.containerRef.current)||void 0===a||a.classList.remove("ptr--dragging"),null===(i=t.containerRef.current)||void 0===i||i.classList.add("ptr--pull-down-treshold-breached")),t.currentY-t.startY>t.maxPullDownDistance||(t.pullDownRef.current.style.opacity=((t.currentY-t.startY)/65).toString(),t.childrenRef.current.style.overflow="visible",t.childrenRef.current.style.marginTop="".concat(t.currentY-t.startY,"px"),t.pullDownRef.current.style.visibility="visible"),t)):t}(e,{isDragging:H,currentY:B,startY:U,containerRef:w,pullDownThreshold:E,pullToRefreshThresholdBreached:M,maxPullDownDistance:S,pullDownRef:L,childrenRef:P});H=t.isDragging,B=t.currentY,w=t.containerRef,M=t.pullToRefreshThresholdBreached,L=t.pullDownRef,P=t.childrenRef},V=function(e){var t,n;F||c&&b(P)<T&&O&&(F=!0,null===(t=w.current)||void 0===t||t.classList.add("ptr--fetch-more-treshold-breached"),null===(n=O())||void 0===n||n.then(Y).catch(Y))},W=function(){if(H=!1,U=0,B=0,!M)return L.current&&(L.current.style.visibility="hidden"),void Y();P.current&&(P.current.style.overflow="visible",P.current.style.marginTop="".concat(E,"px")),r().then(Y).catch(Y)};return Object(s.jsxs)("div",{className:"ptr ".concat(D),style:{backgroundColor:A},ref:w,"data-testid":R,children:[Object(s.jsxs)("div",{className:"ptr__pull-down",ref:L,"data-testid":"ptr-pulldown-id",children:[Object(s.jsx)("div",{className:"ptr__loader ptr__pull-down--loading",children:f}),Object(s.jsx)("div",{className:"ptr__pull-down--pull-more",children:h})]}),Object(s.jsxs)("div",{className:"ptr__children",ref:P,"data-testid":"ptr-children-id",children:[N,Object(s.jsx)("div",{className:"ptr__fetch-more",ref:k,children:Object(s.jsx)("div",{className:"ptr__loader ptr__fetch-more--loading",children:f})})]})]})}},406:function(e,t,n){"use strict";n.r(t),function(e){var t=n(1),a=n.n(t),i=n(67),c=n.n(i),o=n(344),r=n(396),s=n(9),d=n(397),l=n(46),u=n(16),b=n(398),v=n.n(b),j=n(401),O=n(73),m=n(3),f=n(0),p=["brandPageReducer","splashLoaderReducer","errorReducer","paymentsGoogleSpotReducer","appConfigReducer"],h=["contentReducer","appStateReducer","tenantReducer","profileReducer","cartReducer","orderServReducer","marketConfigReducer","moreReducer","placesAutocompleteReducer","storesReducer","orderLookUpReducer","menuReducer","helpReducer","i18nReducer","paymentsReducer","authReducer","orderReducer","paymentsContentReducer","paymentsGiftCardReducer","createBalanceReducer","privacyPolicyReducer","ourAdsReducer","appUpdateReducer","appRatingsReducer","appConfigsReducer","LoaderReducer","postOrderReducer","ourFaqReducer","contactUsReducer","termsOfUseReducer","feedbackReducer","giftCardReducer","giftCardPurchaseReducer","orderHistoryReducer","microAppPaymentReducer","reorderReducer","appVersionReducer","PlpDisclaimerReducerContent","analyticsReducer","braintreePaymentReducer"],g=function(e){var t=h.indexOf(e);-1!==t&&h.splice(t,1)};Object(m.Kb)()&&(p.push("menuReducer"),p.push("contentReducer"),g("menuReducer"),g("contentReducer"));var N=Object(l.a)(v.a,null,h),x=N.store,E=N.persistor;if(l.c.run(j.a),!0===window.supportsES6){var I,T,C,S,A,y,D,_,R,w=null===(I=e)||void 0===I||null===(T=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===T?void 0:T.REACT_APP_TENANT_CODE,P=null!==(C=null===(S=e)||void 0===S||null===(A=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===A?void 0:A.REACT_APP_API_BASE_URL)&&void 0!==C?C:"".concat(null===(y=window)||void 0===y||null===(D=y.location)||void 0===D?void 0:D.protocol,"//").concat(null===(_=window)||void 0===_||null===(R=_.location)||void 0===R?void 0:R.host);if(!w||!P)throw new Error("Env variables REACT_APP_TENANT_CODE or REACT_APP_API_BASE_URL is missing. Please provide them during build or start");console.log("Loading Application for Tenant: ".concat(w)),O.a.appApiBaseUrl=P,c.a.hydrate(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(s.a,{store:x,children:Object(f.jsx)(d.a,{loading:null,persistor:E,children:Object(f.jsx)(u.b,{children:Object(f.jsx)(o.a,{})})})})}),document.getElementById("root"))}Object(r.a)()}.call(this,n(139))},418:function(e,t){},43:function(e,t,n){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAl:"external"}},44:function(e,t,n){"use strict";t.a={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",OFFERS_DEALS_MODE:"Web",KFC_Gift_Card:"KFC Gift Card"}},45:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"t",(function(){return d})),n.d(t,"p",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return N})),n.d(t,"l",(function(){return x}));var a="offerDeals",i="haveADiscountCode",c="oneCouponPerOrder",o="discountCode",r="apply",s="cartOffersForYou",d="exclusiveOffers",l="couponSuccess",u="Applied",b="Invalidated",v="SET_COUPON_ERROR_MESSAGE",j="SET_COUPON_EXPIRY_MESSAGE",O="Your cart is not eligible for the coupon you applied and it has been removed. ",m="expiredMsg",f="/images/items/no-image.jpg",p="redeem",h="termsConditions",g="termsAndCondition",N="terms-and-conditions",x="Offer Applied"},464:function(e,t,n){},466:function(e,t,n){},48:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"p",(function(){return d})),n.d(t,"q",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"t",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"u",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"r",(function(){return N})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return E})),n.d(t,"s",(function(){return I}));var a="offerDeal",i="offerDeals",c="offer",o="nationalOffers",r="offersForYou",s="SignInToSeeOffers",d="offerApplied",l="redeem",u="viewdetails",b="findKfc",v="login",j="validTo",O=9,m=1,f="viewed",p="of",h="loadMore",g="/images/items/no-image.jpg",N="SHOW_COPY_COUPON_ACTION",x="HIDE_COPY_COUPON_ACTION",E="kfcLocalOffers",I="kfcSignInExclusiveOffers"},499:function(e,t){},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=/^(?!\s)[A-Za-z ]+$/;t.c={IS_DELIVERY:"DELIVERY",IS_TAKEAWAY:"PICKUP",IS_DINEIN:"DINE-IN",CHECKOUT_TITLES:{TITLE:"cartCheckout",DELIVERY_INFO:"deliveryInfo",TAKEAWAY_INFO:"takeawayInfo",DINEIN_INFO:"dineInInfo",DELIVERY_OPTIONS:"deliveryOptions",TAKEAWAY_OPTIONS:"takeawayOptions",DINEIN_OPTIONS:"dineInOptions",CONTACT_INFO:"contactInfo",PAYMENT:"payment"},CHECKOUT_SUMMARY:{QUANTITY_TEXT:"cartItem",QUANTITYS_TEXT:"cartItems",SUBTOTAL:"cartSubTotal",GST:"cartGst",ADDITIONAL_TAX:"cartIncluTax",RESTRNT_HANDLING:"restaurantHandling",ADD_HOPE_HEADER:"addHopeHeader",ADD_HOPE_TEXT:"addHopeText",ADD_BAG_TEXT:"largeCarryBagContent"},ERROR_ALERT:"checkoutAlert",DELIVERY:{LEAVE_AT_MY_DOOR:{TITLE:"leaveatMyDoor",DESC:"leaveatMyDoorDesc"},HAND_IT_TO_ME:{TITLE:"handItToMe",DESC:"",PLACE_HOLDER:"deliveryInstructions"}},TAKEAWAY:{WALK_IN_THE_STORE:{TITLE:"walkInStore",DESC:""},KFC_TO_YOUR_CAR:{TITLE:"KfcToYourCar",DESC:"KfcToYourCarDesc",PLACE_HOLDER:"vehicleInformation"}},DINE_IN:{DINEIN_WALK_IN_THE_STORE:{TITLE:"DineInStore"}},ADD_PAY_METHOD:"addPaymentMethodHeader",ASAP:"asap",ADDRESS_PH:"address2Placeholder",AGREEMENT_LABEL:"subscribeEmail",CONTINUE_PAYMENT:"continuePayment",PLACE_ORDER:"placeOrder",FORM_NAMES:{FULL_NAME:"fullName",PHONE:"phone",EMAIL:"email",SUBSCRIPTION:"subscription",VEHICAL_INFORMATION:"vehicalInformation",DELIVERY_INSTRUCTION:"deliveryInstruction"},SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",PRICE_DECIMAL_DIGIT:2,PHONEPE_SWITCH_CONSTANTS:{SUCCESS:"SUCCESS",FAILURE:"FAILURE"},mandatorynote:"mandatorynote",IS_CURBSIDE:"curbside"}},60:function(e,t,n){"use strict";n.d(t,"i",(function(){return A})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return D})),n.d(t,"h",(function(){return _})),n.d(t,"l",(function(){return R})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return M})),n.d(t,"e",(function(){return F})),n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return U})),n.d(t,"d",(function(){return B}));var a,i=n(2),c=n(6),o=n.n(c),r=n(13),s=n(27),d=n(23),l=n(5),u=n(29),b=n(34),v=n(3),j=n(15),O=n(114),m=d.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,f=d.a.TAKEAWAY_UNAVAILABLE,p=d.a.DINEIN_UNAVAILABLE,h=d.a.TAKE_AWAY_SERVICE,g=d.a.DINE_IN_SERVICE,N=d.a.STORE_STATUS_OPEN,x=d.a.DELIVERY_SERVICE,E=d.a.DELIVERY_UNAVAILABLE,I=d.a.LOCATION_WARNING_MESSAGE,T=[],C=[],S=[],A=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(b.a.localisationSignIn.name,{"%event%":"localisationSignIn"},v.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(b.a.orderNow.name,{"%event%":"orderNow"},v.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push({event:"orderForLater"}),e.next=4,u.a.registerEvent(void 0,{data:t[0]},v.D);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(null===(a=b.a.localisationViewPWA)||void 0===a?void 0:a.name,{"%event%":"localisationView","%viewSelected%":t?Object(l.e)("list"):Object(l.e)("map"),"%orderType%":n},v.D);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(null===(t=b.a.useMyLocation)||void 0===t?void 0:t.name,{data:{event:"useMyLocation"}},v.D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t,n,i,c,o){T=[],a=o,0===(C=e).length&&a([]);var r=C.map((function(e){var a="".concat(t.replace("{storeid}",e.id||e.storeBasic.id));return fetch(a,{headers:{"Content-type":"application/json","x-tenant-id":n,"x-correlation-session-id":i,"x-correlation-request-id":c}})}));Promise.allSettled(r).then((function(e){S=[],e.forEach((function(e,t,n){e.status===d.a.FULFILLED_TEXT&&P(e.value.json(),t===n.length-1)}))})).catch((function(e){return console.log(e)}))},P=function(e,t){S.push(e),t&&Promise.all(S).then((function(e){e.forEach((function(e){T.push({summary:Object(i.a)({},e),module:e})})),L()}))},L=function(){var e=C.map((function(e,t){var n,a,c,o,r,s={id:null!==(n=null===e||void 0===e?void 0:e.id)&&void 0!==n?n:null,tenders:null!==(a=null===(c=T)||void 0===c||null===(o=c[t])||void 0===o||null===(r=o.module)||void 0===r?void 0:r.availableTenders)&&void 0!==a?a:null};return Object(i.a)(Object(i.a)(Object(i.a)({},e),T[t]),{},{module:s})}));a(e)},k=function(e){return e.filter((function(e){return e.channel===j.b.channel}))},M=function(e,t){var n="",a="",i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","EVERYDAY"],c=new Date;return e?(a=i[c.getDay()].toUpperCase(),t.length&&t.filter((function(e){var t,i,c;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.q)(e.availableHours.to,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(i=Object(s.r)(e.availableHours.to,"hhmm","hhA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(c=Object(s.r)(e.availableHours.to,"hhmm","hh:mmA"))||void 0===c?void 0:c.split(" ").join(""));else if(e.day.toUpperCase()===d.a.EVERYDAY){var o,r,u;n=0===(null===(o=Object(s.q)(e.availableHours.to,"hhmm"))||void 0===o?void 0:o.minute())?"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(r=Object(s.r)(e.availableHours.to,"hhmm","hhA"))||void 0===r?void 0:r.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(u=Object(s.r)(e.availableHours.to,"hhmm","hh:mmA"))||void 0===u?void 0:u.split(" ").join(""))}}))):(a=c.getDay()+1>=i.length?i[c.getDay()+1-i.length].toUpperCase():i[c.getDay()+1].toUpperCase(),t.filter((function(e){var t,i,c;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.q)(e.availableHours.from,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(i=Object(s.r)(e.availableHours.from,"hhmm","hhA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(c=Object(s.r)(e.availableHours.from,"hhmm","hh:mmA"))||void 0===c?void 0:c.split(" ").join(""));else if(e.day.toUpperCase()===d.a.EVERYDAY){var o,r,u;n=0===(null===(o=Object(s.q)(e.availableHours.from,"hhmm"))||void 0===o?void 0:o.minute())?"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(r=Object(s.r)(e.availableHours.from,"hhmm","hhA"))||void 0===r?void 0:r.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(u=Object(s.r)(e.availableHours.from,"hhmm","hh:mmA"))||void 0===u?void 0:u.split(" ").join(""))}}))),n},F=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode({location:e},(function(e,t){"OK"===t?e[0]?n(e[0].formatted_address):(console.log("No results found"),a(e)):(console.log("Geocoder failed due to: "+t),a(e)),n(e[0].formatted_address)}))}))},H=function(e,t){var n,a,i,c,o,r=[],s=[];switch(e.toLowerCase()){case"delivery":i=x,c=Object(l.e)(E),o=Object(l.e)(E);break;case"takeaway":c=Object(l.e)(f),i=Object(l.e)(h),o=Object(l.e)(m);break;case"dine-in":i=g,c=Object(l.e)(p),o=Object(l.e)(p)}return null===t||void 0===t||t.map((function(e,t){var n,c;if((null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(c=n.status)||void 0===c?void 0:c.currentStatus)!==N&&s.push(e),null===e||void 0===e?void 0:e.availableServicesPerChannel){var o,d,l,u=(null===(d=a=null===e||void 0===e||null===(o=e.availableServicesPerChannel)||void 0===o?void 0:o.filter((function(e){return e.channel===j.b.channel})))||void 0===d?void 0:d.length)?null===(l=a[0])||void 0===l?void 0:l.services:[];!u.includes(i)&&u.length&&r.push(e)}})),(null===t||void 0===t?void 0:t.length)===(null===r||void 0===r?void 0:r.length)?c:(null===(n=a)||void 0===n?void 0:n.length)&&(null===t||void 0===t?void 0:t.length)!==(null===s||void 0===s?void 0:s.length)?null:o},U=function(e,t){return e.name[0].value<t.name[0].value?-1:e.name[0].value>t.name[0].value?1:0},B=function(e,t){Object(v.r)(e,!t)&&Object(v.I)(Object(l.e)(O.a.contentData.deliveryHeaderText),Object(l.e)(I))}},613:function(e,t,n){},68:function(e,t,n){"use strict";var a=n(2),i=n(99),c=(n(1),n(0)),o=["ariaLable","className","onClickHandler","onKeyDownHandler"];t.a=function(e){var t=e.ariaLable,n=e.className,r=e.onClickHandler,s=e.onKeyDownHandler,d=Object(i.a)(e,o);return Object(c.jsx)("button",Object(a.a)(Object(a.a)({className:n||"closebtn-cls",role:"button","aria-label":t||"Close",onClick:r,onKeyDown:s},d),{},{children:e.children}))}},70:function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"k",(function(){return h}));var a=n(36),i=n(2),c=n(3),o=n(184),r=n(45),s=n(27),d=function(e){return e&&e.length&&e.reduce((function(e,t){var n=t.key,o=t.value;return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},function(e){return"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1))}(n),"TRUE"===String(o).toUpperCase()||"FALSE"!==String(o).toUpperCase()&&Object(c.Mb)(o)))}),{})},l=function(e){return e.map((function(e){var t,n,a,c,o,r,s,l,u,j,O,m,f,p,h;return Object(i.a)({discountCode:null===e||void 0===e?void 0:e.code,heading:(null===e||void 0===e||null===(t=e.promotionDetails)||void 0===t?void 0:t.title)&&(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.title.length)&&b(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a||null===(c=a.title[0])||void 0===c?void 0:c.value),description:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.description)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r?void 0:r.description.length)&&(null===e||void 0===e||null===(s=e.promotionDetails)||void 0===s||null===(l=s.description[0])||void 0===l?void 0:l.value),imageSrc:(null===e||void 0===e||null===(u=e.promotionDetails)||void 0===u?void 0:u.image)&&(null===e||void 0===e||null===(j=e.promotionDetails)||void 0===j?void 0:j.image.length)&&(null===e||void 0===e||null===(O=e.promotionDetails)||void 0===O||null===(m=O.image[0])||void 0===m?void 0:m.value),endTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:v(null===e||void 0===e||null===(f=e.promotionDetails)||void 0===f?void 0:f.conditions),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(p=e.promotionDetails)||void 0===p?void 0:p.cardType},d(null===e||void 0===e||null===(h=e.promotionDetails)||void 0===h?void 0:h.customProperties))}))},u=function(e){return{discountCode:null===e||void 0===e?void 0:e.couponCode,heading:null===e||void 0===e?void 0:e.titleValue,description:null===e||void 0===e?void 0:e.smallText,endTime:null===e||void 0===e?void 0:e.validityEndTime,isApplied:null===e||void 0===e?void 0:e.isApplied}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e&&e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>"),n=Object(o.a)("".concat(t));return n},v=function(e){return e&&e.map((function(e){return{displayOrder:e.displayOrder,message:e.displayMessage[0].value}})).sort((function(e,t){return+e.displayOrder-+t.displayOrder}))},j=function(e){if(e){var t=Object(s.p)(e),n=Object(s.g)(),a=Object(s.m)(t,n,"seconds"),i=String(a).includes("-");return t.isValid()&&!i}return!1},O=function(e){var t=Object(s.p)(e),n=Object(s.g)(),a=Object(s.m)(t,n,"hour"),i=n.add(a,"hours"),c=Object(s.m)(t,i,"minute"),o=i.add(c,"minutes"),r=Object(s.m)(t,o,"second");return"".concat(a,"HR : ").concat(c,"M : ").concat(r,"S")},m=function(e){var t=Object(s.p)(e);return Object(s.e)(t,"DD/MM/YY")},f=function(e){var t=Object(s.p)(e);return Object(s.e)(t,"DD/MM/YYYY")},p=function(e){var t,n,a,i,c=null===e||void 0===e?void 0:e.promoConditionStatus.filter((function(e){return!(null===e||void 0===e?void 0:e.isValidCondition)}));return(null===e||void 0===e||null===(t=e.basicErrors)||void 0===t?void 0:t.length)?r.e+(null===e||void 0===e||null===(n=e.basicErrors[0])||void 0===n?void 0:n.message):(null===c||void 0===c?void 0:c.length)?r.e+(null===(a=c[0])||void 0===a||null===(i=a.displayMessage[0])||void 0===i?void 0:i.value):void 0},h=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||""}},8:function(e,t,n){"use strict";n.d(t,"rb",(function(){return a})),n.d(t,"ub",(function(){return i})),n.d(t,"sb",(function(){return c})),n.d(t,"tb",(function(){return o})),n.d(t,"eb",(function(){return r})),n.d(t,"v",(function(){return s})),n.d(t,"r",(function(){return d})),n.d(t,"nb",(function(){return l})),n.d(t,"s",(function(){return u})),n.d(t,"w",(function(){return b})),n.d(t,"q",(function(){return v})),n.d(t,"K",(function(){return j})),n.d(t,"U",(function(){return O})),n.d(t,"I",(function(){return m})),n.d(t,"D",(function(){return f})),n.d(t,"T",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"fb",(function(){return g})),n.d(t,"zb",(function(){return N})),n.d(t,"L",(function(){return x})),n.d(t,"Hb",(function(){return E})),n.d(t,"Fb",(function(){return I})),n.d(t,"Ib",(function(){return T})),n.d(t,"Gb",(function(){return C})),n.d(t,"kb",(function(){return S})),n.d(t,"j",(function(){return A})),n.d(t,"xb",(function(){return y})),n.d(t,"mb",(function(){return D})),n.d(t,"lb",(function(){return _})),n.d(t,"y",(function(){return R})),n.d(t,"x",(function(){return w})),n.d(t,"m",(function(){return P})),n.d(t,"P",(function(){return L})),n.d(t,"i",(function(){return k})),n.d(t,"ib",(function(){return M})),n.d(t,"Eb",(function(){return F})),n.d(t,"vb",(function(){return H})),n.d(t,"wb",(function(){return U})),n.d(t,"Q",(function(){return B})),n.d(t,"Bb",(function(){return G})),n.d(t,"Cb",(function(){return Y})),n.d(t,"p",(function(){return K})),n.d(t,"gb",(function(){return V})),n.d(t,"o",(function(){return W})),n.d(t,"cb",(function(){return q})),n.d(t,"hb",(function(){return z})),n.d(t,"A",(function(){return Q})),n.d(t,"B",(function(){return J})),n.d(t,"z",(function(){return X})),n.d(t,"ab",(function(){return Z})),n.d(t,"qb",(function(){return $})),n.d(t,"Z",(function(){return ee})),n.d(t,"S",(function(){return te})),n.d(t,"bb",(function(){return ne})),n.d(t,"b",(function(){return ae})),n.d(t,"h",(function(){return ie})),n.d(t,"d",(function(){return ce})),n.d(t,"n",(function(){return oe})),n.d(t,"Y",(function(){return re})),n.d(t,"a",(function(){return se})),n.d(t,"C",(function(){return de})),n.d(t,"F",(function(){return le})),n.d(t,"ob",(function(){return ue})),n.d(t,"l",(function(){return be})),n.d(t,"pb",(function(){return ve})),n.d(t,"R",(function(){return je})),n.d(t,"O",(function(){return Oe})),n.d(t,"t",(function(){return me})),n.d(t,"J",(function(){return fe})),n.d(t,"W",(function(){return pe})),n.d(t,"f",(function(){return he})),n.d(t,"N",(function(){return ge})),n.d(t,"G",(function(){return Ne})),n.d(t,"yb",(function(){return xe})),n.d(t,"V",(function(){return Ee})),n.d(t,"u",(function(){return Ie})),n.d(t,"M",(function(){return Te})),n.d(t,"db",(function(){return Ce})),n.d(t,"k",(function(){return Se})),n.d(t,"H",(function(){return Ae})),n.d(t,"X",(function(){return ye})),n.d(t,"g",(function(){return De})),n.d(t,"jb",(function(){return _e})),n.d(t,"E",(function(){return Re})),n.d(t,"Ab",(function(){return we})),n.d(t,"e",(function(){return Pe}));var a="DELIVERY",i="PICKUP",c="DINE-IN",o="TAKEAWAY",r="pickup",s="dine-in",d="delivery",l="Pickup",u="Delivery",b="Dine in",v="no-image.jpg",j="Homepage",O="Menu",m="GiftCards",f="FAQ",p="MenuCategory",h="ASAP",g="Product",N="USER_SELECTED_LANGUAGE",x="homeContentfulResp",E=function(){},I=[],T={},C=document.createElement("div"),S="6LfV2X8UAAAAAG_yyymEZiRSaVnxwZKjzgl1973q",A="MIN_SUPPORTED_BROWSERS",y="unsupportedBrowser",D="mobile",_="desktop",R="dispositionOld",w="dispositionNew",P="currentStoreInfo",L="(min-width:650px) and (max-width:1024px)",k="cart",M="_self",F="loggedIN",H="Item added to Cart",U="Items added to Cart",B="KFC",G="[0].availableHours.from",Y="[0].availableHours.to",K=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","EVERYDAY"],V={CART:"Page_Title_Cart",OFFERS:"Page_Title_Offers",LOGIN:"Page_Title_Login",HELP:"Page_Title_Help",CHECKOUT:"Page_Title_Checkout",PAYMENT_FAILURE:"Page_Title_Payment_Failure",PAYMENT_SUCCESS:"Page_Title_Payment_Success",PAYMENT_STATUS:"Page_Title_Payment_Status",OUR_ADDS:"Page_Title_Our_Adds",CONTACT_US:"Page_Title_ContactUs",TERMS_OF_USE:"Page_Title_TermsOfUse",TERMS_CONDITIONS:"Page_Title_Terms_Conditions",FAQ:"Page_Title_Faq",GIFT_CARD:"Page_Title_Gift_Card",PRIVACY_POLICY:"Page_Title_Privacy_Policy",SIGN_OUT:"Page_Title_Sign_out",ACCOUNT:"Page_Title_Account",NOT_FOUND:"Page_Title_Not_Found"},W={TOKEN_EXPIRY_GRACE_PERIOD:"TOKEN_EXPIRY_GRACE_PERIOD",USER_RESET_GRACE_TIME_MINUTES:"USER_RESET_GRACE_TIME_MINUTES",USER_RESET_WARNING_GRACE_TIME_MINUTES:"USER_RESET_WARNING_GRACE_TIME_MINUTES",GOOGLE_SPOT_AUTH_SCOPE:"GOOGLE_SPOT_AUTH_SCOPE",HEADER_ATTR_DATA_ID:"root-header",HEADER_SIGN_IN_ATTR_DATA_ID:"header-sign-in",CHECKOUT_SIGN_IN_ATTR_DATA_ID:"checkout-sign-in",VIEWPORT_AGENT_BROWSER:"web",VIEWPORT_AGENT_GOOGLE:"GPay-Microapps",VIEWPORT_AGENT_PHONE_PE:"phonepe",VIEWPORT_AGENT_PAY_TM:"AppContainer",VIEWPORT_CHANNEL_BROWSER:"web",VIEWPORT_CHANNEL_GOOGLE:"google-pay-spot",VIEWPORT_CHANNEL_PHONE_PE:"phonepe-in-app",VIEWPORT_CHANNEL_PAY_TM:"paytm-miniapp",VIEWPORT_CLASSNAME_DEBUG:"channel-debug",VIEWPORT_CLASSNAME_BROWSER:"channel-browser",VIEWPORT_CLASSNAME_GOOGLE:"channel-google-pay",VIEWPORT_CLASSNAME_PHONE_PE:"channel-phone-pe",VIEWPORT_CLASSNAME_PAY_TM:"channel-pay-tm",QR_CODE_VALID_TIME_MINS:"QR_CODE_VALID_TIME_MINS",Status:{Pass:"SUCCESS",Pending:"SUBMITTED",Fail:"FAILURE"},Setting:{Google:{Source:"https://microapps.google.com/apis/v1alpha/microapps.js",Nonce:null,Prompt:!0},Accuracy:!0,Retry:3,Interval:500,Timeout:5e3,Expiration:0,Storage:{Store:"storeInfo"}},Debug:{Navigator:{UserAgent:{Browser:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36",Google:"Mozilla/5.0 (Linux; Android 11; moto g fast Build/RPJS31.Q1-53-12-5; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.164 Mobile Safari/537.36 [GPay-Microapps/132.1.5 (arm64-v8a_release_flutter) flutter]"}},Google:{Coordinates:{longitude:78.372658,latitude:17.442791},Address:"gachibowli, hyderabad, telangana, india",Name:"isaac ewing",Email:"isaac.ewing@cognizant.com",Phone:"9725550178",OrderId:"VGUH0124248666",BasketId:"146258421991",Token:{Phone:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmNWQ0MDA2ZDYxMzVhYTcxN2UxMzA5YzllYzM0YmE5ODljMjlhZTEiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJodHRwczovL21pY3JvYXBwcy5nb29nbGUuY29tLzE1NDM0NDQwNjQxOTQ0MjM0Mzk2IiwiaXNzIjoiaHR0cHM6Ly9taWNyb2FwcHMuZ29vZ2xlLmNvbSIsInBob25lX251bWJlcl92ZXJpZmllZCI6dHJ1ZSwicGhvbmVfbnVtYmVyIjoiKzEgOTcyODMyMDE3OCIsImV4cCI6MTYyNjI4MjkxOCwiaWF0IjoxNjI2Mjc5MzE4fQ.PaR80j_eFsIdNIWtRLq5Xx1nxs0c4RVRBrUvXRe6JnyqqtwYrya4wWGlqQAlpwLSpKNuVDbaHUmJV7CEkiCPslLn6hDIut9IkImBIhWoBlYFApu7ghrZIoYH9pVjswUVpNjWhv7p6U8VJ26pcunsm24AaxYTBVsEOSBv4OXyV0NuxbZeYR_agxyejZXWOnKm6TuZkaNIqqG5Q9QdUrPPvIIaKTDnmIm5AKtpydXRGgzNwNb3wjnV9L1HxAkKFrivh7PDW1dxTJ8sIen8XKgRkL3Pj4KClNVzWiiyeQT6ifGH74ilXmV4w7Q337R69hBA0nNyQ8o6t7XtQw9gsbZnOQ",Identity:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjNkZjBhODMxZTA5M2ZhZTFlMjRkNzdkNDc4MzQ0MDVmOTVkMTdiNTQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2Mjc2MjkzODcsImF1ZCI6IjEwMjU4NjI4MTY3MjYtdjFwOGY0dmlqYjh0NDdncGFkaXUzMHBtNGljaGh1M3UuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTY5MjcwNTAxNjgyNDc5MDA2MTEiLCJlbWFpbCI6Im0uc2FybzE5OThAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF6cCI6IjEwMjU4NjI4MTY3MjYtdjFwOGY0dmlqYjh0NDdncGFkaXUzMHBtNGljaGh1M3UuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJuYW1lIjoiU2FyYXZhbmEgR2FuZXNoIE0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFUWEFKenJVOWFxbXJxM0ZWVnI0QXFMTkEtdXhEcWZ5VkdNOXRLSlJQbzk9czk2LWMiLCJnaXZlbl9uYW1lIjoiU2FyYXZhbmEgR2FuZXNoIiwiZmFtaWx5X25hbWUiOiJNIiwiaWF0IjoxNjI3NjI5Njg3LCJleHAiOjE2Mjc2MzMyODcsImp0aSI6ImViZWNlOTY5MzczMDVkNTIzZjcxZTY4NWMxOWMzMTdkNGVjODcwNDIifQ.NJOMLzzUffqj6ihraIQv1ahjFpFuYQ2x-Jx5ERNln736Iz-bJeS0IruGinCqOSMGIwnfJYfYR31FfHt-RRhSidj7NCGA1UiMkm9HaX1CrUPNDN44SSUNz1Qxtoeu7K6rhTV-pRFJiuQ2MVky96hl4i012_EdDLa4gEv3JqCx6aL6E08mru9-vLN7T504oZj7jreJAK6Y_5Ne2C8mrQT785_qybJAthNxSQOKjTsBc3gHzHumjvGjNZfPEtKpHmuxVu-0Jq2_F5Cq3wZd07sZkSPKqzAld_UF8xesSRGYj7I6udZEf81cAjXgyeRouUmO8I0sHToiKlzNMPAnNBAgKg"},Payment:{Response:{apiVersion:2,apiVersionMinor:0,paymentMethodData:{type:"UPI",tokenizationData:{type:"DIRECT",token:'{"protocolVersion":"ECV2","signature":"","signedMessage":"{\\"paymentMethod\\":\\"UPI\\",\\"paymentMethodDetails\\":{\\"payeeVpa\\":\\"yumrestaurantindia.billdesk@hdfcbank\\",\\"transactionReferenceId\\":\\"UGUH0002036496\\",\\"transactionId\\":\\"779306059769\\",\\"status\\":\\"SUCCESS\\",\\"transactionInfo\\":{\\"currencyCode\\":\\"INR\\",\\"totalPriceStatus\\":\\"FINAL\\",\\"totalPrice\\":\\"2.00\\",\\"transactionNote\\":\\"\\"}},\\"messageExpiration\\":\\"1627567541475\\"}"}'}}}},Order:{Channel:!0,Olo:!0}}}},q={CREDIT_CARD:"credit-card",GIFT_CARD:"giftcard",NET_BANKING:"net-banking",OTHER_WALLET:"other-wallet",PAY_BY_CASH:"pay-by-cash",PAYTM:"paytm",PHONEPE:"phonepe",GOOGLE_PAY_SPOT:"google-pay-spot",UPI:"upi",PAYTM_MINIAPP:"paytm-miniapp",PHONEPE_SWITCH:"phonepe-in-app"},z={HOME:"",HOME_PAGE:"/",CART:"/cart",CHECKOUT:"/checkout",GIFT_CARD:"/giftcards",PAYMENT_SUCCESS:"/payment-success",PAYMENT_FAILURE:"/payment-failure",ORDER_DETAILS:"/order-details",HELP:"/help",ACCOUNT:"/account",TRACK_ORDERS:"/track-orders",PAYMENT_STATUS_CHECK:"/payment-status-check",ACTIVE_ORDERS:"/active-orders",SIGNOUT:"/signout"},Q={DELIVERY:"DELIVERY",DINE_IN:"DINE-IN",PICKUP:"PICKUP"},J={DELIVERY:"Delivery",DINE_IN:"Dine in",PICKUP:"Pick up"},X=[Q.DELIVERY,Q.DINE_IN,Q.PICKUP],Z={STAGED:"STAGED",ACCEPTED:"ACCEPTED",SENT_TO_POS_COMPLETED:"SENT-TO-POS-COMPLETED",CANCELLED:"CANCELLED",PAYMENT_FAILED:"PAYMENT-FAILED",SENT_TO_POS_FAILED:"SENT-TO-POS-FAILED",CREATED:"CREATED",ASSIGNED:"ASSIGNED",PICKED_UP:"PICKED-UP",OUT_FOR_DELIVERY:"OUT FOR DELIVERY",ARRIVED:"ARRIVED",DELIVERED:"DELIVERED",CANCEL:"CANCEL"},$={ESTIMATED_ARRIVAL:"estimatedArrival",DELIVERED_AT:"deliveredAt",ORDER_RECEIVED:"orderReceived",ENJOY_MEAL:"enjoyMeal",ASK_FOR_OTP:"askForOTP",ORDER_READY:"orderGettingReady",FOUND_DRIVER:"foundDriver",CANCEL_ORDER:"cancelOrder",CANCEL_ORDER_REFUND:"cancelOrderRefund",BUSINESS_DAYS:"businessDays"},ee={STAGED_ACCEPTED:"STAGED-ACCEPTED",PICKUP_DELIVERY_DINE_IN:"PICKUP-DELIVERY-DINE-IN",DELIVERY_DISTA_CREATE_ASSIGN:"DELIVERY_DISTA_CREATE_ASSIGN",DELIVERY_DISTA:"DELIVERY-DISTA",DELIVERY_DISTA_DELIVERED:"DELIVERY_DISTA_DELIVERED",FAILED:"FAILED",CANCELLED:"CANCELLED"},te={ORDER_TRACKING:"orderTracking",POST_PAYMENT_TYPE:"postPaymentType",PAYMENT_STATUS:"paymentStatus",DISPOSITION_NEW:"dispositionNew",TENANT_REDUCER:"tenantReducer",RETAIN_ADDRESS:"searchStoreByAttribute",SERVICE_TYPE:"serviceType",STORE_ID:"storeId",DISPOSITION_TYPE:"dispositionType"},ne={SUCCESS:"Success",FAILED:"Failed",STATUS_TEXT:"paymentStatus"},ae={MINIMUM_AMOUNT:"BSDE0027",MAXIMUM_AMOUNT:"BSDE0028"},ie=[{breakpoint:1350,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,variableWidth:!0}}],ce={SKIPPED:"skipped",TOKEN_EXPIRED:"tokenExpired",CONTINUE_AS_GUEST:"continueAsGuest",SIGN_IN:"signIn",CONTINUE:"continue",OOPS_WENT_WRONG:"oopsWentWrong",RETAIN_CART_MESSAGE:"retainCart"},oe="currentFavMenu",re="NA",se="/account",de="ecommerce",le="fields",ue="title",be="content",ve="topics",je="linkText",Oe="internalurl",me="description",fe="headline",pe="name",he="buttonText",ge="image",Ne="file",xe="url",Ee="mobileImage",Ie="desktopImage",Te="icon",Ce="phoneNumber",Se="CONTACT US",Ae="Get Help",ye="Nearest KFC",De="Call us",_e="SHARE YOUR EXPERIENCE",Re="FAQ Topics",we="ViewAllFAQ",Pe=["KUKDUKOO"];t.Db={KEY_CHAR_CODE:{SPACE:32,ENTER:13},CMS_CONTENT_TYPES:{LOGO_ICON:"logoicon",MULTI_TEXT:"multiTypeText",CALL_TO_ACTION:"callToAction",NAVIGATION_LINK:"navigationLink"}}},90:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return o}));var a={WHITE:"#fff"},i={DEV:"development"},c="HIDE_CONSOLE_LOGS",o={Template1:"brandPageTemplate1",Template2:"brandPageTemplate2"}},92:function(e,t,n){"use strict";t.a={DISPOSITION_TYPE:{TYPE_DINE_IN:"DINE-IN",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP"},DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:"SET_QR_DEEPLINK_MODE"},FIND_OPEN_KFC_TEXT:"findOpenKfc",INVALID_QR_TEXT:"invalidQRCodeError",CLOSED_STORE_MODAL_SUBTITLE:"closeStoreModelSubTitle",TAKEAWAY_STORE_CLOSED_TEXT:"takeawayStoreClosed",DINE_IN_STORE_CLOSED_TEXT:"dineInStoreClosed",SWITCH_TO_TAKEAWAY_TEXT:"switchToTakeaway",SWITCH_TO_DINEIN_TEXT:"switchToDineIn"}}},[[406,3,4]]]);